function setPasswordRestoreLink(e,t){null!=t&&""!=t&&t.indexOf("@")>-1?$(e).attr("href","/restore/?login="+t):$(e).attr("href","/restore/")}function sendApiRequest(e,t){var n=window.location.hostname,i="https://gnapi.com/",o=location.host.substr(-4);return".dev"===o||".stg"===o?(n=n.substr(0,n.lastIndexOf(".")),n=n.substr(n.lastIndexOf(".")+1),i="//api."+n+o+"/"):n.indexOf(".stg.gamenet.ru")>0&&(i="//api"+n.substr(n.indexOf("."))),$.getJSON(i+"?format=json",e,t)}function friendsList(){this.pageLoaded=1,this.filterType="all",this.pageType="friends",this.ajaxUrls={friends:"moreFriends",invites:"/friends/moreInvites",mutual:"/mutual/moreMutual",friendsingames:"/friendsingames/more"},this.selfProfile=!0}function showFriendsReasons(e){$.ajax({url:"/mutual/reasons",data:{id:e},type:"POST",dataType:"html",success:function(e){popUp.show(e),user_list_popup()}}),$(".b_friends_reasons_id").text(e)}function gnPaging(e,t,n,i){$(function(){$(window).scrollTop(0)});var o=this;this.loaded=e?e:0,this.ajaxUrl=t?t:"",this.ajaxParams=n?n:{},this.blocked=!1,this.callback=null,this.disabled=!1,this.perPage=i?i:10,this.pageCount=0,this.pagingLimit=3,this.alwaysAuto=!1,this.initScrollElement(),$(window).scroll(function(e){if(o.blocked||o.disabled)return!1;var t=$(window).scrollTop()+$(window).height();t+100>o.buttonElementOffset&&(o.blocked=!0,o.showMore(o.perPage))})}function PostImageUploader(){}function AlbumUploader(){}function guildAvatarUploader(){}function addPost(e,t,n,i,o,r,s,a,l,c){$.ajax({url:"/ugc/add"+o+"/",data:{message:e,title:t,entityId:n,entityType:i,captcha:a,parentId:l,isCommentable:c},dataType:"html",type:"POST",success:function(e){return dispatchError(e)?(popUp.itShowing()&&popUp.hide(),void s()):void($(e).find(".js-popup").size()>0?(popUp.itShowing()?popUp.assign(e):popUp.show(e),$("#captcha").focus()):(popUp.itShowing()&&popUp.hide(),r(e),$(e).find(".js-new-exp").size()>0&&addExpHtml($(e).find(".js-new-exp").text()),$(e).find(".js-new-ach").size()>0&&(newAchievements.show(),$(".js-new-ach").remove())))}})}function addPostCaptcha(){var e=$(".js_captcha").find("input[name='captcha']").val();$(".js-post-compose-form").find("input[name='captcha']").val(e),$(".js-post-compose-form").submit()}function setLike(e,t,n){var i=$(".id_"+e).parents(".b_stream_item");$.ajax({url:"/ugc/setLike/",data:{objectId:e,objectType:t,vote:n},dataType:"text json",type:"POST",success:function(o){if(1==o.result){var r=i.find(".b_stream_message_action_like_qt").find(".count_like").html();if(1==n){r=parseInt(r)+1;var s="������ �� ��������",a=0;1==r?i.find(".b_stream_message_comments_item_likes").html('<div class="b_stream_message_comments_item b_recent_activity_item_like"><table><tbody><tr><td class="b_recent_activity_icon"><span class="b_recent_activity_icon"></span></td><td><span>��� ��� ��������</span></td></tr></tbody></table></div>').show():i.find(".b_recent_activity_item_like_u_all").prepend('<span class="b_recent_activity_item_like_u">���, </span>')}else{r=parseInt(r)-1;var s="��� ��������",a=1;0==r?i.find(".b_recent_activity_item_like").hide():i.find(".b_recent_activity_item_like_u").hide()}i.find(".count_like").html(r),i.find(".b_stream_message_action_like").html("<span onclick=\"setLike('"+e+"', '"+t+"', "+a+')">'+s+"</span>")}}})}function deletePost(e){jConfirm("������� ����?","/common/picts/close_max.png",function(t){t&&$.ajax({url:"/ugc/deleteEvent/",data:{eventId:e},dataType:"text json",type:"POST",success:function(t){return 0==t.result?void jAlert("�� ������� ������� ����. ���������� �����.","/common/picts/close_max.png"):($(".id_"+e).parents(".js_block_delete__t1").hide(),void(void 0!=window.paging&&window.paging.decr()))}})})}function deletePostAsSpam(e){jConfirm("������� ���� ��� ����?","/common/picts/close_max.png",function(t){t&&$.ajax({url:"/ugc/deleteEvent/",data:{eventId:e,spam:!0},dataType:"text json",type:"POST",success:function(t){return 0==t.result?void jAlert("�� ������� ������� ����. ���������� �����.","/common/picts/close_max.png"):($(".id_"+e).parents(".js_block_delete__t1").hide(),void(void 0!=window.paging&&window.paging.decr()))}})})}function deleteEvent(e){jConfirm("������� �����������?","/common/picts/close_max.png",function(t){t&&$.ajax({url:"/ugc/deleteEvent/",data:{eventId:e},dataType:"text json",type:"POST",success:function(t){1==t.result&&$(".event_"+e).hide()}})})}function showAllLike(e,t){$.ajax({url:"/ugc/getLikers/",data:{objectId:e,objectType:t},dataType:"html",type:"POST",success:function(e){popUp.show(e),user_list_popup()}})}function ignorPostAll(e){var e=e;jConfirm("���������� �� �������� "+e+"?","/common/picts/close_max.png",function(t){t&&$.ajax({url:"/settings/setignore/",data:{type:"event",nickname:e},dataType:"text json",type:"POST",success:function(t){jAlert("�� ���������� �� �������� "+e,"/common/picts/icon_delete_user.png")}})})}function ignorPost(e){jConfirm("������ ��� �����������?","/common/picts/close_max.png",function(t){t&&$.ajax({url:"/ugc/removeEvent/",data:{eventId:e},dataType:"text json",type:"POST",success:function(t){$(".id_"+e).parents(".js_block_delete__t1").hide()}})})}function editPost(e,t,n,i,o,r,s){$.ajax({url:"/ugc/editPost/",data:{eventId:e,message:t,title:n,parentId:r,isCommentable:s},dataType:"html",type:"POST",success:function(e){return $(".js-post-compose").addClass("g-hidden"),dispatchError(e)?void o():(i(e),editorSubmitAsEditPostId=0,void(editorSubmitAsEditEventId=0))}})}function editPostInEditor(e){$(".js-post-compose").removeClass("g-hidden"),$.ajax({url:"/ugc/getPostContent/",data:{eventId:e},dataType:"text json",type:"GET",success:function(t){if(0==t.result)return void jAlert("�� ������� ������� ����. ���������� �����.","/common/picts/close_max.png");composeForm.toExtendedView(),composeForm.unlock(),window.scrollTo(0,0),$(".js-wysiwyg-placeholder").addClass("g-hidden"),$("#wallPost").text("");var n=$("#wallPost").tinymce();n.setContent(t.text,{format:"raw"});var i=$(".js-post-compose-form").find("input[name='title']"),o=$(".js-post-compose-form").find("select[name='parentId']"),r=$(".js-post-compose-form").find("input[name='isCommentable']");if(i&&i.val(t.title),o){{var s=o.find("option[value='"+t.parentId+"']");s.text()}s.attr("selected","selected")}r&&(1==t.isCommentable?r.attr("checked","checked"):(console.log(r),r.removeAttr("checked"))),editorSubmitAsEditPostId=t.postId,editorSubmitAsEditEventId=e}})}function deleteAllAndBan(e,t,n,i){jPrompt("�������?","������� ������� ����������","/common/picts/close_max.png",function(o){o&&$.ajax({url:"/ugc/deleteAllPostOfUser/",data:{entityId:e,entityType:t,targetId:n,banDays:i,reason:o,doNotDelete:0},dataType:"text json",type:"POST",success:function(e){return 0==e.result?void jAlert("�� ������� ������� ����. ���������� �����.","/common/picts/close_max.png"):void jAlert("������ ����� ����� �������","/common/picts/icon_v.png")}})})}function blockWall(e,t,n,i){jPrompt("��������?","������� ������� ����������","/common/picts/close_max.png",function(o){o&&$.ajax({url:"/ugc/deleteAllPostOfUser/",data:{entityId:e,entityType:t,targetId:n,banDays:i,reason:o,doNotDelete:1},dataType:"text json",type:"POST",success:function(e){return 0==e.result?void jAlert("�� ������� ������������� ������������. ���������� �����.","/common/picts/close_max.png"):void jAlert("������������ ������������.","/common/picts/icon_v.png")}})})}function setStatesForCommentForm(e){var t=e?$(e):document;$(t).find(".js-add-comment-form").each(function(e){function t(){var e=i.val();e.replace(/[\s ]{1,}/g,"").length>0?o.removeAttr("disabled"):o.attr("disabled","disabled")}var n=$(this),i=n.find("textarea"),o=n.find("button[type='submit']");o.attr("disabled","disabled"),i.bind("keyup drop focus change",function(){t()}),i.bind("paste",function(){setTimeout(function(){t()},50)}),i.keydown(function(e){(e.ctrlKey&&13==e.keyCode||10==e.keyCode)&&o.click()})})}function dispatchError(e){if(0==jQuery.trim(e).length)return jAlert("��� �������� ������ ��� ����������� ��������� ����������� ������. ��� ������ �� ��������, ��� ������ �� ������ ��������. �������� �������� � ���������� ��� ���.","/common/picts/icon_x.png"),!0;var t={e0:"��� ���������� ����������� ��������� ������. ������ ����� ����� ������� �����-������ �����, �� ������ �������� � ������ ��� ����� ������. ���������� �������� ��������.",e1:"��� �������� ������ ��� ����������� ��������� ������. ������ ������������ ����������� ���, ��� ��� ���������� ������������ ��� �������� ������������ �������.",e2:"��������� ������. �������� ������� �������� �������� ������ � �������� �� ����� �����.",e3:"��� �������� ������ ��� ����������� ��������� ������. ������ ������������ ����������� ���, ��� ��� � ���������� ���������� �����, ���������� ������� ������� � ������� GameNet.",e4:'� ���������, �� �� ����� ���� ��� ����������� ������ �����. �� � ���� ����� ���������. ����������, ��������� ��� <a href="/security/activation-mobile/" target="_blank">����� ��������</a> ��� <a href="/settings/#social_account" target="_blank">������� ���������</a>.'};return t[e]?(jAlert(t[e],"/common/picts/icon_x.png"),!0):!1}function showAllComment(e,t){var n=$(".id_"+e+"_"+t);$.ajax({url:"/ugc/getComments/",data:{objectId:e,objectType:t,offset:0},dataType:"html",type:"POST",success:function(i){n.find(".b_stream_message_comments_item_all").html(i),$(".id_"+e+"_"+t).find(".b_recent_activity_item_show_comment").hide();var o=$(".id_"+e+"_"+t).find(".b_stream_message_comments_item_all");showTimeAdd(o),block_delete()}})}function showMoreCommentPost(e,t,n,i){var o=$(".id_"+e+"_"+t),n=n,r=parseInt($(".count_comments_show").html()),i=void 0==i||0==i?30:i;$.ajax({url:"/ugc/getComments/",data:{objectId:e,objectType:t,offset:offset,count:i},dataType:"html",type:"POST",success:function(s){o.find(".b_stream_message_comments_item_all_old").prepend('<div class="b_stream_message_comments_item_old"></div>'),o.find(".b_stream_message_comments_item_old:first").html(s),offset+=i,r+=i,r>n?($(".count_comments_show").html(n),$(".id_"+e+"_"+t).find(".b_recent_activity_item_show_comment").hide()):$(".count_comments_show").html(r);var a=$(".id_"+e+"_"+t).find(".b_stream_message_comments_item_all_old .b_stream_message_comments_item_old:first .b_stream_message_comments_item");showTimeAdd(a),block_delete()}})}function showMore(e,t,n){var t=t;return sM+=n,$.ajax({type:"POST",url:"/ugc/getFeed/",data:{entityId:profileId,entityType:locationType,type:e,offset:sM},success:function(e){$(".js-more-posts").removeClass("js-more-posts"),$(".b_stream").append('<div class="js-more-posts b_stream_add_'+sM+'">'+e+"</div>"),setStatesForCommentForm(".js-more-posts"),block_delete();var n=$(".b_stream_add_"+sM).find(".b_stream_item");showTimeAdd(n),ko.applyBindings(function(){},$(".b_stream_add_"+sM)[0]),generatePostLinkFromAnnouncement();var i=$(".b_stream").find(".b_stream_item_post").size();(i>=t||""==e)&&$(".b_view_more__more").removeClass("text_light_blue").addClass("nothing").removeAttr("onClick").html("�������� ��� ����������")}}),!1}function showMoreCallback(e){$(".js-more-posts").removeClass("js-more-posts");var t=Math.round(1e3*Math.random());$(".b_stream").append($('<div class="js-more-posts b_stream_add_'+t+'"></div>').append(e)),setStatesForCommentForm(".js-more-posts"),block_delete();var n=$(".b_stream_add_"+t).find(".b_stream_item");showTimeAdd(n),ko.applyBindings(function(){},$(".b_stream_add_"+t)[0]),generatePostLinkFromAnnouncement()}function getLocalDatetime(e){dateObj=new Date;var t=dateObj.getFullYear().toString(),n=dateObj.getMonth()<10?"0"+String(dateObj.getMonth()+1):dateObj.getMonth(),i=dateObj.getDate()<10?"0"+String(dateObj.getDate()):dateObj.getDate(),o=dateObj.getHours()<10?"0"+String(dateObj.getHours()):dateObj.getHours(),r=dateObj.getMinutes()<10?"0"+String(dateObj.getMinutes()):dateObj.getMinutes(),s=dateObj.getSeconds()<10?"0"+String(dateObj.getSeconds()):dateObj.getSeconds();return i+"."+n+"."+t+" "+o+":"+r+":"+s}function showTime(){$(".date").gnTime().css("display","inline-block")}function showTimeAdd(e){var e=e;e.find(".date").gnTime().css("display","inline-block")}function showVideo(e,t){$('img[type="youtube"]').each(function(){var n=$(this).data("id"),i="video_"+n,o=location.hash.substring(7);$(this).replaceWith('<a name="" id="scroll_'+n+'"></a><div id="'+i+'"></div>'),swfobject.embedSWF("//www.youtube.com/v/"+n+"&enablejsapi=1&rel=0&fs=1",i,e,t,"8",null,null,{allowScriptAccess:"always",allowFullScreen:"true",wmode:"opaque",bgcolor:"#000000"},{id:n}),n==o&&setTimeout(function(){$("html, body").animate({scrollTop:$("#scroll_"+n).offset().top},2e3)},1e3)})}function switchStickyEvent(e){$.ajax({url:"/ugc/switchStickyEvent/",data:{eventId:e},dataType:"text json",global:!1,type:"POST",success:function(t){if(t.result=1){if(1==t.stickyStatus){var n="��������� ����";$("#stickyEvent"+e).css("display","block")}else{var n="��������� ����";$("#stickyEvent"+e).css("display","none")}{$("#stickyEventSwitcher"+e).html(n)}}}})}function stageShow(e,t,n){var i=!1;$("#image"+e).mousemove(function(){i=!0}),$("#image"+e).mouseup(function(o){i||stageShowSend(e,t,n,o)})}function stageShowSend(e,t,n,i){$(".js_stage_box_img").stop(!0),2!=i.button&&$.ajax({url:"/ugc/getImage",type:"GET",data:{imageId:e,albumId:t,place:n},dataType:"html",success:function(e){$(e).find(".js_stage_box_img").size()>0?($("body").css("overflow","hidden"),window.eclipse.show(),$(e).css({opacity:0}),$(".js_stage").html(e).removeClass("g-hidden"),$(".js_stage_box_img").css({opacity:0,height:hStageLast+"px"}),$(".js_stage_box_img img").load(function(){var e=$(this).height();hStageLast=e,$(".js_stage_box_img").animate({height:e+"px"},100),setTimeout(function(){$(".js_stage_box_img").animate({opacity:1},50),$(".js_stage").find(".date").gnTime().css("display","inline-block"),block_delete(),setStatesForCommentForm(".js-images-post")},100)})):jAlert("������������ �������� �������� ������� �������","/common/picts/icon_delete_user.png")}})}function stageClose(){window.eclipse.hide(),$(".js_stage").addClass("g-hidden").empty()}function deleteImage(e,t,n){function i(){$.ajax({url:"/ugc/deleteImage",type:"POST",data:{albumId:e,imageId:t},dataType:"text json",success:function(e){1==e.result?(stageClose(),$("#image"+t).remove()):jAlert("��������� �������������� ������. ���������� �����","/common/picts/icon_delete_user.png")}})}jConfirm("�� ������������� ������ ������� �����������?","/common/picts/icon_x.png",function(e){return e?void i():!1})}function setLikeImage(e,t){$.ajax({url:"/ugc/setLike",type:"POST",data:{objectId:e,objectType:2,vote:t},dataType:"text json",success:function(n){if(1==n.result){var i=$(".b_stream_message_action"),o=i.find(".b_stream_message_action_like_qt").find(".count_like_image").html();if(1==t){o=parseInt(o)+1;var r="������ �� ��������",s=0}else{o=parseInt(o)-1;var r="��� ��������",s=1}i.find(".count_like_image").html(o),i.find(".b_stream_message_action_like").html("<span onclick=\"setLikeImage('"+e+"', "+s+')">'+r+"</span>")}else alert("������")}})}function addExpJson(e){(""!=e||0!=e)&&addExp(e)}function addExpHtml(e){(""!=e||0!=e||"0"!=e)&&addExp(e),$(".js-new-exp").remove()}function addExp(e){var t=$(".js-new-exp-flasher");experience.show(e),t.removeClass("g-hidden")}function popup_w_h(){var e;e=$(window).width()<=990?990:$(window).width();var t=$(document).height();$(".p_popup_block").css({width:e+"px",height:t+"px"})}function close_pop(){$(".p_popup_close_button").click(function(){$(".p_popup_block").hide()}),$(".js_popup_close_button").click(function(){$(".p_popup_block").hide()})}function friends_random(){$(".b_friends_random__panel_item").hover(function(){if($(this).children(".b_friends_random__panel_item_hover_avatar, .b_friends_random__panel_item_hover_friend").css("display","inline-block"),$(this).children("img").css("z-index","105"),$(".b_friends_random__panel_item").css("z-index","100"),$(this).css("z-index","102"),$(this).parents().hasClass("b_friends_games"))$(this).children(".b_friends_random__panel_item_hover_friend").css("right","57px");else if($(this).parents().hasClass("p_popup")){var e=$(this).offset(),t=$(this).parents(".p_popup").offset(),n=e.left-t.left,i=$(this).parents(".p_popup").width();n>=i/2?$(this).children(".b_friends_random__panel_item_hover_friend").css("right","57px"):$(this).children(".b_friends_random__panel_item_hover_friend").css("left","57px")}else $(this).children(".b_friends_random__panel_item_hover_friend").css("left","57px")},function(){$(this).children(".b_friends_random__panel_item_hover_avatar, .b_friends_random__panel_item_hover_friend").hide(),$(this).children("img").css("z-index","103")})}function user_list_popup(){$(".js_b_user_list_popup__panel_item").hover(function(){$(this).children(".js_b_user_list_popup__panel_item_hover_avatar, .js_b_user_list_popup__panel_item_hover_user").css("display","block"),$(this).children("img").css("z-index","105"),$(".js_b_user_list_popup__panel_item").css("z-index","100"),$(this).css("z-index","102")},function(){$(this).children(".js_b_user_list_popup__panel_item_hover_avatar, .js_b_user_list_popup__panel_item_hover_user").hide(),$(this).children("img").css("z-index","103")})}function block_delete(){$(".js_block_delete__t1").hover(function(){$(this).find(".b_delete__button_delete__t1").show()},function(){$(this).find(".b_delete__button_delete__t1").hide()}),$(".js_block_delete__t2").hover(function(){$(this).find(".b_delete__button_delete__t2").show()},function(){$(this).find(".b_delete__button_delete__t2").hide()}),$(".js_block_delete__t3").hover(function(){$(this).find(".b_delete__button_delete__t3").show()},function(){$(this).find(".b_delete__button_delete__t3").hide()}),$(document).click(function(){$(".b_delete__button_delete__t1").removeClass("active"),$(".list_delete").hide()}),$(".b_delete__button_delete__t1").click(function(e){$(".js_block_delete__t1").css({"z-index":"199"}),$(this).parents(".js_block_delete__t1").css({"z-index":"200"}),e.stopPropagation(),$(".b_delete__button_delete").removeClass("active"),$(".list_delete").hide(),$(this).parent(".b_delete__t1").children(".list_delete").show(),$(this).addClass("active")})}function setRelation(e,t,n,i){"undefined"!==$("#friend_request_message").val()?$("#friend_request_message").val():"";return $.ajax({url:"/profile/relation",dataType:"text json",data:{user:e,relation:t,invite:i},type:"POST",success:function(e){"function"==typeof n&&n(e)}}),!1}function sendFeedback(e){var t=$(".js_feedback_textarea textarea").val();return"undefined"==t||""==t.replace(/\s/,"")?!1:($.ajax({url:"/widget/feedback",dataType:"text json",data:{text:t,type:e},async:!1,type:"POST",success:function(e){$(".b_feedback_s1").hide(),$(".b_feedback_s2").show()}}),!0)}function subscribeToNews(e,t){$.ajax({url:"/games/"+e+"/subscribe",dataType:"text json",success:function(e){jEmpty("�� ��������� �� ������� "+t,"/common/picts/icon_subscribe.png"),setTimeout(function(){$(".b_like_games_subscribe").hide(),$(".b_like_games_unsubscribe").show()},50)}})}function unsubscribeToNews(e,t){$.ajax({url:"/games/"+e+"/unsubscribe",dataType:"text json",success:function(e){jEmpty("�� �������� �� �������� "+t,"/common/picts/icon_unsubscribe.png"),setTimeout(function(){$(".b_like_games_unsubscribe").hide(),$(".b_like_games_subscribe").show()},50)}})}function setBackground(e){$("body").css("background-image","url("+e+")")}function timerFooter(e){var t=setInterval(function(){tF+=1,tF>=60&&tFflag&&$.ajax({url:e,type:"POST",dataType:"text json",success:function(e){clearInterval(t)}})},1e3);$(window).bind("scroll",function(e){$(window).scrollTop()+$(window).height()>=$(document).height()&&(tFflag=!0)})}function getLocalDatetime(e){dateObj=new Date;var t=dateObj.getFullYear().toString(),n=dateObj.getMonth()<10?"0"+String(dateObj.getMonth()+1):dateObj.getMonth(),i=dateObj.getDate()<10?"0"+String(dateObj.getDate()):dateObj.getDate(),o=dateObj.getHours()<10?"0"+String(dateObj.getHours()):dateObj.getHours(),r=dateObj.getMinutes()<10?"0"+String(dateObj.getMinutes()):dateObj.getMinutes(),s=dateObj.getSeconds()<10?"0"+String(dateObj.getSeconds()):dateObj.getSeconds();return i+"."+n+"."+t+" "+o+":"+r+":"+s}function showTime(){$(".date").gnTime().css("display","inline-block")}function showTimeAdd(e){var e=e;e.find(".date").gnTime().css("display","inline-block")}function setInviteRegistration(e,t,n,i){var o="300002010000000000",r="2704",s="<params><param><name>userId</name><value>"+t+"</value></param><param><name>action</name><value>"+i+"</value></param></params>";$.ajax({type:"POST",dataType:"jsonp",url:e+"/restapi",data:{userId:t,appKey:n,serviceId:o,marketModuleTarget:r,method:"marketing.setGnaInstallStep",format:"jsonp",params:s},success:function(e){console.log(e.response.status)}})}function confirmMail(){popUp.show($(".js_confirm_mail").html()),$("#js_confirm_mail_login").focus()}function confirmMailSend(e,t){return e?void $.ajax({url:"/security/confirmMainEmail/",data:{login:e},dataType:"text json",type:"POST",success:function(e){return t?void t(e):void(1==e.result?($(".js_confirm_mail_content").addClass("g-hidden"),$(".js_confirm_mail_ok").removeClass("g-hidden")):$(".js_confirm_mail_error").html("���������� ������������ ���� ����� ����������� �����"))}}):!1}function generatePostLinkFromAnnouncement(){var e="",t=/�/;$(".js_stream_share_description").each(function(){e=$(this).find("announcement").html(),t.test(e)&&$(this).html(e.replace(/�/,'<a href="'+$(this).attr("data-url")+'" style="text-decoration:underline;">�</a>'))})}function openUploadAvatarWindow(){window.popUp.show($("#changeAvatarPopupTpl").html(),function(e){function t(){a.attr("src",i),u?a.cropper("replace",i):(a.cropper({aspectRatio:.86,strict:!0,minCropBoxWidth:50,minCropBoxHeight:43,zoomable:!1,mouseWheelZoom:!1,movable:!1,crop:function(e){o=e}}),u=!0),d.hide(),p.show()}var n,i,o,r=$(e),s=r.find("#avatarInput"),a=r.find(".b_avatar_preview_image"),l=r.find(".b_avatar_edit_bt_choose"),c=r.find(".b_avatar_edit_bt_save"),u=!1,d=$(e).find(".b_avatar_edit_select"),p=$(e).find(".b_avatar_edit_crop");l.on("click",function(){s.val(""),s.click()}),c.on("click",function(){var e=new FormData;e.append("file",n),e.append("method","user.uploadAvatar"),e.append("userId",window.userData.userId),e.append("appKey",window.userData.appKey),e.append("x",0|o.x),e.append("y",0|o.y),e.append("w",0|o.width),e.append("h",0|o.height),e.append("format","json"),e.append("language","ru"),$.ajax({url:window.domainData.images,type:"POST",data:e,cache:!1,dataType:"json",processData:!1,contentType:!1}).then(function(e){e.response.hasOwnProperty("src_small")?window.location.replace(window.location.pathname):jAlert(e.response.error.message)}).fail(function(){jAlert("���! ������� ���-�� ����� �� ���. ���������� ��� ���!")})}),s.on("change",function(){var e=s.prop("files");0!=e.length&&(n=e[0],i&&URL.revokeObjectURL(i),i=URL.createObjectURL(n),t())})})}/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */
!function(e,t){function n(e){var t,n,i=O[e]={};for(e=e.split(/\s+/),t=0,n=e.length;n>t;t++)i[e[t]]=!0;return i}function i(e,n,i){if(i===t&&1===e.nodeType){var o="data-"+n.replace(M,"-$1").toLowerCase();if(i=e.getAttribute(o),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:I.isNumeric(i)?+i:U.test(i)?I.parseJSON(i):i}catch(r){}I.data(e,n,i)}else i=t}return i}function o(e){for(var t in e)if(("data"!==t||!I.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function r(e,t,n){var i=t+"defer",o=t+"queue",r=t+"mark",s=I._data(e,i);!s||"queue"!==n&&I._data(e,o)||"mark"!==n&&I._data(e,r)||setTimeout(function(){I._data(e,o)||I._data(e,r)||(I.removeData(e,i,!0),s.fire())},0)}function s(){return!1}function a(){return!0}function l(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function c(e,t,n){if(t=t||0,I.isFunction(t))return I.grep(e,function(e,i){var o=!!t.call(e,i,e);return o===n});if(t.nodeType)return I.grep(e,function(e,i){return e===t===n});if("string"==typeof t){var i=I.grep(e,function(e){return 1===e.nodeType});if(ue.test(t))return I.filter(t,i,!n);t=I.filter(t,i)}return I.grep(e,function(e,i){return I.inArray(e,t)>=0===n})}function u(e){var t=fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return I.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e,t){if(1===t.nodeType&&I.hasData(e)){var n,i,o,r=I._data(e),s=I._data(t,r),a=r.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,o=a[n].length;o>i;i++)I.event.add(t,n,a[n][i])}s.data&&(s.data=I.extend({},s.data))}}function h(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(I.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function f(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){("checkbox"===e.type||"radio"===e.type)&&(e.defaultChecked=e.checked)}function g(e){var t=(e.nodeName||"").toLowerCase();"input"===t?m(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&I.grep(e.getElementsByTagName("input"),m)}function v(e){var t=A.createElement("div");return Ee.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function _(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,o="width"===t?1:0,r=4;if(i>0){if("border"!==n)for(;r>o;o+=2)n||(i-=parseFloat(I.css(e,"padding"+Be[o]))||0),"margin"===n?i+=parseFloat(I.css(e,n+Be[o]))||0:i-=parseFloat(I.css(e,"border"+Be[o]+"Width"))||0;return i+"px"}if(i=$e(e,t),(0>i||null==i)&&(i=e.style[t]),Oe.test(i))return i;if(i=parseFloat(i)||0,n)for(;r>o;o+=2)i+=parseFloat(I.css(e,"padding"+Be[o]))||0,"padding"!==n&&(i+=parseFloat(I.css(e,"border"+Be[o]+"Width"))||0),"margin"===n&&(i+=parseFloat(I.css(e,n+Be[o]))||0);return i+"px"}function y(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),I.isFunction(n))for(var i,o,r,s=t.toLowerCase().split(tt),a=0,l=s.length;l>a;a++)i=s[a],r=/^\+/.test(i),r&&(i=i.substr(1)||"*"),o=e[i]=e[i]||[],o[r?"unshift":"push"](n)}}function b(e,n,i,o,r,s){r=r||n.dataTypes[0],s=s||{},s[r]=!0;for(var a,l=e[r],c=0,u=l?l.length:0,d=e===rt;u>c&&(d||!a);c++)a=l[c](n,i,o),"string"==typeof a&&(!d||s[a]?a=t:(n.dataTypes.unshift(a),a=b(e,n,i,o,a,s)));return!d&&a||s["*"]||(a=b(e,n,i,o,"*",s)),a}function w(e,n){var i,o,r=I.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((r[i]?e:o||(o={}))[i]=n[i]);o&&I.extend(!0,e,o)}function x(e,t,n,i){if(I.isArray(t))I.each(t,function(t,o){n||qe.test(e)?i(e,o):x(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==I.type(t))i(e,t);else for(var o in t)x(e+"["+o+"]",t[o],n,i)}function j(e,n,i){var o,r,s,a,l=e.contents,c=e.dataTypes,u=e.responseFields;for(r in u)r in i&&(n[u[r]]=i[r]);for(;"*"===c[0];)c.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("content-type"));if(o)for(r in l)if(l[r]&&l[r].test(o)){c.unshift(r);break}if(c[0]in i)s=c[0];else{for(r in i){if(!c[0]||e.converters[r+" "+c[0]]){s=r;break}a||(a=r)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function C(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var i,o,r,s,a,l,c,u,d=e.dataTypes,p={},h=d.length,f=d[0];for(i=1;h>i;i++){if(1===i)for(o in e.converters)"string"==typeof o&&(p[o.toLowerCase()]=e.converters[o]);if(s=f,f=d[i],"*"===f)f=s;else if("*"!==s&&s!==f){if(a=s+" "+f,l=p[a]||p["* "+f],!l){u=t;for(c in p)if(r=c.split(" "),(r[0]===s||"*"===r[0])&&(u=p[r[1]+" "+f])){c=p[c],c===!0?l=u:u===!0&&(l=c);break}}l||u||I.error("No conversion from "+a.replace(" "," to ")),l!==!0&&(n=l?l(n):u(c(n)))}}return n}function k(){try{return new e.XMLHttpRequest}catch(t){}}function S(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function T(){return setTimeout(E,0),vt=I.now()}function E(){vt=t}function $(e,t){var n={};return I.each(wt.concat.apply([],wt.slice(0,t)),function(){n[this]=e}),n}function F(e){if(!_t[e]){var t=A.body,n=I("<"+e+">").appendTo(t),i=n.css("display");n.remove(),("none"===i||""===i)&&(ft||(ft=A.createElement("iframe"),ft.frameBorder=ft.width=ft.height=0),t.appendChild(ft),mt&&ft.createElement||(mt=(ft.contentWindow||ft.contentDocument).document,mt.write((I.support.boxModel?"<!doctype html>":"")+"<html><body>"),mt.close()),n=mt.createElement(e),mt.body.appendChild(n),i=I.css(n,"display"),t.removeChild(ft)),_t[e]=i}return _t[e]}function D(e){return I.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var A=e.document,N=e.navigator,L=e.location,I=function(){function n(){if(!a.isReady){try{A.documentElement.doScroll("left")}catch(e){return void setTimeout(n,1)}a.ready()}}var i,o,r,s,a=function(e,t){return new a.fn.init(e,t,i)},l=e.jQuery,c=e.$,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=/\S/,p=/^\s+/,h=/\s+$/,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_=/(?:^|:|,)(?:\s*\[)+/g,y=/(webkit)[ \/]([\w.]+)/,b=/(opera)(?:.*version)?[ \/]([\w.]+)/,w=/(msie) ([\w.]+)/,x=/(mozilla)(?:.*? rv:([\w.]+))?/,j=/-([a-z]|[0-9])/gi,C=/^-ms-/,k=function(e,t){return(t+"").toUpperCase()},S=N.userAgent,T=Object.prototype.toString,E=Object.prototype.hasOwnProperty,$=Array.prototype.push,F=Array.prototype.slice,D=String.prototype.trim,L=Array.prototype.indexOf,I={};return a.fn=a.prototype={constructor:a,init:function(e,n,i){var o,r,s,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!n&&A.body)return this.context=A,this[0]=A.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:u.exec(e),!o||!o[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(o[1])return n=n instanceof a?n[0]:n,l=n?n.ownerDocument||n:A,s=f.exec(e),s?a.isPlainObject(n)?(e=[A.createElement(s[1])],a.fn.attr.call(e,n,!0)):e=[l.createElement(s[1])]:(s=a.buildFragment([o[1]],[l]),e=(s.cacheable?a.clone(s.fragment):s.fragment).childNodes),a.merge(this,e);if(r=A.getElementById(o[2]),r&&r.parentNode){if(r.id!==o[2])return i.find(e);this.length=1,this[0]=r}return this.context=A,this.selector=e,this}return a.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),a.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=this.constructor();return a.isArray(e)?$.apply(i,e):a.merge(i,e),i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return a.each(this,e,t)},ready:function(e){return a.bindReady(),r.add(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(e){return this.pushStack(a.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:$,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a.extend=a.fn.extend=function(){var e,n,i,o,r,s,l=arguments[0]||{},c=1,u=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},c=2),"object"==typeof l||a.isFunction(l)||(l={}),u===c&&(l=this,--c);u>c;c++)if(null!=(e=arguments[c]))for(n in e)i=l[n],o=e[n],l!==o&&(d&&o&&(a.isPlainObject(o)||(r=a.isArray(o)))?(r?(r=!1,s=i&&a.isArray(i)?i:[]):s=i&&a.isPlainObject(i)?i:{},l[n]=a.extend(d,s,o)):o!==t&&(l[n]=o));return l},a.extend({noConflict:function(t){return e.$===a&&(e.$=c),t&&e.jQuery===a&&(e.jQuery=l),a},isReady:!1,readyWait:1,holdReady:function(e){e?a.readyWait++:a.ready(!0)},ready:function(e){if(e===!0&&!--a.readyWait||e!==!0&&!a.isReady){if(!A.body)return setTimeout(a.ready,1);if(a.isReady=!0,e!==!0&&--a.readyWait>0)return;r.fireWith(A,[a]),a.fn.trigger&&a(A).trigger("ready").off("ready")}},bindReady:function(){if(!r){if(r=a.Callbacks("once memory"),"complete"===A.readyState)return setTimeout(a.ready,1);if(A.addEventListener)A.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",a.ready,!1);else if(A.attachEvent){A.attachEvent("onreadystatechange",s),e.attachEvent("onload",a.ready);var t=!1;try{t=null==e.frameElement}catch(i){}A.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return"function"===a.type(e)},isArray:Array.isArray||function(e){return"array"===a.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):I[T.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==a.type(e)||e.nodeType||a.isWindow(e))return!1;try{if(e.constructor&&!E.call(e,"constructor")&&!E.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||E.call(e,i)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=a.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):m.test(t.replace(g,"@").replace(v,"]").replace(_,""))?new Function("return "+t)():void a.error("Invalid JSON: "+t)):null},parseXML:function(n){if("string"!=typeof n||!n)return null;var i,o;try{e.DOMParser?(o=new DOMParser,i=o.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(r){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||a.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&d.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(j,k)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,i){var o,r=0,s=e.length,l=s===t||a.isFunction(e);if(i)if(l){for(o in e)if(n.apply(e[o],i)===!1)break}else for(;s>r&&n.apply(e[r++],i)!==!1;);else if(l){for(o in e)if(n.call(e[o],o,e[o])===!1)break}else for(;s>r&&n.call(e[r],r,e[r++])!==!1;);return e},trim:D?function(e){return null==e?"":D.call(e)}:function(e){return null==e?"":e.toString().replace(p,"").replace(h,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var i=a.type(e);null==e.length||"string"===i||"function"===i||"regexp"===i||a.isWindow(e)?$.call(n,e):a.merge(n,e)}return n},inArray:function(e,t,n){var i;if(t){if(L)return L.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=e.length,o=0;if("number"==typeof n.length)for(var r=n.length;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var i,o=[];n=!!n;for(var r=0,s=e.length;s>r;r++)i=!!t(e[r],r),n!==i&&o.push(e[r]);return o},map:function(e,n,i){var o,r,s=[],l=0,c=e.length,u=e instanceof a||c!==t&&"number"==typeof c&&(c>0&&e[0]&&e[c-1]||0===c||a.isArray(e));if(u)for(;c>l;l++)o=n(e[l],l,i),null!=o&&(s[s.length]=o);else for(r in e)o=n(e[r],r,i),null!=o&&(s[s.length]=o);return s.concat.apply([],s)},guid:1,proxy:function(e,n){if("string"==typeof n){var i=e[n];n=e,e=i}if(!a.isFunction(e))return t;var o=F.call(arguments,2),r=function(){return e.apply(n,o.concat(F.call(arguments)))};return r.guid=e.guid=e.guid||r.guid||a.guid++,r},access:function(e,n,i,o,r,s,l){var c,u=null==i,d=0,p=e.length;if(i&&"object"==typeof i){for(d in i)a.access(e,n,d,i[d],1,s,o);r=1}else if(o!==t){if(c=l===t&&a.isFunction(o),u&&(c?(c=n,n=function(e,t,n){return c.call(a(e),n)}):(n.call(e,o),n=null)),n)for(;p>d;d++)n(e[d],i,c?o.call(e[d],d,n(e[d],i)):o,l);r=1}return r?e:u?n.call(e):p?n(e[0],i):s},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=y.exec(e)||b.exec(e)||w.exec(e)||e.indexOf("compatible")<0&&x.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}a.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof a&&!(i instanceof e)&&(i=e(i)),a.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(A);return e},browser:{}}),a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){I["[object "+t+"]"]=t.toLowerCase()}),o=a.uaMatch(S),o.browser&&(a.browser[o.browser]=!0,a.browser.version=o.version),a.browser.webkit&&(a.browser.safari=!0),d.test(" ")&&(p=/^[\s\xA0]+/,h=/[\s\xA0]+$/),i=a(A),A.addEventListener?s=function(){A.removeEventListener("DOMContentLoaded",s,!1),a.ready()}:A.attachEvent&&(s=function(){"complete"===A.readyState&&(A.detachEvent("onreadystatechange",s),a.ready())}),a}(),O={};I.Callbacks=function(e){e=e?O[e]||n(e):{};var i,o,r,s,a,l,c=[],u=[],d=function(t){var n,i,o,r;for(n=0,i=t.length;i>n;n++)o=t[n],r=I.type(o),"array"===r?d(o):"function"===r&&(e.unique&&h.has(o)||c.push(o))},p=function(t,n){for(n=n||[],i=!e.memory||[t,n],o=!0,r=!0,l=s||0,s=0,a=c.length;c&&a>l;l++)if(c[l].apply(t,n)===!1&&e.stopOnFalse){i=!0;break}r=!1,c&&(e.once?i===!0?h.disable():c=[]:u&&u.length&&(i=u.shift(),h.fireWith(i[0],i[1])))},h={add:function(){if(c){var e=c.length;d(arguments),r?a=c.length:i&&i!==!0&&(s=e,p(i[0],i[1]))}return this},remove:function(){if(c)for(var t=arguments,n=0,i=t.length;i>n;n++)for(var o=0;o<c.length&&(t[n]!==c[o]||(r&&a>=o&&(a--,l>=o&&l--),c.splice(o--,1),!e.unique));o++);return this},has:function(e){if(c)for(var t=0,n=c.length;n>t;t++)if(e===c[t])return!0;return!1},empty:function(){return c=[],this},disable:function(){return c=u=i=t,this},disabled:function(){return!c},lock:function(){return u=t,i&&i!==!0||h.disable(),this},locked:function(){return!u},fireWith:function(t,n){return u&&(r?e.once||u.push([t,n]):e.once&&i||p(t,n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h};var P=[].slice;I.extend({Deferred:function(e){var t,n=I.Callbacks("once memory"),i=I.Callbacks("once memory"),o=I.Callbacks("memory"),r="pending",s={resolve:n,reject:i,notify:o},a={done:n.add,fail:i.add,progress:o.add,state:function(){return r},isResolved:n.fired,isRejected:i.fired,then:function(e,t,n){return l.done(e).fail(t).progress(n),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,n){return I.Deferred(function(i){I.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n,o=t[0],r=t[1];l[e](I.isFunction(o)?function(){n=o.apply(this,arguments),n&&I.isFunction(n.promise)?n.promise().then(i.resolve,i.reject,i.notify):i[r+"With"](this===l?i:this,[n])}:i[r])})}).promise()},promise:function(e){if(null==e)e=a;else for(var t in a)e[t]=a[t];return e}},l=a.promise({});for(t in s)l[t]=s[t].fire,l[t+"With"]=s[t].fireWith;return l.done(function(){r="resolved"},i.disable,o.lock).fail(function(){r="rejected"},n.disable,o.lock),e&&e.call(l,l),l},when:function(e){function t(e){return function(t){i[e]=arguments.length>1?P.call(arguments,0):t,--a||l.resolveWith(l,i)}}function n(e){return function(t){s[e]=arguments.length>1?P.call(arguments,0):t,l.notifyWith(c,s)}}var i=P.call(arguments,0),o=0,r=i.length,s=new Array(r),a=r,l=1>=r&&e&&I.isFunction(e.promise)?e:I.Deferred(),c=l.promise();if(r>1){for(;r>o;o++)i[o]&&i[o].promise&&I.isFunction(i[o].promise)?i[o].promise().then(t(o),l.reject,n(o)):--a;a||l.resolveWith(l,i)}else l!==e&&l.resolveWith(l,r?[e]:[]);return c}}),I.support=function(){{var t,n,i,o,r,s,a,l,c,u,d,p=A.createElement("div");A.documentElement}if(p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),i=p.getElementsByTagName("a")[0],!n||!n.length||!i)return{};o=A.createElement("select"),r=o.appendChild(A.createElement("option")),s=p.getElementsByTagName("input")[0],t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.55/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:r.selected,getSetAttribute:"t"!==p.className,enctype:!!A.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==A.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},I.boxModel=t.boxModel="CSS1Compat"===A.compatMode,s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!r.disabled;try{delete p.test}catch(h){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),s=A.createElement("input"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),p.appendChild(s),a=A.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=s.checked,a.removeChild(s),a.appendChild(p),p.attachEvent)for(u in{submit:1,change:1,focusin:1})c="on"+u,d=c in p,d||(p.setAttribute(c,"return;"),d="function"==typeof p[c]),t[u+"Bubbles"]=d;return a.removeChild(p),a=o=r=p=s=null,I(function(){var n,i,o,r,s,a,c,u,h,f,m,g,v=A.getElementsByTagName("body")[0];v&&(c=1,g="padding:0;margin:0;border:",f="position:absolute;top:0;left:0;width:1px;height:1px;",m=g+"0;visibility:hidden;",u="style='"+f+g+"5px solid #000;",h="<div "+u+"display:block;'><div style='"+g+"0;display:block;overflow:hidden;'></div></div><table "+u+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",n=A.createElement("div"),n.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+c+"px",v.insertBefore(n,v.firstChild),p=A.createElement("div"),n.appendChild(p),p.innerHTML="<table><tr><td style='"+g+"0;display:none'></td><td>t</td></tr></table>",l=p.getElementsByTagName("td"),d=0===l[0].offsetHeight,l[0].style.display="",l[1].style.display="none",t.reliableHiddenOffsets=d&&0===l[0].offsetHeight,e.getComputedStyle&&(p.innerHTML="",a=A.createElement("div"),a.style.width="0",a.style.marginRight="0",p.style.width="2px",p.appendChild(a),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(a,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof p.style.zoom&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,t.inlineBlockNeedsLayout=3===p.offsetWidth,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=3!==p.offsetWidth),p.style.cssText=f+m,p.innerHTML=h,i=p.firstChild,o=i.firstChild,r=i.nextSibling.firstChild.firstChild,s={doesNotAddBorder:5!==o.offsetTop,doesAddBorderForTableAndCells:5===r.offsetTop},o.style.position="fixed",o.style.top="20px",s.fixedPosition=20===o.offsetTop||15===o.offsetTop,o.style.position=o.style.top="",i.style.overflow="hidden",i.style.position="relative",s.subtractsBorderForOverflowNotVisible=-5===o.offsetTop,s.doesNotIncludeMarginInBodyOffset=v.offsetTop!==c,e.getComputedStyle&&(p.style.marginTop="1%",t.pixelMargin="1%"!==(e.getComputedStyle(p,null)||{marginTop:0}).marginTop),"undefined"!=typeof n.style.zoom&&(n.style.zoom=1),v.removeChild(n),a=p=n=null,I.extend(t,s))}),t}();var U=/^(?:\{.*\}|\[.*\])$/,M=/([A-Z])/g;I.extend({cache:{},uuid:0,expando:"jQuery"+(I.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?I.cache[e[I.expando]]:e[I.expando],!!e&&!o(e)},data:function(e,n,i,o){if(I.acceptData(e)){var r,s,a,l=I.expando,c="string"==typeof n,u=e.nodeType,d=u?I.cache:e,p=u?e[l]:e[l]&&l,h="events"===n;if(p&&d[p]&&(h||o||d[p].data)||!c||i!==t)return p||(u?e[l]=p=++I.uuid:p=l),d[p]||(d[p]={},u||(d[p].toJSON=I.noop)),("object"==typeof n||"function"==typeof n)&&(o?d[p]=I.extend(d[p],n):d[p].data=I.extend(d[p].data,n)),r=s=d[p],o||(s.data||(s.data={}),s=s.data),i!==t&&(s[I.camelCase(n)]=i),h&&!s[n]?r.events:(c?(a=s[n],null==a&&(a=s[I.camelCase(n)])):a=s,a)}},removeData:function(e,t,n){if(I.acceptData(e)){var i,r,s,a=I.expando,l=e.nodeType,c=l?I.cache:e,u=l?e[a]:a;if(c[u]){if(t&&(i=n?c[u]:c[u].data)){I.isArray(t)||(t in i?t=[t]:(t=I.camelCase(t),t=t in i?[t]:t.split(" ")));for(r=0,s=t.length;s>r;r++)delete i[t[r]];if(!(n?o:I.isEmptyObject)(i))return}(n||(delete c[u].data,o(c[u])))&&(I.support.deleteExpando||!c.setInterval?delete c[u]:c[u]=null,l&&(I.support.deleteExpando?delete e[a]:e.removeAttribute?e.removeAttribute(a):e[a]=null))}}},_data:function(e,t,n){return I.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=I.noData[e.nodeName.toLowerCase()];if(t)return!(t===!0||e.getAttribute("classid")!==t)}return!0}}),I.fn.extend({data:function(e,n){var o,r,s,a,l,c=this[0],u=0,d=null;if(e===t){if(this.length&&(d=I.data(c),1===c.nodeType&&!I._data(c,"parsedAttrs"))){for(s=c.attributes,l=s.length;l>u;u++)a=s[u].name,0===a.indexOf("data-")&&(a=I.camelCase(a.substring(5)),i(c,a,d[a]));I._data(c,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){I.data(this,e)}):(o=e.split(".",2),o[1]=o[1]?"."+o[1]:"",r=o[1]+"!",I.access(this,function(n){return n===t?(d=this.triggerHandler("getData"+r,[o[0]]),d===t&&c&&(d=I.data(c,e),d=i(c,e,d)),d===t&&o[1]?this.data(o[0]):d):(o[1]=n,void this.each(function(){var t=I(this);t.triggerHandler("setData"+r,o),I.data(this,e,n),t.triggerHandler("changeData"+r,o)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){I.removeData(this,e)})}}),I.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",I._data(e,t,(I._data(e,t)||0)+1))},_unmark:function(e,t,n){if(e!==!0&&(n=t,t=e,e=!1),t){n=n||"fx";var i=n+"mark",o=e?0:(I._data(t,i)||1)-1;o?I._data(t,i,o):(I.removeData(t,i,!0),r(t,n,"mark"))}},queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=I._data(e,t),n&&(!i||I.isArray(n)?i=I._data(e,t,I.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=I.queue(e,t),i=n.shift(),o={};"inprogress"===i&&(i=n.shift()),i&&("fx"===t&&n.unshift("inprogress"),I._data(e,t+".run",o),i.call(e,function(){I.dequeue(e,t)},o)),n.length||(I.removeData(e,t+"queue "+t+".run",!0),r(e,t,"queue"))}}),I.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?I.queue(this[0],e):n===t?this:this.each(function(){var t=I.queue(this,e,n);"fx"===e&&"inprogress"!==t[0]&&I.dequeue(this,e)})},dequeue:function(e){return this.each(function(){I.dequeue(this,e)})},delay:function(e,t){return e=I.fx?I.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function i(){--l||r.resolveWith(s,[s])}"string"!=typeof e&&(n=e,e=t),e=e||"fx";for(var o,r=I.Deferred(),s=this,a=s.length,l=1,c=e+"defer",u=e+"queue",d=e+"mark";a--;)(o=I.data(s[a],c,t,!0)||(I.data(s[a],u,t,!0)||I.data(s[a],d,t,!0))&&I.data(s[a],c,I.Callbacks("once memory"),!0))&&(l++,o.add(i));return i(),r.promise(n)}});var B,R,W,H=/[\n\t\r]/g,q=/\s+/,z=/\r/g,X=/^(?:button|input)$/i,Y=/^(?:button|input|object|select|textarea)$/i,V=/^a(?:rea)?$/i,G=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Q=I.support.getSetAttribute;I.fn.extend({attr:function(e,t){return I.access(this,I.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){I.removeAttr(this,e)})},prop:function(e,t){return I.access(this,I.prop,e,t,arguments.length>1)},removeProp:function(e){return e=I.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,o,r,s,a;if(I.isFunction(e))return this.each(function(t){I(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(q),n=0,i=this.length;i>n;n++)if(o=this[n],1===o.nodeType)if(o.className||1!==t.length){for(r=" "+o.className+" ",s=0,a=t.length;a>s;s++)~r.indexOf(" "+t[s]+" ")||(r+=t[s]+" ");o.className=I.trim(r)}else o.className=e;return this},removeClass:function(e){var n,i,o,r,s,a,l;if(I.isFunction(e))return this.each(function(t){I(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(q),i=0,o=this.length;o>i;i++)if(r=this[i],1===r.nodeType&&r.className)if(e){for(s=(" "+r.className+" ").replace(H," "),a=0,l=n.length;l>a;a++)s=s.replace(" "+n[a]+" "," ");r.className=I.trim(s)}else r.className="";return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return this.each(I.isFunction(e)?function(n){I(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var o,r=0,s=I(this),a=t,l=e.split(q);o=l[r++];)a=i?a:!s.hasClass(o),s[a?"addClass":"removeClass"](o);else("undefined"===n||"boolean"===n)&&(this.className&&I._data(this,"__className__",this.className),this.className=this.className||e===!1?"":I._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(H," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,i,o,r=this[0];{if(arguments.length)return o=I.isFunction(e),this.each(function(i){var r,s=I(this);1===this.nodeType&&(r=o?e.call(this,i,s.val()):e,null==r?r="":"number"==typeof r?r+="":I.isArray(r)&&(r=I.map(r,function(e){return null==e?"":e+""})),n=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,r,"value")!==t||(this.value=r))});if(r)return n=I.valHooks[r.type]||I.valHooks[r.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(r,"value"))!==t?i:(i=r.value,"string"==typeof i?i.replace(z,""):null==i?"":i)}}}),I.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,i,o,r=e.selectedIndex,s=[],a=e.options,l="select-one"===e.type;if(0>r)return null;for(n=l?r:0,i=l?r+1:a.length;i>n;n++)if(o=a[n],!(!o.selected||(I.support.optDisabled?o.disabled:null!==o.getAttribute("disabled"))||o.parentNode.disabled&&I.nodeName(o.parentNode,"optgroup"))){if(t=I(o).val(),l)return t;s.push(t)}return l&&!s.length&&a.length?I(a[r]).val():s},set:function(e,t){var n=I.makeArray(t);return I(e).find("option").each(function(){this.selected=I.inArray(I(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,i,o){var r,s,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return o&&n in I.attrFn?I(e)[n](i):"undefined"==typeof e.getAttribute?I.prop(e,n,i):(a=1!==l||!I.isXMLDoc(e),a&&(n=n.toLowerCase(),s=I.attrHooks[n]||(G.test(n)?R:B)),i!==t?null===i?void I.removeAttr(e,n):s&&"set"in s&&a&&(r=s.set(e,i,n))!==t?r:(e.setAttribute(n,""+i),i):s&&"get"in s&&a&&null!==(r=s.get(e,n))?r:(r=e.getAttribute(n),null===r?t:r))},removeAttr:function(e,t){var n,i,o,r,s,a=0;if(t&&1===e.nodeType)for(i=t.toLowerCase().split(q),r=i.length;r>a;a++)o=i[a],o&&(n=I.propFix[o]||o,s=G.test(o),s||I.attr(e,o,""),e.removeAttribute(Q?o:n),s&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(X.test(e.nodeName)&&e.parentNode)I.error("type property can't be changed");else if(!I.support.radioValue&&"radio"===t&&I.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return B&&I.nodeName(e,"button")?B.get(e,t):t in e?e.value:null},set:function(e,t,n){return B&&I.nodeName(e,"button")?B.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var o,r,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!I.isXMLDoc(e),s&&(n=I.propFix[n]||n,r=I.propHooks[n]),i!==t?r&&"set"in r&&(o=r.set(e,i,n))!==t?o:e[n]=i:r&&"get"in r&&null!==(o=r.get(e,n))?o:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Y.test(e.nodeName)||V.test(e.nodeName)&&e.href?0:t}}}}),I.attrHooks.tabindex=I.propHooks.tabIndex,R={get:function(e,n){var i,o=I.prop(e,n);return o===!0||"boolean"!=typeof o&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?I.removeAttr(e,n):(i=I.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},Q||(W={name:!0,id:!0,coords:!0},B=I.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(W[n]?""!==i.nodeValue:i.specified)?i.nodeValue:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=A.createAttribute(n),e.setAttributeNode(i)),i.nodeValue=t+""}},I.attrHooks.tabindex.set=B.set,I.each(["width","height"],function(e,t){I.attrHooks[t]=I.extend(I.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),I.attrHooks.contenteditable={get:B.get,set:function(e,t,n){""===t&&(t="false"),B.set(e,t,n)}}),I.support.hrefNormalized||I.each(["href","src","width","height"],function(e,n){I.attrHooks[n]=I.extend(I.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),I.support.style||(I.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),I.support.optSelected||(I.propHooks.selected=I.extend(I.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),I.support.enctype||(I.propFix.enctype="encoding"),I.support.checkOn||I.each(["radio","checkbox"],function(){I.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),I.each(["radio","checkbox"],function(){I.valHooks[this]=I.extend(I.valHooks[this],{set:function(e,t){return I.isArray(t)?e.checked=I.inArray(I(e).val(),t)>=0:void 0}})});var K=/^(?:textarea|input|select)$/i,J=/^([^\.]*)?(?:\.(.+))?$/,Z=/(?:^|\s)hover(\.\S+)?\b/,ee=/^key/,te=/^(?:mouse|contextmenu)|click/,ne=/^(?:focusinfocus|focusoutblur)$/,ie=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,oe=function(e){
var t=ie.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},re=function(e,t){var n=e.attributes||{};return!(t[1]&&e.nodeName.toLowerCase()!==t[1]||t[2]&&(n.id||{}).value!==t[2]||t[3]&&!t[3].test((n["class"]||{}).value))},se=function(e){return I.event.special.hover?e:e.replace(Z,"mouseenter$1 mouseleave$1")};I.event={add:function(e,n,i,o,r){var s,a,l,c,u,d,p,h,f,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(s=I._data(e))){for(i.handler&&(f=i,i=f.handler,r=f.selector),i.guid||(i.guid=I.guid++),l=s.events,l||(s.events=l={}),a=s.handle,a||(s.handle=a=function(e){return"undefined"==typeof I||e&&I.event.triggered===e.type?t:I.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=I.trim(se(n)).split(" "),c=0;c<n.length;c++)u=J.exec(n[c])||[],d=u[1],p=(u[2]||"").split(".").sort(),g=I.event.special[d]||{},d=(r?g.delegateType:g.bindType)||d,g=I.event.special[d]||{},h=I.extend({type:d,origType:u[1],data:o,handler:i,guid:i.guid,selector:r,quick:r&&oe(r),namespace:p.join(".")},f),m=l[d],m||(m=l[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,o,p,a)!==!1||(e.addEventListener?e.addEventListener(d,a,!1):e.attachEvent&&e.attachEvent("on"+d,a))),g.add&&(g.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),r?m.splice(m.delegateCount++,0,h):m.push(h),I.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,i,o){var r,s,a,l,c,u,d,p,h,f,m,g,v=I.hasData(e)&&I._data(e);if(v&&(p=v.events)){for(t=I.trim(se(t||"")).split(" "),r=0;r<t.length;r++)if(s=J.exec(t[r])||[],a=l=s[1],c=s[2],a){for(h=I.event.special[a]||{},a=(i?h.delegateType:h.bindType)||a,m=p[a]||[],u=m.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=0;d<m.length;d++)g=m[d],!o&&l!==g.origType||n&&n.guid!==g.guid||c&&!c.test(g.namespace)||i&&i!==g.selector&&("**"!==i||!g.selector)||(m.splice(d--,1),g.selector&&m.delegateCount--,h.remove&&h.remove.call(e,g));0===m.length&&u!==m.length&&(h.teardown&&h.teardown.call(e,c)!==!1||I.removeEvent(e,a,v.handle),delete p[a])}else for(a in p)I.event.remove(e,a+t[r],n,i,!0);I.isEmptyObject(p)&&(f=v.handle,f&&(f.elem=null),I.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,o,r){if(!o||3!==o.nodeType&&8!==o.nodeType){var s,a,l,c,u,d,p,h,f,m,g=n.type||n,v=[];if(!ne.test(g+I.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),o&&!I.event.customEvent[g]||I.event.global[g]))if(n="object"==typeof n?n[I.expando]?n:new I.Event(g,n):new I.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=a,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",o){if(n.result=t,n.target||(n.target=o),i=null!=i?I.makeArray(i):[],i.unshift(n),p=I.event.special[g]||{},!p.trigger||p.trigger.apply(o,i)!==!1){if(f=[[o,p.bindType||g]],!r&&!p.noBubble&&!I.isWindow(o)){for(m=p.delegateType||g,c=ne.test(m+g)?o:o.parentNode,u=null;c;c=c.parentNode)f.push([c,m]),u=c;u&&u===o.ownerDocument&&f.push([u.defaultView||u.parentWindow||e,m])}for(l=0;l<f.length&&!n.isPropagationStopped();l++)c=f[l][0],n.type=f[l][1],h=(I._data(c,"events")||{})[n.type]&&I._data(c,"handle"),h&&h.apply(c,i),h=d&&c[d],h&&I.acceptData(c)&&h.apply(c,i)===!1&&n.preventDefault();return n.type=g,r||n.isDefaultPrevented()||p._default&&p._default.apply(o.ownerDocument,i)!==!1||"click"===g&&I.nodeName(o,"a")||!I.acceptData(o)||d&&o[g]&&("focus"!==g&&"blur"!==g||0!==n.target.offsetWidth)&&!I.isWindow(o)&&(u=o[d],u&&(o[d]=null),I.event.triggered=g,o[g](),I.event.triggered=t,u&&(o[d]=u)),n.result}}else{s=I.cache;for(l in s)s[l].events&&s[l].events[g]&&I.event.trigger(n,i,s[l].handle.elem,!0)}}},dispatch:function(n){n=I.event.fix(n||e.event);var i,o,r,s,a,l,c,u,d,p,h=(I._data(this,"events")||{})[n.type]||[],f=h.delegateCount,m=[].slice.call(arguments,0),g=!n.exclusive&&!n.namespace,v=I.event.special[n.type]||{},_=[];if(m[0]=n,n.delegateTarget=this,!v.preDispatch||v.preDispatch.call(this,n)!==!1){if(f&&(!n.button||"click"!==n.type))for(s=I(this),s.context=this.ownerDocument||this,r=n.target;r!=this;r=r.parentNode||this)if(r.disabled!==!0){for(l={},u=[],s[0]=r,i=0;f>i;i++)d=h[i],p=d.selector,l[p]===t&&(l[p]=d.quick?re(r,d.quick):s.is(p)),l[p]&&u.push(d);u.length&&_.push({elem:r,matches:u})}for(h.length>f&&_.push({elem:this,matches:h.slice(f)}),i=0;i<_.length&&!n.isPropagationStopped();i++)for(c=_[i],n.currentTarget=c.elem,o=0;o<c.matches.length&&!n.isImmediatePropagationStopped();o++)d=c.matches[o],(g||!n.namespace&&!d.namespace||n.namespace_re&&n.namespace_re.test(d.namespace))&&(n.data=d.data,n.handleObj=d,a=((I.event.special[d.origType]||{}).handle||d.handler).apply(c.elem,m),a!==t&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())));return v.postDispatch&&v.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,o,r,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||A,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[I.expando])return e;var n,i,o=e,r=I.event.fixHooks[e.type]||{},s=r.props?this.props.concat(r.props):this.props;for(e=I.Event(o),n=s.length;n;)i=s[--n],e[i]=o[i];return e.target||(e.target=o.srcElement||A),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),r.filter?r.filter(e,o):e},special:{ready:{setup:I.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){I.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var o=I.extend(new I.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?I.event.trigger(o,null,t):I.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},I.event.handle=I.event.dispatch,I.removeEvent=A.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},I.Event=function(e,t){return this instanceof I.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:s):this.type=e,t&&I.extend(this,t),this.timeStamp=e&&e.timeStamp||I.now(),void(this[I.expando]=!0)):new I.Event(e,t)},I.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s},I.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){I.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var n,i=this,o=e.relatedTarget,r=e.handleObj;r.selector}return(!o||o!==i&&!I.contains(i,o))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),I.support.submitBubbles||(I.event.special.submit={setup:function(){return I.nodeName(this,"form")?!1:void I.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=I.nodeName(n,"input")||I.nodeName(n,"button")?n.form:t;i&&!i._submit_attached&&(I.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),i._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&I.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return I.nodeName(this,"form")?!1:void I.event.remove(this,"._submit")}}),I.support.changeBubbles||(I.event.special.change={setup:function(){return K.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(I.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),I.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,I.event.simulate("change",this,e,!0))})),!1):void I.event.add(this,"beforeactivate._change",function(e){var t=e.target;K.test(t.nodeName)&&!t._change_attached&&(I.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||I.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return I.event.remove(this,"._change"),K.test(this.nodeName)}}),I.support.focusinBubbles||I.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){I.event.simulate(t,e.target,I.event.fix(e),!0)};I.event.special[t]={setup:function(){0===n++&&A.addEventListener(e,i,!0)},teardown:function(){0===--n&&A.removeEventListener(e,i,!0)}}}),I.fn.extend({on:function(e,n,i,o,r){var a,l;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(l in e)this.on(l,n,i,e[l],r);return this}if(null==i&&null==o?(o=n,i=n=t):null==o&&("string"==typeof n?(o=i,i=t):(o=i,i=n,n=t)),o===!1)o=s;else if(!o)return this;return 1===r&&(a=o,o=function(e){return I().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=I.guid++)),this.each(function(){I.event.add(this,e,o,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){if(e&&e.preventDefault&&e.handleObj){var o=e.handleObj;return I(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this}if("object"==typeof e){for(var r in e)this.off(r,n,e[r]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=s),this.each(function(){I.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return I(this.context).on(e,this.selector,t,n),this},die:function(e,t){return I(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){I.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?I.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||I.guid++,i=0,o=function(n){var o=(I._data(this,"lastToggle"+e.guid)||0)%i;return I._data(this,"lastToggle"+e.guid,o+1),n.preventDefault(),t[o].apply(this,arguments)||!1};for(o.guid=n;i<t.length;)t[i++].guid=n;return this.click(o)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),I.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){I.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},I.attrFn&&(I.attrFn[t]=!0),ee.test(t)&&(I.event.fixHooks[t]=I.event.keyHooks),te.test(t)&&(I.event.fixHooks[t]=I.event.mouseHooks)}),/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
function(){function e(e,t,n,i,r,s){for(var a=0,l=i.length;l>a;a++){var c=i[a];if(c){var u=!1;for(c=c[e];c;){if(c[o]===n){u=i[c.sizset];break}if(1!==c.nodeType||s||(c[o]=n,c.sizset=a),c.nodeName.toLowerCase()===t){u=c;break}c=c[e]}i[a]=u}}}function n(e,t,n,i,r,s){for(var a=0,l=i.length;l>a;a++){var c=i[a];if(c){var u=!1;for(c=c[e];c;){if(c[o]===n){u=i[c.sizset];break}if(1===c.nodeType)if(s||(c[o]=n,c.sizset=a),"string"!=typeof t){if(c===t){u=!0;break}}else if(p.filter(t,[c]).length>0){u=c;break}c=c[e]}i[a]=u}}}var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o="sizcache"+(Math.random()+"").replace(".",""),r=0,s=Object.prototype.toString,a=!1,l=!0,c=/\\/g,u=/\r\n/g,d=/\W/;[0,0].sort(function(){return l=!1,0});var p=function(e,t,n,o){n=n||[],t=t||A;var r=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;var a,l,c,u,d,h,g,v,y=!0,b=p.isXML(t),w=[],j=e;do if(i.exec(""),a=i.exec(j),a&&(j=a[3],w.push(a[1]),a[2])){u=a[3];break}while(a);if(w.length>1&&m.exec(e))if(2===w.length&&f.relative[w[0]])l=x(w[0]+w[1],t,o);else for(l=f.relative[w[0]]?[t]:p(w.shift(),t);w.length;)e=w.shift(),f.relative[e]&&(e+=w.shift()),l=x(e,l,o);else if(!o&&w.length>1&&9===t.nodeType&&!b&&f.match.ID.test(w[0])&&!f.match.ID.test(w[w.length-1])&&(d=p.find(w.shift(),t,b),t=d.expr?p.filter(d.expr,d.set)[0]:d.set[0]),t)for(d=o?{expr:w.pop(),set:_(o)}:p.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!t.parentNode?t:t.parentNode,b),l=d.expr?p.filter(d.expr,d.set):d.set,w.length>0?c=_(l):y=!1;w.length;)h=w.pop(),g=h,f.relative[h]?g=w.pop():h="",null==g&&(g=t),f.relative[h](c,g,b);else c=w=[];if(c||(c=l),c||p.error(h||e),"[object Array]"===s.call(c))if(y)if(t&&1===t.nodeType)for(v=0;null!=c[v];v++)c[v]&&(c[v]===!0||1===c[v].nodeType&&p.contains(t,c[v]))&&n.push(l[v]);else for(v=0;null!=c[v];v++)c[v]&&1===c[v].nodeType&&n.push(l[v]);else n.push.apply(n,c);else _(c,n);return u&&(p(u,r,n,o),p.uniqueSort(n)),n};p.uniqueSort=function(e){if(b&&(a=l,e.sort(b),a))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},p.matches=function(e,t){return p(e,null,null,t)},p.matchesSelector=function(e,t){return p(t,null,null,[e]).length>0},p.find=function(e,t,n){var i,o,r,s,a,l;if(!e)return[];for(o=0,r=f.order.length;r>o;o++)if(a=f.order[o],(s=f.leftMatch[a].exec(e))&&(l=s[1],s.splice(1,1),"\\"!==l.substr(l.length-1)&&(s[1]=(s[1]||"").replace(c,""),i=f.find[a](s,t,n),null!=i))){e=e.replace(f.match[a],"");break}return i||(i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:i,expr:e}},p.filter=function(e,n,i,o){for(var r,s,a,l,c,u,d,h,m,g=e,v=[],_=n,y=n&&n[0]&&p.isXML(n[0]);e&&n.length;){for(a in f.filter)if(null!=(r=f.leftMatch[a].exec(e))&&r[2]){if(u=f.filter[a],d=r[1],s=!1,r.splice(1,1),"\\"===d.substr(d.length-1))continue;if(_===v&&(v=[]),f.preFilter[a])if(r=f.preFilter[a](r,_,i,v,o,y)){if(r===!0)continue}else s=l=!0;if(r)for(h=0;null!=(c=_[h]);h++)c&&(l=u(c,r,h,_),m=o^l,i&&null!=l?m?s=!0:_[h]=!1:m&&(v.push(c),s=!0));if(l!==t){if(i||(_=v),e=e.replace(f.match[a],""),!s)return[];break}}if(e===g){if(null!=s)break;p.error(e)}g=e}return _},p.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var h=p.getText=function(e){var t,n,i=e.nodeType,o="";if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(u,"");for(e=e.firstChild;e;e=e.nextSibling)o+=h(e)}else if(3===i||4===i)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(o+=h(n));return o},f=p.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,i=n&&!d.test(t),o=n&&!i;i&&(t=t.toLowerCase());for(var r,s=0,a=e.length;a>s;s++)if(r=e[s]){for(;(r=r.previousSibling)&&1!==r.nodeType;);e[s]=o||r&&r.nodeName.toLowerCase()===t?r||!1:r===t}o&&p.filter(t,e,!0)},">":function(e,t){var n,i="string"==typeof t,o=0,r=e.length;if(i&&!d.test(t)){for(t=t.toLowerCase();r>o;o++)if(n=e[o]){var s=n.parentNode;e[o]=s.nodeName.toLowerCase()===t?s:!1}}else{for(;r>o;o++)n=e[o],n&&(e[o]=i?n.parentNode:n.parentNode===t);i&&p.filter(t,e,!0)}},"":function(t,i,o){var s,a=r++,l=n;"string"!=typeof i||d.test(i)||(i=i.toLowerCase(),s=i,l=e),l("parentNode",i,a,t,s,o)},"~":function(t,i,o){var s,a=r++,l=n;"string"!=typeof i||d.test(i)||(i=i.toLowerCase(),s=i,l=e),l("previousSibling",i,a,t,s,o)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i&&i.parentNode?[i]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],i=t.getElementsByName(e[1]),o=0,r=i.length;r>o;o++)i[o].getAttribute("name")===e[1]&&n.push(i[o]);return 0===n.length?null:n}},TAG:function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,n,i,o,r){if(e=" "+e[1].replace(c,"")+" ",r)return e;for(var s,a=0;null!=(s=t[a]);a++)s&&(o^(s.className&&(" "+s.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||i.push(s):n&&(t[a]=!1));return!1},ID:function(e){return e[1].replace(c,"")},TAG:function(e,t){return e[1].replace(c,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||p.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&p.error(e[0]);return e[0]=r++,e},ATTR:function(e,t,n,i,o,r){var s=e[1]=e[1].replace(c,"");return!r&&f.attrMap[s]&&(e[1]=f.attrMap[s]),e[4]=(e[4]||e[5]||"").replace(c,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,o,r){if("not"===e[1]){if(!((i.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var s=p.filter(e[3],t,n,!0^r);return n||o.push.apply(o,s),!1}e[3]=p(e[3],null,null,t)}else if(f.match.POS.test(e[0])||f.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!p(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,i){var o=t[1],r=f.filters[o];if(r)return r(e,n,t,i);if("contains"===o)return(e.textContent||e.innerText||h([e])||"").indexOf(t[3])>=0;if("not"===o){for(var s=t[3],a=0,l=s.length;l>a;a++)if(s[a]===e)return!1;return!0}p.error(o)},CHILD:function(e,t){var n,i,r,s,a,l,c=t[1],u=e;switch(c){case"only":case"first":for(;u=u.previousSibling;)if(1===u.nodeType)return!1;if("first"===c)return!0;u=e;case"last":for(;u=u.nextSibling;)if(1===u.nodeType)return!1;return!0;case"nth":if(n=t[2],i=t[3],1===n&&0===i)return!0;if(r=t[0],s=e.parentNode,s&&(s[o]!==r||!e.nodeIndex)){for(a=0,u=s.firstChild;u;u=u.nextSibling)1===u.nodeType&&(u.nodeIndex=++a);s[o]=r}return l=e.nodeIndex-i,0===n?0===l:l%n===0&&l/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=p.attr?p.attr(e,n):f.attrHandle[n]?f.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),o=i+"",r=t[2],s=t[4];return null==i?"!="===r:!r&&p.attr?null!=i:"="===r?o===s:"*="===r?o.indexOf(s)>=0:"~="===r?(" "+o+" ").indexOf(s)>=0:s?"!="===r?o!==s:"^="===r?0===o.indexOf(s):"$="===r?o.substr(o.length-s.length)===s:"|="===r?o===s||o.substr(0,s.length+1)===s+"-":!1:o&&i!==!1},POS:function(e,t,n,i){var o=t[2],r=f.setFilters[o];return r?r(e,n,t,i):void 0}}},m=f.match.POS,g=function(e,t){return"\\"+(t-0+1)};for(var v in f.match)f.match[v]=new RegExp(f.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),f.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+f.match[v].source.replace(/\\(\d+)/g,g));f.match.globalPOS=m;var _=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(A.documentElement.childNodes,0)[0].nodeType}catch(y){_=function(e,t){var n=0,i=t||[];if("[object Array]"===s.call(e))Array.prototype.push.apply(i,e);else if("number"==typeof e.length)for(var o=e.length;o>n;n++)i.push(e[n]);else for(;e[n];n++)i.push(e[n]);return i}}var b,w;A.documentElement.compareDocumentPosition?b=function(e,t){return e===t?(a=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(b=function(e,t){if(e===t)return a=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,o=[],r=[],s=e.parentNode,l=t.parentNode,c=s;if(s===l)return w(e,t);if(!s)return-1;if(!l)return 1;for(;c;)o.unshift(c),c=c.parentNode;for(c=l;c;)r.unshift(c),c=c.parentNode;n=o.length,i=r.length;for(var u=0;n>u&&i>u;u++)if(o[u]!==r[u])return w(o[u],r[u]);return u===n?w(e,r[u],-1):w(o[u],t,1)},w=function(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}),function(){var e=A.createElement("div"),n="script"+(new Date).getTime(),i=A.documentElement;e.innerHTML="<a name='"+n+"'/>",i.insertBefore(e,i.firstChild),A.getElementById(n)&&(f.find.ID=function(e,n,i){if("undefined"!=typeof n.getElementById&&!i){var o=n.getElementById(e[1]);return o?o.id===e[1]||"undefined"!=typeof o.getAttributeNode&&o.getAttributeNode("id").nodeValue===e[1]?[o]:t:[]}},f.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),i.removeChild(e),i=e=null}(),function(){var e=A.createElement("div");e.appendChild(A.createComment("")),e.getElementsByTagName("*").length>0&&(f.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],o=0;n[o];o++)1===n[o].nodeType&&i.push(n[o]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(f.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),A.querySelectorAll&&!function(){var e=p,t=A.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){p=function(t,i,o,r){if(i=i||A,!r&&!p.isXML(i)){var s=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(s&&(1===i.nodeType||9===i.nodeType)){if(s[1])return _(i.getElementsByTagName(t),o);if(s[2]&&f.find.CLASS&&i.getElementsByClassName)return _(i.getElementsByClassName(s[2]),o)}if(9===i.nodeType){if("body"===t&&i.body)return _([i.body],o);if(s&&s[3]){var a=i.getElementById(s[3]);if(!a||!a.parentNode)return _([],o);if(a.id===s[3])return _([a],o)}try{return _(i.querySelectorAll(t),o)}catch(l){}}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var c=i,u=i.getAttribute("id"),d=u||n,h=i.parentNode,m=/^\s*[+~]/.test(t);u?d=d.replace(/'/g,"\\$&"):i.setAttribute("id",d),m&&h&&(i=i.parentNode);try{if(!m||h)return _(i.querySelectorAll("[id='"+d+"'] "+t),o)}catch(g){}finally{u||c.removeAttribute("id")}}}return e(t,i,o,r)};for(var i in e)p[i]=e[i];t=null}}(),function(){var e=A.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(A.createElement("div"),"div"),i=!1;try{t.call(A.documentElement,"[test!='']:sizzle")}catch(o){i=!0}p.matchesSelector=function(e,o){if(o=o.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!p.isXML(e))try{if(i||!f.match.PSEUDO.test(o)&&!/!=/.test(o)){var r=t.call(e,o);if(r||!n||e.document&&11!==e.document.nodeType)return r}}catch(s){}return p(o,null,null,[e]).length>0}}}(),function(){var e=A.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(f.order.splice(1,0,"CLASS"),f.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null))}(),p.contains=A.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:A.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(){return!1},p.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var x=function(e,t,n){for(var i,o=[],r="",s=t.nodeType?[t]:t;i=f.match.PSEUDO.exec(e);)r+=i[0],e=e.replace(f.match.PSEUDO,"");e=f.relative[e]?e+"*":e;for(var a=0,l=s.length;l>a;a++)p(e,s[a],o,n);return p.filter(r,o)};p.attr=I.attr,p.selectors.attrMap={},I.find=p,I.expr=p.selectors,I.expr[":"]=I.expr.filters,I.unique=p.uniqueSort,I.text=p.getText,I.isXMLDoc=p.isXML,I.contains=p.contains}();var ae=/Until$/,le=/^(?:parents|prevUntil|prevAll)/,ce=/,/,ue=/^.[^:#\[\.,]*$/,de=Array.prototype.slice,pe=I.expr.match.globalPOS,he={children:!0,contents:!0,next:!0,prev:!0};I.fn.extend({find:function(e){var t,n,i=this;if("string"!=typeof e)return I(e).filter(function(){for(t=0,n=i.length;n>t;t++)if(I.contains(i[t],this))return!0});var o,r,s,a=this.pushStack("","find",e);for(t=0,n=this.length;n>t;t++)if(o=a.length,I.find(e,this[t],a),t>0)for(r=o;r<a.length;r++)for(s=0;o>s;s++)if(a[s]===a[r]){a.splice(r--,1);break}return a},has:function(e){var t=I(e);return this.filter(function(){for(var e=0,n=t.length;n>e;e++)if(I.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?pe.test(e)?I(e,this.context).index(this[0])>=0:I.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,i,o=[],r=this[0];if(I.isArray(e)){for(var s=1;r&&r.ownerDocument&&r!==t;){for(n=0;n<e.length;n++)I(r).is(e[n])&&o.push({selector:e[n],elem:r,level:s});r=r.parentNode,s++}return o}var a=pe.test(e)||"string"!=typeof e?I(e,t||this.context):0;for(n=0,i=this.length;i>n;n++)for(r=this[n];r;){if(a?a.index(r)>-1:I.find.matchesSelector(r,e)){o.push(r);break}if(r=r.parentNode,!r||!r.ownerDocument||r===t||11===r.nodeType)break}return o=o.length>1?I.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?I.inArray(this[0],I(e)):I.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?I(e,t):I.makeArray(e&&e.nodeType?[e]:e),i=I.merge(this.get(),n);return this.pushStack(l(n[0])||l(i[0])?i:I.unique(i))},andSelf:function(){return this.add(this.prevObject)}}),I.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return I.dir(e,"parentNode")},parentsUntil:function(e,t,n){return I.dir(e,"parentNode",n)},next:function(e){return I.nth(e,2,"nextSibling")},prev:function(e){return I.nth(e,2,"previousSibling")},nextAll:function(e){return I.dir(e,"nextSibling")},prevAll:function(e){return I.dir(e,"previousSibling")},nextUntil:function(e,t,n){return I.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return I.dir(e,"previousSibling",n)},siblings:function(e){return I.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return I.sibling(e.firstChild)},contents:function(e){return I.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:I.makeArray(e.childNodes)}},function(e,t){I.fn[e]=function(n,i){var o=I.map(this,t,n);return ae.test(e)||(i=n),i&&"string"==typeof i&&(o=I.filter(i,o)),o=this.length>1&&!he[e]?I.unique(o):o,(this.length>1||ce.test(i))&&le.test(e)&&(o=o.reverse()),this.pushStack(o,e,de.call(arguments).join(","))}}),I.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?I.find.matchesSelector(t[0],e)?[t[0]]:[]:I.find.matches(e,t)},dir:function(e,n,i){for(var o=[],r=e[n];r&&9!==r.nodeType&&(i===t||1!==r.nodeType||!I(r).is(i));)1===r.nodeType&&o.push(r),r=r[n];return o},nth:function(e,t,n,i){t=t||1;for(var o=0;e&&(1!==e.nodeType||++o!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",me=/ jQuery\d+="(?:\d+|null)"/g,ge=/^\s+/,ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,_e=/<([\w:]+)/,ye=/<tbody/i,be=/<|&#?\w+;/,we=/<(?:script|style)/i,xe=/<(?:script|object|embed|option|style)/i,je=new RegExp("<(?:"+fe+")[\\s/>]","i"),Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,ke=/\/(java|ecma)script/i,Se=/^\s*<!(?:\[CDATA\[|\-\-)/,Te={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ee=u(A);Te.optgroup=Te.option,Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead,Te.th=Te.td,I.support.htmlSerialize||(Te._default=[1,"div<div>","</div>"]),I.fn.extend({text:function(e){return I.access(this,function(e){return e===t?I.text(this):this.empty().append((this[0]&&this[0].ownerDocument||A).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(I.isFunction(e))return this.each(function(t){I(this).wrapAll(e.call(this,t))});if(this[0]){var t=I(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(I.isFunction(e)?function(t){I(this).wrapInner(e.call(this,t))}:function(){var t=I(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=I.isFunction(e);return this.each(function(n){I(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){I.nodeName(this,"body")||I(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=I.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,I.clean(arguments)),e}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||I.filter(e,[n]).length)&&(t||1!==n.nodeType||(I.cleanData(n.getElementsByTagName("*")),I.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&I.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return I.clone(this,e,t)})},html:function(e){return I.access(this,function(e){var n=this[0]||{},i=0,o=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(me,""):null;if(!("string"!=typeof e||we.test(e)||!I.support.leadingWhitespace&&ge.test(e)||Te[(_e.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(ve,"<$1></$2>");try{for(;o>i;i++)n=this[i]||{},1===n.nodeType&&(I.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(r){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?I.isFunction(e)?this.each(function(t){var n=I(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=I(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;I(this).remove(),t?I(t).before(e):I(n).append(e)})):this.length?this.pushStack(I(I.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){var o,r,s,a,l=e[0],c=[];if(!I.support.checkClone&&3===arguments.length&&"string"==typeof l&&Ce.test(l))return this.each(function(){I(this).domManip(e,n,i,!0)});if(I.isFunction(l))return this.each(function(o){var r=I(this);e[0]=l.call(this,o,n?r.html():t),r.domManip(e,n,i)});if(this[0]){if(a=l&&l.parentNode,o=I.support.parentNode&&a&&11===a.nodeType&&a.childNodes.length===this.length?{fragment:a}:I.buildFragment(e,this,c),s=o.fragment,r=1===s.childNodes.length?s=s.firstChild:s.firstChild){n=n&&I.nodeName(r,"tr");for(var u=0,p=this.length,h=p-1;p>u;u++)i.call(n?d(this[u],r):this[u],o.cacheable||p>1&&h>u?I.clone(s,!0,!0):s)}c.length&&I.each(c,function(e,t){t.src?I.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):I.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Se,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),I.buildFragment=function(e,t,n){var i,o,r,s,a=e[0];return t&&t[0]&&(s=t[0].ownerDocument||t[0]),s.createDocumentFragment||(s=A),!(1===e.length&&"string"==typeof a&&a.length<512&&s===A&&"<"===a.charAt(0))||xe.test(a)||!I.support.checkClone&&Ce.test(a)||!I.support.html5Clone&&je.test(a)||(o=!0,r=I.fragments[a],r&&1!==r&&(i=r)),i||(i=s.createDocumentFragment(),I.clean(e,s,i,n)),o&&(I.fragments[a]=r?i:1),{fragment:i,cacheable:o}},I.fragments={},I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){I.fn[e]=function(n){var i=[],o=I(n),r=1===this.length&&this[0].parentNode;if(r&&11===r.nodeType&&1===r.childNodes.length&&1===o.length)return o[t](this[0]),this;for(var s=0,a=o.length;a>s;s++){var l=(s>0?this.clone(!0):this).get();I(o[s])[t](l),i=i.concat(l)}return this.pushStack(i,e,o.selector)}}),I.extend({clone:function(e,t,n){var i,o,r,s=I.support.html5Clone||I.isXMLDoc(e)||!je.test("<"+e.nodeName+">")?e.cloneNode(!0):v(e);if(!(I.support.noCloneEvent&&I.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||I.isXMLDoc(e)))for(h(e,s),i=f(e),o=f(s),r=0;i[r];++r)o[r]&&h(i[r],o[r]);if(t&&(p(e,s),n))for(i=f(e),o=f(s),r=0;i[r];++r)p(i[r],o[r]);return i=o=null,s},clean:function(e,t,n,i){var o,r,s,a=[];t=t||A,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||A);for(var l,c=0;null!=(l=e[c]);c++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(be.test(l)){l=l.replace(ve,"<$1></$2>");var d,p=(_e.exec(l)||["",""])[1].toLowerCase(),h=Te[p]||Te._default,f=h[0],m=t.createElement("div"),v=Ee.childNodes;for(t===A?Ee.appendChild(m):u(t).appendChild(m),m.innerHTML=h[1]+l+h[2];f--;)m=m.lastChild;if(!I.support.tbody){var _=ye.test(l),y="table"!==p||_?"<table>"!==h[1]||_?[]:m.childNodes:m.firstChild&&m.firstChild.childNodes;for(s=y.length-1;s>=0;--s)I.nodeName(y[s],"tbody")&&!y[s].childNodes.length&&y[s].parentNode.removeChild(y[s])}!I.support.leadingWhitespace&&ge.test(l)&&m.insertBefore(t.createTextNode(ge.exec(l)[0]),m.firstChild),l=m.childNodes,m&&(m.parentNode.removeChild(m),v.length>0&&(d=v[v.length-1],d&&d.parentNode&&d.parentNode.removeChild(d)))}else l=t.createTextNode(l);var b;if(!I.support.appendChecked)if(l[0]&&"number"==typeof(b=l.length))for(s=0;b>s;s++)g(l[s]);else g(l);l.nodeType?a.push(l):a=I.merge(a,l)}if(n)for(o=function(e){return!e.type||ke.test(e.type)},c=0;a[c];c++)if(r=a[c],i&&I.nodeName(r,"script")&&(!r.type||ke.test(r.type)))i.push(r.parentNode?r.parentNode.removeChild(r):r);else{if(1===r.nodeType){var w=I.grep(r.getElementsByTagName("script"),o);a.splice.apply(a,[c+1,0].concat(w))}n.appendChild(r)}return a},cleanData:function(e){for(var t,n,i,o=I.cache,r=I.event.special,s=I.support.deleteExpando,a=0;null!=(i=e[a]);a++)if((!i.nodeName||!I.noData[i.nodeName.toLowerCase()])&&(n=i[I.expando])){if(t=o[n],t&&t.events){for(var l in t.events)r[l]?I.event.remove(i,l):I.removeEvent(i,l,t.handle);t.handle&&(t.handle.elem=null)}s?delete i[I.expando]:i.removeAttribute&&i.removeAttribute(I.expando),delete o[n]}}});var $e,Fe,De,Ae=/alpha\([^)]*\)/i,Ne=/opacity=([^)]*)/,Le=/([A-Z]|^ms)/g,Ie=/^[\-+]?(?:\d*\.)?\d+$/i,Oe=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Pe=/^([\-+])=([\-+.\de]+)/,Ue=/^margin/,Me={position:"absolute",visibility:"hidden",display:"block"},Be=["Top","Right","Bottom","Left"];I.fn.css=function(e,n){return I.access(this,function(e,n,i){return i!==t?I.style(e,n,i):I.css(e,n)},e,n,arguments.length>1)},I.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=$e(e,"opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":I.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,a=I.camelCase(n),l=e.style,c=I.cssHooks[a];if(n=I.cssProps[a]||a,i===t)return c&&"get"in c&&(r=c.get(e,!1,o))!==t?r:l[n];if(s=typeof i,"string"===s&&(r=Pe.exec(i))&&(i=+(r[1]+1)*+r[2]+parseFloat(I.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||I.cssNumber[a]||(i+="px"),c&&"set"in c&&(i=c.set(e,i))===t)))try{l[n]=i}catch(u){}}},css:function(e,n,i){var o,r;return n=I.camelCase(n),r=I.cssHooks[n],n=I.cssProps[n]||n,"cssFloat"===n&&(n="float"),r&&"get"in r&&(o=r.get(e,!0,i))!==t?o:$e?$e(e,n):void 0},swap:function(e,t,n){var i,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];i=n.call(e);for(o in t)e.style[o]=r[o];return i}}),I.curCSS=I.css,A.defaultView&&A.defaultView.getComputedStyle&&(Fe=function(e,t){var n,i,o,r,s=e.style;return t=t.replace(Le,"-$1").toLowerCase(),(i=e.ownerDocument.defaultView)&&(o=i.getComputedStyle(e,null))&&(n=o.getPropertyValue(t),""!==n||I.contains(e.ownerDocument.documentElement,e)||(n=I.style(e,t))),!I.support.pixelMargin&&o&&Ue.test(t)&&Oe.test(n)&&(r=s.width,s.width=n,n=o.width,s.width=r),n}),A.documentElement.currentStyle&&(De=function(e,t){var n,i,o,r=e.currentStyle&&e.currentStyle[t],s=e.style;return null==r&&s&&(o=s[t])&&(r=o),Oe.test(r)&&(n=s.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),s.left="fontSize"===t?"1em":r,r=s.pixelLeft+"px",s.left=n,i&&(e.runtimeStyle.left=i)),""===r?"auto":r}),$e=Fe||De,I.each(["height","width"],function(e,t){I.cssHooks[t]={get:function(e,n,i){return n?0!==e.offsetWidth?_(e,t,i):I.swap(e,Me,function(){return _(e,t,i)}):void 0},set:function(e,t){return Ie.test(t)?t+"px":t}}}),I.support.opacity||(I.cssHooks.opacity={get:function(e,t){return Ne.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=I.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===I.trim(r.replace(Ae,""))&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=Ae.test(r)?r.replace(Ae,o):r+" "+o)}}),I(function(){I.support.reliableMarginRight||(I.cssHooks.marginRight={get:function(e,t){return I.swap(e,{display:"inline-block"},function(){return t?$e(e,"margin-right"):e.style.marginRight})}})}),I.expr&&I.expr.filters&&(I.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!I.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||I.css(e,"display"))},I.expr.filters.visible=function(e){return!I.expr.filters.hidden(e)}),I.each({margin:"",padding:"",border:"Width"},function(e,t){I.cssHooks[e+t]={expand:function(n){var i,o="string"==typeof n?n.split(" "):[n],r={};for(i=0;4>i;i++)r[e+Be[i]+t]=o[i]||o[i-2]||o[0];return r}}});var Re,We,He=/%20/g,qe=/\[\]$/,ze=/\r?\n/g,Xe=/#.*$/,Ye=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ve=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ge=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Qe=/^(?:GET|HEAD)$/,Ke=/^\/\//,Je=/\?/,Ze=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,et=/^(?:select|textarea)/i,tt=/\s+/,nt=/([?&])_=[^&]*/,it=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,ot=I.fn.load,rt={},st={},at=["*/"]+["*"];try{Re=L.href}catch(lt){Re=A.createElement("a"),Re.href="",Re=Re.href}We=it.exec(Re.toLowerCase())||[],I.fn.extend({load:function(e,n,i){if("string"!=typeof e&&ot)return ot.apply(this,arguments);if(!this.length)return this;var o=e.indexOf(" ");if(o>=0){var r=e.slice(o,e.length);e=e.slice(0,o)}var s="GET";n&&(I.isFunction(n)?(i=n,n=t):"object"==typeof n&&(n=I.param(n,I.ajaxSettings.traditional),s="POST"));var a=this;return I.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),a.html(r?I("<div>").append(n.replace(Ze,"")).find(r):n)),i&&a.each(i,[n,t,e])}}),this},serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?I.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||et.test(this.nodeName)||Ve.test(this.type))}).map(function(e,t){var n=I(this).val();return null==n?null:I.isArray(n)?I.map(n,function(e,n){return{name:t.name,value:e.replace(ze,"\r\n")}}):{name:t.name,value:n.replace(ze,"\r\n")}}).get()}}),I.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){I.fn[t]=function(e){return this.on(t,e)}}),I.each(["get","post"],function(e,n){I[n]=function(e,i,o,r){return I.isFunction(i)&&(r=r||o,o=i,i=t),I.ajax({type:n,url:e,data:i,success:o,dataType:r})}}),I.extend({getScript:function(e,n){return I.get(e,t,n,"script")},getJSON:function(e,t,n){return I.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?w(e,I.ajaxSettings):(t=e,e=I.ajaxSettings),w(e,t),e},ajaxSettings:{url:Re,isLocal:Ge.test(We[1]),
global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":at},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":I.parseJSON,"text xml":I.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(rt),ajaxTransport:y(st),ajax:function(e,n){function i(e,n,i,s){if(2!==w){w=2,l&&clearTimeout(l),a=t,r=s||"",x.readyState=e>0?4:0;var c,d,_,y,b,k=n,S=i?j(p,x,i):t;if(e>=200&&300>e||304===e)if(p.ifModified&&((y=x.getResponseHeader("Last-Modified"))&&(I.lastModified[o]=y),(b=x.getResponseHeader("Etag"))&&(I.etag[o]=b)),304===e)k="notmodified",c=!0;else try{d=C(p,S),k="success",c=!0}catch(T){k="parsererror",_=T}else _=k,(!k||e)&&(k="error",0>e&&(e=0));x.status=e,x.statusText=""+(n||k),c?m.resolveWith(h,[d,k,x]):m.rejectWith(h,[x,k,_]),x.statusCode(v),v=t,u&&f.trigger("ajax"+(c?"Success":"Error"),[x,p,c?d:_]),g.fireWith(h,[x,k]),u&&(f.trigger("ajaxComplete",[x,p]),--I.active||I.event.trigger("ajaxStop"))}}"object"==typeof e&&(n=e,e=t),n=n||{};var o,r,s,a,l,c,u,d,p=I.ajaxSetup({},n),h=p.context||p,f=h!==p&&(h.nodeType||h instanceof I)?I(h):I.event,m=I.Deferred(),g=I.Callbacks("once memory"),v=p.statusCode||{},_={},y={},w=0,x={readyState:0,setRequestHeader:function(e,t){if(!w){var n=e.toLowerCase();e=y[n]=y[n]||e,_[e]=t}return this},getAllResponseHeaders:function(){return 2===w?r:null},getResponseHeader:function(e){var n;if(2===w){if(!s)for(s={};n=Ye.exec(r);)s[n[1].toLowerCase()]=n[2];n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return w||(p.mimeType=e),this},abort:function(e){return e=e||"abort",a&&a.abort(e),i(0,e),this}};if(m.promise(x),x.success=x.done,x.error=x.fail,x.complete=g.add,x.statusCode=function(e){if(e){var t;if(2>w)for(t in e)v[t]=[v[t],e[t]];else t=e[x.status],x.then(t,t)}return this},p.url=((e||p.url)+"").replace(Xe,"").replace(Ke,We[1]+"//"),p.dataTypes=I.trim(p.dataType||"*").toLowerCase().split(tt),null==p.crossDomain&&(c=it.exec(p.url.toLowerCase()),p.crossDomain=!(!c||c[1]==We[1]&&c[2]==We[2]&&(c[3]||("http:"===c[1]?80:443))==(We[3]||("http:"===We[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=I.param(p.data,p.traditional)),b(rt,p,n,x),2===w)return!1;if(u=p.global,p.type=p.type.toUpperCase(),p.hasContent=!Qe.test(p.type),u&&0===I.active++&&I.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Je.test(p.url)?"&":"?")+p.data,delete p.data),o=p.url,p.cache===!1)){var k=I.now(),S=p.url.replace(nt,"$1_="+k);p.url=S+(S===p.url?(Je.test(p.url)?"&":"?")+"_="+k:"")}(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(o=o||p.url,I.lastModified[o]&&x.setRequestHeader("If-Modified-Since",I.lastModified[o]),I.etag[o]&&x.setRequestHeader("If-None-Match",I.etag[o])),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+at+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)x.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(h,x,p)===!1||2===w))return x.abort(),!1;for(d in{success:1,error:1,complete:1})x[d](p[d]);if(a=b(st,p,n,x)){x.readyState=1,u&&f.trigger("ajaxSend",[x,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},p.timeout));try{w=1,a.send(_,i)}catch(T){if(!(2>w))throw T;i(-1,T)}}else i(-1,"No Transport");return x},param:function(e,n){var i=[],o=function(e,t){t=I.isFunction(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=I.ajaxSettings.traditional),I.isArray(e)||e.jquery&&!I.isPlainObject(e))I.each(e,function(){o(this.name,this.value)});else for(var r in e)x(r,e[r],n,o);return i.join("&").replace(He,"+")}}),I.extend({active:0,lastModified:{},etag:{}});var ct=I.now(),ut=/(\=)\?(&|$)|\?\?/i;I.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return I.expando+"_"+ct++}}),I.ajaxPrefilter("json jsonp",function(t,n,i){var o="string"==typeof t.data&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if("jsonp"===t.dataTypes[0]||t.jsonp!==!1&&(ut.test(t.url)||o&&ut.test(t.data))){var r,s=t.jsonpCallback=I.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a=e[s],l=t.url,c=t.data,u="$1"+s+"$2";return t.jsonp!==!1&&(l=l.replace(ut,u),t.url===l&&(o&&(c=c.replace(ut,u)),t.data===c&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+s))),t.url=l,t.data=c,e[s]=function(e){r=[e]},i.always(function(){e[s]=a,r&&I.isFunction(a)&&e[s](r[0])}),t.converters["script json"]=function(){return r||I.error(s+" was not called"),r[0]},t.dataTypes[0]="json","script"}}),I.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return I.globalEval(e),e}}}),I.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),I.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=A.head||A.getElementsByTagName("head")[0]||A.documentElement;return{send:function(o,r){n=A.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,o){(o||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,o||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var dt,pt=e.ActiveXObject?function(){for(var e in dt)dt[e](0,1)}:!1,ht=0;I.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&k()||S()}:k,function(e){I.extend(I.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(I.ajaxSettings.xhr()),I.support.ajax&&I.ajaxTransport(function(n){if(!n.crossDomain||I.support.cors){var i;return{send:function(o,r){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)l.setRequestHeader(a,o[a])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,o){var a,c,u,d,p;try{if(i&&(o||4===l.readyState))if(i=t,s&&(l.onreadystatechange=I.noop,pt&&delete dt[s]),o)4!==l.readyState&&l.abort();else{a=l.status,u=l.getAllResponseHeaders(),d={},p=l.responseXML,p&&p.documentElement&&(d.xml=p);try{d.text=l.responseText}catch(e){}try{c=l.statusText}catch(h){c=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(f){o||r(-1,f)}d&&r(a,c,d,u)},n.async&&4!==l.readyState?(s=++ht,pt&&(dt||(dt={},I(e).unload(pt)),dt[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var ft,mt,gt,vt,_t={},yt=/^(?:toggle|show|hide)$/,bt=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,wt=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];I.fn.extend({show:function(e,t,n){var i,o;if(e||0===e)return this.animate($("show",3),e,t,n);for(var r=0,s=this.length;s>r;r++)i=this[r],i.style&&(o=i.style.display,I._data(i,"olddisplay")||"none"!==o||(o=i.style.display=""),(""===o&&"none"===I.css(i,"display")||!I.contains(i.ownerDocument.documentElement,i))&&I._data(i,"olddisplay",F(i.nodeName)));for(r=0;s>r;r++)i=this[r],i.style&&(o=i.style.display,(""===o||"none"===o)&&(i.style.display=I._data(i,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate($("hide",3),e,t,n);for(var i,o,r=0,s=this.length;s>r;r++)i=this[r],i.style&&(o=I.css(i,"display"),"none"===o||I._data(i,"olddisplay")||I._data(i,"olddisplay",o));for(r=0;s>r;r++)this[r].style&&(this[r].style.display="none");return this},_toggle:I.fn.toggle,toggle:function(e,t,n){var i="boolean"==typeof e;return I.isFunction(e)&&I.isFunction(t)?this._toggle.apply(this,arguments):null==e||i?this.each(function(){var t=i?e:I(this).is(":hidden");I(this)[t?"show":"hide"]()}):this.animate($("toggle",3),e,t,n),this},fadeTo:function(e,t,n,i){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){function o(){r.queue===!1&&I._mark(this);var t,n,i,o,s,a,l,c,u,d,p,h=I.extend({},r),f=1===this.nodeType,m=f&&I(this).is(":hidden");h.animatedProperties={};for(i in e)if(t=I.camelCase(i),i!==t&&(e[t]=e[i],delete e[i]),(s=I.cssHooks[t])&&"expand"in s){a=s.expand(e[t]),delete e[t];for(i in a)i in e||(e[i]=a[i])}for(t in e){if(n=e[t],I.isArray(n)?(h.animatedProperties[t]=n[1],n=e[t]=n[0]):h.animatedProperties[t]=h.specialEasing&&h.specialEasing[t]||h.easing||"swing","hide"===n&&m||"show"===n&&!m)return h.complete.call(this);!f||"height"!==t&&"width"!==t||(h.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===I.css(this,"display")&&"none"===I.css(this,"float")&&(I.support.inlineBlockNeedsLayout&&"inline"!==F(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=h.overflow&&(this.style.overflow="hidden");for(i in e)o=new I.fx(this,h,i),n=e[i],yt.test(n)?(p=I._data(this,"toggle"+i)||("toggle"===n?m?"show":"hide":0),p?(I._data(this,"toggle"+i,"show"===p?"hide":"show"),o[p]()):o[n]()):(l=bt.exec(n),c=o.cur(),l?(u=parseFloat(l[2]),d=l[3]||(I.cssNumber[i]?"":"px"),"px"!==d&&(I.style(this,i,(u||1)+d),c=(u||1)/o.cur()*c,I.style(this,i,c+d)),l[1]&&(u=("-="===l[1]?-1:1)*u+c),o.custom(c,u,d)):o.custom(c,n,""));return!0}var r=I.speed(t,n,i);return I.isEmptyObject(e)?this.each(r.complete,[!1]):(e=I.extend({},e),r.queue===!1?this.each(o):this.queue(r.queue,o))},stop:function(e,n,i){return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,n){var o=t[n];I.removeData(e,n,!0),o.stop(i)}var n,o=!1,r=I.timers,s=I._data(this);if(i||I._unmark(!0,this),null==e)for(n in s)s[n]&&s[n].stop&&n.indexOf(".run")===n.length-4&&t(this,s,n);else s[n=e+".run"]&&s[n].stop&&t(this,s,n);for(n=r.length;n--;)r[n].elem!==this||null!=e&&r[n].queue!==e||(i?r[n](!0):r[n].saveState(),o=!0,r.splice(n,1));i&&o||I.dequeue(this,e)})}}),I.each({slideDown:$("show",1),slideUp:$("hide",1),slideToggle:$("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){I.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),I.extend({speed:function(e,t,n){var i=e&&"object"==typeof e?I.extend({},e):{complete:n||!n&&t||I.isFunction(e)&&e,duration:e,easing:n&&t||t&&!I.isFunction(t)&&t};return i.duration=I.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in I.fx.speeds?I.fx.speeds[i.duration]:I.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(e){I.isFunction(i.old)&&i.old.call(this),i.queue?I.dequeue(this,i.queue):e!==!1&&I._unmark(this)},i},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),I.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(I.fx.step[this.prop]||I.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=I.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,n,i){function o(e){return r.step(e)}var r=this,s=I.fx;this.startTime=vt||T(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=i||this.unit||(I.cssNumber[this.prop]?"":"px"),o.queue=this.options.queue,o.elem=this.elem,o.saveState=function(){I._data(r.elem,"fxshow"+r.prop)===t&&(r.options.hide?I._data(r.elem,"fxshow"+r.prop,r.start):r.options.show&&I._data(r.elem,"fxshow"+r.prop,r.end))},o()&&I.timers.push(o)&&!gt&&(gt=setInterval(s.tick,s.interval))},show:function(){var e=I._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||I.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),I(this.elem).show()},hide:function(){this.options.orig[this.prop]=I._data(this.elem,"fxshow"+this.prop)||I.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,i,o=vt||T(),r=!0,s=this.elem,a=this.options;if(e||o>=a.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),a.animatedProperties[this.prop]=!0;for(t in a.animatedProperties)a.animatedProperties[t]!==!0&&(r=!1);if(r){if(null==a.overflow||I.support.shrinkWrapBlocks||I.each(["","X","Y"],function(e,t){s.style["overflow"+t]=a.overflow[e]}),a.hide&&I(s).hide(),a.hide||a.show)for(t in a.animatedProperties)I.style(s,t,a.orig[t]),I.removeData(s,"fxshow"+t,!0),I.removeData(s,"toggle"+t,!0);i=a.complete,i&&(a.complete=!1,i.call(s))}return!1}return a.duration==1/0?this.now=o:(n=o-this.startTime,this.state=n/a.duration,this.pos=I.easing[a.animatedProperties[this.prop]](this.state,n,0,1,a.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},I.extend(I.fx,{tick:function(){for(var e,t=I.timers,n=0;n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||I.fx.stop()},interval:13,stop:function(){clearInterval(gt),gt=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){I.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),I.each(wt.concat.apply([],wt),function(e,t){t.indexOf("margin")&&(I.fx.step[t]=function(e){I.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),I.expr&&I.expr.filters&&(I.expr.filters.animated=function(e){return I.grep(I.timers,function(t){return e===t.elem}).length});var xt,jt=/^t(?:able|d|h)$/i,Ct=/^(?:body|html)$/i;xt="getBoundingClientRect"in A.documentElement?function(e,t,n,i){try{i=e.getBoundingClientRect()}catch(o){}if(!i||!I.contains(n,e))return i?{top:i.top,left:i.left}:{top:0,left:0};var r=t.body,s=D(t),a=n.clientTop||r.clientTop||0,l=n.clientLeft||r.clientLeft||0,c=s.pageYOffset||I.support.boxModel&&n.scrollTop||r.scrollTop,u=s.pageXOffset||I.support.boxModel&&n.scrollLeft||r.scrollLeft,d=i.top+c-a,p=i.left+u-l;return{top:d,left:p}}:function(e,t,n){for(var i,o=e.offsetParent,r=e,s=t.body,a=t.defaultView,l=a?a.getComputedStyle(e,null):e.currentStyle,c=e.offsetTop,u=e.offsetLeft;(e=e.parentNode)&&e!==s&&e!==n&&(!I.support.fixedPosition||"fixed"!==l.position);)i=a?a.getComputedStyle(e,null):e.currentStyle,c-=e.scrollTop,u-=e.scrollLeft,e===o&&(c+=e.offsetTop,u+=e.offsetLeft,!I.support.doesNotAddBorder||I.support.doesAddBorderForTableAndCells&&jt.test(e.nodeName)||(c+=parseFloat(i.borderTopWidth)||0,u+=parseFloat(i.borderLeftWidth)||0),r=o,o=e.offsetParent),I.support.subtractsBorderForOverflowNotVisible&&"visible"!==i.overflow&&(c+=parseFloat(i.borderTopWidth)||0,u+=parseFloat(i.borderLeftWidth)||0),l=i;return("relative"===l.position||"static"===l.position)&&(c+=s.offsetTop,u+=s.offsetLeft),I.support.fixedPosition&&"fixed"===l.position&&(c+=Math.max(n.scrollTop,s.scrollTop),u+=Math.max(n.scrollLeft,s.scrollLeft)),{top:c,left:u}},I.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){I.offset.setOffset(this,e,t)});var n=this[0],i=n&&n.ownerDocument;return i?n===i.body?I.offset.bodyOffset(n):xt(n,i,i.documentElement):null},I.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return I.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(I.css(e,"marginTop"))||0,n+=parseFloat(I.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=I.css(e,"position");"static"===i&&(e.style.position="relative");var o,r,s=I(e),a=s.offset(),l=I.css(e,"top"),c=I.css(e,"left"),u=("absolute"===i||"fixed"===i)&&I.inArray("auto",[l,c])>-1,d={},p={};u?(p=s.position(),o=p.top,r=p.left):(o=parseFloat(l)||0,r=parseFloat(c)||0),I.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):s.css(d)}},I.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),i=Ct.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(I.css(e,"marginTop"))||0,n.left-=parseFloat(I.css(e,"marginLeft"))||0,i.top+=parseFloat(I.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(I.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||A.body;e&&!Ct.test(e.nodeName)&&"static"===I.css(e,"position");)e=e.offsetParent;return e})}}),I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);I.fn[e]=function(o){return I.access(this,function(e,o,r){var s=D(e);return r===t?s?n in s?s[n]:I.support.boxModel&&s.document.documentElement[o]||s.document.body[o]:e[o]:void(s?s.scrollTo(i?I(s).scrollLeft():r,i?r:I(s).scrollTop()):e[o]=r)},e,o,arguments.length,null)}}),I.each({Height:"height",Width:"width"},function(e,n){var i="client"+e,o="scroll"+e,r="offset"+e;I.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(I.css(e,n,"padding")):this[n]():null},I.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(I.css(t,n,e?"margin":"border")):this[n]():null},I.fn[n]=function(e){return I.access(this,function(e,n,s){var a,l,c,u;return I.isWindow(e)?(a=e.document,l=a.documentElement[i],I.support.boxModel&&l||a.body&&a.body[i]||l):9===e.nodeType?(a=e.documentElement,a[i]>=a[o]?a[i]:Math.max(e.body[o],a[o],e.body[r],a[r])):s===t?(c=I.css(e,n),u=parseFloat(c),I.isNumeric(u)?u:c):void I(e).css(n,s)},n,e,arguments.length,null)}}),e.jQuery=e.$=I,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return I})}(window),/*! Raven.js 2.1.1 (9dbc6bd) | github.com/getsentry/raven-js */
function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Raven=e()}}(function(){return function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";function i(e){this.name="RavenConfigError",this.message=e}i.prototype=new Error,i.prototype.constructor=i,t.exports=i},{}],2:[function(e,t,n){"use strict";function i(){return+new Date}function o(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument="undefined"!=typeof document,this._lastCapturedException=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,stackTraceLimit:50},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=window.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=i(),this._wrappedBuiltIns=[];for(var e in this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}var r=e("../vendor/TraceKit/tracekit"),s=e("./configError"),a=e("./utils"),l=a.isFunction,c=a.isUndefined,u=a.isError,d=a.isEmptyObject,p=a.hasKey,h=a.joinRegExp,f=a.each,m=a.objectMerge,g=a.truncate,v=a.urlencode,_=a.uuid4,y="source protocol user pass host port path".split(" "),b=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;o.prototype={VERSION:"2.1.1",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(this._globalServer)return this._logDebug("error","Error: Raven has already been configured"),this;if(!e)return this;var i=this._parseDSN(e),o=i.path.lastIndexOf("/"),s=i.path.substr(1,o);return t&&f(t,function(e,t){"tags"===e||"extra"===e?n._globalContext[e]=t:n._globalOptions[e]=t}),this._dsn=e,this._globalOptions.ignoreErrors.push(/^Script error\.?$/),this._globalOptions.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),this._globalOptions.ignoreErrors=h(this._globalOptions.ignoreErrors),this._globalOptions.ignoreUrls=this._globalOptions.ignoreUrls.length?h(this._globalOptions.ignoreUrls):!1,this._globalOptions.whitelistUrls=this._globalOptions.whitelistUrls.length?h(this._globalOptions.whitelistUrls):!1,this._globalOptions.includePaths=h(this._globalOptions.includePaths),this._globalKey=i.user,this._globalProject=i.path.substr(o+1),this._globalServer=this._getGlobalServer(i),this._globalEndpoint=this._globalServer+"/"+s+"api/"+this._globalProject+"/store/",this._globalOptions.fetchContext&&(r.remoteFetching=!0),this._globalOptions.linesOfContext&&(r.linesOfContext=this._globalOptions.linesOfContext),r.collectWindowErrors=!!this._globalOptions.collectWindowErrors,this},install:function(){var e=this;return this.isSetup()&&!this._isRavenInstalled&&(r.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),this._wrapBuiltIns(),this._drainPlugins(),this._isRavenInstalled=!0),Error.stackTraceLimit=this._globalOptions.stackTraceLimit,this},context:function(e,t,n){return l(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)},wrap:function(e,t){function n(){for(var n=[],o=arguments.length,r=!e||e&&e.deep!==!1;o--;)n[o]=r?i.wrap(e,arguments[o]):arguments[o];try{return t.apply(this,n)}catch(s){throw i._ignoreNextOnError(),i.captureException(s,e),s}}var i=this;if(c(t)&&!l(e))return e;if(l(e)&&(t=e,e=void 0),!l(t))return t;try{if(t.__raven__)return t}catch(o){return t}if(t.__raven_wrapper__)return t.__raven_wrapper__;for(var r in t)p(t,r)&&(n[r]=t[r]);return t.__raven_wrapper__=n,n.prototype=t.prototype,n.__raven__=!0,n.__inner__=t,n},uninstall:function(){return r.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(e,t){if(!u(e))return this.captureMessage(e,t);this._lastCapturedException=e;try{var n=r.computeStackTrace(e);this._handleStackInfo(n,t)}catch(i){if(e!==i)throw i}return this},captureMessage:function(e,t){return this._globalOptions.ignoreErrors.test&&this._globalOptions.ignoreErrors.test(e)?void 0:(this._send(m({message:e+""},t)),this)},addPlugin:function(e){var t=Array.prototype.slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(JSON.stringify(this._globalContext))},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){return this._globalOptions.dataCallback=e,this},setShouldSendCallback:function(e){return this._globalOptions.shouldSendCallback=e,this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return this._hasJSON?this._globalServer?!0:(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1):!1},afterLoad:function(){var e=window.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(window.document){e=e||{};var t=e.eventId||this.lastEventId();if(!t)throw new s("Missing eventId");var n=e.dsn||this._dsn;if(!n)throw new s("Missing DSN");var i=encodeURIComponent,o="";o+="?eventId="+i(t),o+="&dsn="+i(n);var r=e.user||this._globalContext.user;r&&(r.name&&(o+="&name="+i(r.name)),r.email&&(o+="&email="+i(r.email)));var a=this._getGlobalServer(this._parseDSN(n)),l=document.createElement("script");l.async=!0,l.src=a+"/api/embed/error-page/"+o,(document.head||document.body).appendChild(l)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var n,i;if(this._hasDocument){t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e);for(i in t)p(t,i)&&(n[i]=t[i]);if(document.createEvent)document.dispatchEvent(n);else try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(o){}}},_wrapBuiltIns:function(){function e(e,t,i,o){var r=e[t];e[t]=i(r),o||n._wrappedBuiltIns.push([e,t,r])}function t(e){return function(t,i){var o=[].slice.call(arguments),r=o[0];return l(r)&&(o[0]=n.wrap(r)),e.apply?e.apply(this,o):e(o[0],o[1])}}var n=this;e(window,"setTimeout",t),e(window,"setInterval",t),window.requestAnimationFrame&&e(window,"requestAnimationFrame",function(e){return function(t){return e(n.wrap(t))}}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(t){var i=window[t]&&window[t].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(e(i,"addEventListener",function(e){return function(t,i,o,r){try{i&&i.handleEvent&&(i.handleEvent=n.wrap(i.handleEvent))}catch(s){}return e.call(this,t,n.wrap(i),o,r)}}),e(i,"removeEventListener",function(e){return function(t,n,i,o){return n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n),e.call(this,t,n,i,o)}}))}),"XMLHttpRequest"in window&&e(XMLHttpRequest.prototype,"send",function(t){return function(i){var o=this;return"onreadystatechange onload onerror onprogress".replace(/\w+/g,function(t){t in o&&"[object Function]"===Object.prototype.toString.call(o[t])&&e(o,t,function(e){return n.wrap(e)},!0)}),t.apply(this,arguments)}});var i=window.jQuery||window.$;i&&i.fn&&i.fn.ready&&e(i.fn,"ready",function(e){return function(t){return e.call(this,n.wrap(t))}})},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){e=this._wrappedBuiltIns.shift();var t=e[0],n=e[1],i=e[2];t[n]=i}},_drainPlugins:function(){var e=this;f(this._plugins,function(t,n){var i=n[0],o=n[1];i.apply(e,[e].concat(o))})},_parseDSN:function(e){var t=b.exec(e),n={},i=7;try{for(;i--;)n[y[i]]=t[i]||""}catch(o){throw new s("Invalid DSN: "+e)}if(n.pass)throw new s("Do not specify your private key in the DSN!");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(e,t){var n=this,i=[];e.stack&&e.stack.length&&f(e.stack,function(e,t){var o=n._normalizeFrame(t);o&&i.push(o)}),this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,i.slice(0,this._globalOptions.stackTraceLimit),t)},_normalizeFrame:function(e){if(e.url){var t,n={filename:e.url,lineno:e.line,colno:e.column,"function":e.func||"?"},i=this._extractContextFromFrame(e);if(i){var o=["pre_context","context_line","post_context"];for(t=3;t--;)n[o[t]]=i[t]}return n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n["function"])||/raven\.(min\.)?js$/.test(n.filename)),n}},_extractContextFromFrame:function(e){if(e.context&&this._globalOptions.fetchContext){for(var t=e.context,n=~~(t.length/2),i=t.length,o=!1;i--;)if(t[i].length>300){o=!0;break}if(o){if(c(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}},_processException:function(e,t,n,i,o,r){var s,a;if(!(this._globalOptions.ignoreErrors.test&&this._globalOptions.ignoreErrors.test(t)||(t+="",t=g(t,this._globalOptions.maxMessageLength),a=e+": "+t,a=g(a,this._globalOptions.maxMessageLength),o&&o.length?(n=o[0].filename||n,o.reverse(),s={frames:o}):n&&(s={frames:[{filename:n,lineno:i,in_app:!0}]}),this._globalOptions.ignoreUrls.test&&this._globalOptions.ignoreUrls.test(n)||this._globalOptions.whitelistUrls.test&&!this._globalOptions.whitelistUrls.test(n)))){var l=m({exception:{values:[{type:e,value:t,stacktrace:s}]},culprit:n,message:a},r);this._send(l)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message=g(e.message,t),e.exception){var n=e.exception.values[0];n.value=g(n.value,t)}return e},_getHttpData:function(){if(this._hasDocument&&document.location&&document.location.href){var e={headers:{"User-Agent":navigator.userAgent}};return e.url=document.location.href,document.referrer&&(e.headers.Referer=document.referrer),e}},_send:function(e){var t=this,n=this._globalOptions,o={project:this._globalProject,logger:n.logger,platform:"javascript"},r=this._getHttpData();if(r&&(o.request=r),e=m(o,e),e.tags=m(m({},this._globalContext.tags),e.tags),e.extra=m(m({},this._globalContext.extra),e.extra),e.extra["session:duration"]=i()-this._startTime,d(e.tags)&&delete e.tags,this._globalContext.user&&(e.user=this._globalContext.user),n.release&&(e.release=n.release),n.serverName&&(e.server_name=n.serverName),n.release&&(e.release=n.release),l(n.dataCallback)&&(e=n.dataCallback(e)||e),e&&!d(e)&&(!l(n.shouldSendCallback)||n.shouldSendCallback(e))&&(this._lastEventId=e.event_id||(e.event_id=_()),e=this._trimPacket(e),this._logDebug("debug","Raven about to send:",e),this.isSetup())){var s=this._globalEndpoint;(n.transport||this._makeRequest).call(this,{url:s,auth:{sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey},data:e,options:n,onSuccess:function(){t._triggerEvent("success",{data:e,src:s})},onError:function(){t._triggerEvent("failure",{data:e,src:s})}})}},_makeImageRequest:function(e){e.auth.sentry_data=JSON.stringify(e.data);var t=this._newImage(),n=e.url+"?"+v(e.auth),i=e.options.crossOrigin;(i||""===i)&&(t.crossOrigin=i),t.onload=e.onSuccess,t.onerror=t.onabort=e.onError,t.src=n},_makeXhrRequest:function(e){function t(){200===n.status?e.onSuccess&&e.onSuccess():e.onError&&e.onError()}var n,i=e.url;n=new XMLHttpRequest,"withCredentials"in n?n.onreadystatechange=function(){4===n.readyState&&t()}:(n=new XDomainRequest,i=i.replace(/^https?:/,""),n.onload=t),n.open("POST",i+"?"+v(e.auth)),n.send(JSON.stringify(e.data))},_makeRequest:function(e){var t="withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest;return(t?this._makeXhrRequest:this._makeImageRequest)(e)},_newImage:function(){return document.createElement("img")},_logDebug:function(e){this._originalConsoleMethods[e]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){c(t)?delete this._globalContext[e]:this._globalContext[e]=m(this._globalContext[e]||{},t)}},o.prototype.setUser=o.prototype.setUserContext,o.prototype.setReleaseContext=o.prototype.setRelease,t.exports=o},{"../vendor/TraceKit/tracekit":5,"./configError":1,"./utils":4}],3:[function(e,t,n){"use strict";var i=e("./raven"),o=window.Raven,r=new i;r.noConflict=function(){return window.Raven=o,r},r.afterLoad(),t.exports=r},{"./raven":2}],4:[function(e,t,n){"use strict";function i(e){return void 0===e}function o(e){return"function"==typeof e}function r(e){return"[object String]"===g.toString.call(e)}function s(e){return"object"==typeof e&&null!==e}function a(e){for(var t in e)return!1;return!0}function l(e){return s(e)&&"[object Error]"===g.toString.call(e)||e instanceof Error}function c(e,t){var n,o;if(i(e.length))for(n in e)p(e,n)&&t.call(null,n,e[n]);else if(o=e.length)for(n=0;o>n;n++)t.call(null,n,e[n])}function u(e,t){return t?(c(t,function(t,n){e[t]=n}),e):e}function d(e,t){return!t||e.length<=t?e:e.substr(0,t)+"�"}function p(e,t){return g.hasOwnProperty.call(e,t)}function h(e){for(var t,n=[],i=0,o=e.length;o>i;i++)t=e[i],r(t)?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function f(e){var t=[];return c(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")}function m(){var e=window.crypto||window.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}var g=Object.prototype;t.exports={isUndefined:i,isFunction:o,isString:r,isObject:s,isEmptyObject:a,isError:l,each:c,objectMerge:u,truncate:d,hasKey:p,joinRegExp:h,urlencode:f,uuid4:m}},{}],5:[function(e,t,n){"use strict";function i(){return"undefined"==typeof document?"":document.location.href}var o=e("../../src/utils"),r=o.hasKey,s=o.isString,a=o.isUndefined,l={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7,debug:!1},c=[].slice,u="?";l.report=function(){function e(e){a(),m.push(e)}function t(e){for(var t=m.length-1;t>=0;--t)m[t]===e&&m.splice(t,1)}function n(){u(),m=[]}function o(e,t){var n=null;if(!t||l.collectWindowErrors){for(var i in m)if(r(m,i))try{m[i].apply(null,[e].concat(c.call(arguments,2)))}catch(o){n=o}if(n)throw n}}function s(e,t,n,r,s){var a=null;if(_)l.computeStackTrace.augmentStackTraceWithInitialElement(_,t,n,e),d();else if(s)a=l.computeStackTrace(s),o(a,!0);else{var c={url:t,line:n,column:r};c.func=l.computeStackTrace.guessFunctionName(c.url,c.line),c.context=l.computeStackTrace.gatherContext(c.url,c.line),a={message:e,url:i(),stack:[c]},o(a,!0)}return h?h.apply(this,arguments):!1}function a(){f||(h=window.onerror,window.onerror=s,f=!0)}function u(){f&&(window.onerror=h,f=!1,h=void 0)}function d(){var e=_,t=g;g=null,_=null,v=null,o.apply(null,[e,!1].concat(t))}function p(e,t){var n=c.call(arguments,1);if(_){if(v===e)return;d()}var i=l.computeStackTrace(e);if(_=i,v=e,g=n,window.setTimeout(function(){v===e&&d()},i.incomplete?2e3:0),t!==!1)throw e}var h,f,m=[],g=null,v=null,_=null;return p.subscribe=e,p.unsubscribe=t,p.uninstall=n,p}(),l.computeStackTrace=function(){function e(e){if(!l.remoteFetching)return"";try{var t=function(){try{return new window.XMLHttpRequest}catch(e){return new window.ActiveXObject("Microsoft.XMLHTTP")}},n=t();return n.open("GET",e,!1),n.send(""),n.responseText}catch(i){return""}}function t(t){if(!s(t))return[];if(!r(w,t)){var n="",i="";try{i=document.domain}catch(o){}-1!==t.indexOf(i)&&(n=e(t)),w[t]=n?n.split("\n"):[]}return w[t]}function n(e,n){var i,o=/function ([^(]*)\(([^)]*)\)/,r=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,s="",l=10,c=t(e);if(!c.length)return u;for(var d=0;l>d;++d)if(s=c[n-d]+s,!a(s)){if(i=r.exec(s))return i[1];if(i=o.exec(s))return i[1]}return u}function o(e,n){var i=t(e);if(!i.length)return null;var o=[],r=Math.floor(l.linesOfContext/2),s=r+l.linesOfContext%2,c=Math.max(0,n-r-1),u=Math.min(i.length,n+s-1);n-=1;for(var d=c;u>d;++d)a(i[d])||o.push(i[d]);return o.length>0?o:null}function c(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function d(e){return c(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function p(e,n){for(var i,o,r=0,s=n.length;s>r;++r)if((i=t(n[r])).length&&(i=i.join("\n"),o=e.exec(i)))return{url:n[r],line:i.substring(0,o.index).split("\n").length,column:o.index-i.lastIndexOf("\n",o.index)-1};return null}function h(e,n,i){var o,r=t(n),s=new RegExp("\\b"+c(e)+"\\b");return i-=1,r&&r.length>i&&(o=s.exec(r[i]))?o.index:null}function f(e){if("undefined"!=typeof document){for(var t,n,i,o,r=[window.location.href],s=document.getElementsByTagName("script"),a=""+e,l=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,u=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,h=0;h<s.length;++h){var f=s[h];f.src&&r.push(f.src)}if(i=l.exec(a)){var m=i[1]?"\\s+"+i[1]:"",g=i[2].split(",").join("\\s*,\\s*");t=c(i[3]).replace(/;$/,";?"),n=new RegExp("function"+m+"\\s*\\(\\s*"+g+"\\s*\\)\\s*{\\s*"+t+"\\s*}")}else n=new RegExp(c(a).replace(/\s+/g,"\\s+"));if(o=p(n,r))return o;if(i=u.exec(a)){var v=i[1];if(t=d(i[2]),n=new RegExp("on"+v+"=[\\'\"]\\s*"+t+"\\s*[\\'\"]","i"),o=p(n,r[0]))return o;if(n=new RegExp(t),o=p(n,r))return o}return null}}function m(e){if(!a(e.stack)&&e.stack){for(var t,r,s=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,l=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|\[).*?)(?::(\d+))?(?::(\d+))?\s*$/i,c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d=e.stack.split("\n"),p=[],f=/^(.*) is undefined$/.exec(e.message),m=0,g=d.length;g>m;++m){if(t=s.exec(d[m])){var v=t[2]&&-1!==t[2].indexOf("native");r={url:v?null:t[2],func:t[1]||u,args:v?[t[2]]:[],line:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}else if(t=c.exec(d[m]))r={url:t[2],func:t[1]||u,args:[],line:+t[3],column:t[4]?+t[4]:null};else{if(!(t=l.exec(d[m])))continue;r={url:t[3],func:t[1]||u,args:t[2]?t[2].split(","):[],line:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}!r.func&&r.line&&(r.func=n(r.url,r.line)),r.line&&(r.context=o(r.url,r.line)),p.push(r)}return p.length?(p[0].line&&!p[0].column&&f?p[0].column=h(f[1],p[0].url,p[0].line):p[0].column||a(e.columnNumber)||(p[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:i(),stack:p}):null}}function g(e){var t=e.stacktrace;if(!a(e.stacktrace)&&e.stacktrace){for(var r,s=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,l=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,c=t.split("\n"),u=[],d=0;d<c.length;d+=2){var p=null;if((r=s.exec(c[d]))?p={url:r[2],line:+r[1],column:null,func:r[3],args:[]}:(r=l.exec(c[d]))&&(p={url:r[6],line:+r[1],column:+r[2],func:r[3]||r[4],args:r[5]?r[5].split(","):[]}),p){if(!p.func&&p.line&&(p.func=n(p.url,p.line)),p.line)try{p.context=o(p.url,p.line)}catch(h){}p.context||(p.context=[c[d+1]]),u.push(p)}}return u.length?{name:e.name,message:e.message,url:i(),stack:u}:null}}function v(e){var s=e.message.split("\n");if(s.length<4)return null;var a,l=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,c=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,u=/^\s*Line (\d+) of function script\s*$/i,h=[],f=document.getElementsByTagName("script"),m=[];for(var g in f)r(f,g)&&!f[g].src&&m.push(f[g]);for(var v=2;v<s.length;v+=2){var _=null;if(a=l.exec(s[v]))_={url:a[2],func:a[3],args:[],line:+a[1],column:null};else if(a=c.exec(s[v])){_={url:a[3],func:a[4],args:[],line:+a[1],column:null};var y=+a[1],b=m[a[2]-1];if(b){var w=t(_.url);if(w){w=w.join("\n");var x=w.indexOf(b.innerText);x>=0&&(_.line=y+w.substring(0,x).split("\n").length)}}}else if(a=u.exec(s[v])){var j=window.location.href.replace(/#.*$/,""),C=new RegExp(d(s[v+1])),k=p(C,[j]);_={url:j,func:"",args:[],line:k?k.line:a[1],column:null}}if(_){_.func||(_.func=n(_.url,_.line));var S=o(_.url,_.line),T=S?S[Math.floor(S.length/2)]:null;_.context=S&&T.replace(/^\s*/,"")===s[v+1].replace(/^\s*/,"")?S:[s[v+1]],h.push(_)}}return h.length?{name:e.name,message:s[0],url:i(),stack:h}:null}function _(e,t,i,r){var s={url:t,line:i};if(s.url&&s.line){e.incomplete=!1,s.func||(s.func=n(s.url,s.line)),s.context||(s.context=o(s.url,s.line));var a=/ '([^']+)' /.exec(r);if(a&&(s.column=h(a[1],s.url,s.line)),e.stack.length>0&&e.stack[0].url===s.url){if(e.stack[0].line===s.line)return!1;if(!e.stack[0].line&&e.stack[0].func===s.func)return e.stack[0].line=s.line,e.stack[0].context=s.context,!1}return e.stack.unshift(s),e.partial=!0,!0}return e.incomplete=!0,!1}function y(e,t){for(var o,r,s,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,c=[],d={},p=!1,m=y.caller;m&&!p;m=m.caller)if(m!==b&&m!==l.report){if(r={url:null,func:u,line:null,column:null},m.name?r.func=m.name:(o=a.exec(m.toString()))&&(r.func=o[1]),"undefined"==typeof r.func)try{r.func=o.input.substring(0,o.input.indexOf("{"))}catch(g){}if(s=f(m)){r.url=s.url,r.line=s.line,r.func===u&&(r.func=n(r.url,r.line));var v=/ '([^']+)' /.exec(e.message||e.description);v&&(r.column=h(v[1],s.url,s.line))}d[""+m]?p=!0:d[""+m]=!0,c.push(r)}t&&c.splice(0,t);var w={name:e.name,message:e.message,url:i(),stack:c};return _(w,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),w}function b(e,t){var n=null;t=null==t?0:+t;try{if(n=g(e))return n}catch(o){if(l.debug)throw o}try{if(n=m(e))return n}catch(o){if(l.debug)throw o}try{if(n=v(e))return n}catch(o){if(l.debug)throw o}try{if(n=y(e,t+1))return n}catch(o){if(l.debug)throw o}return{name:e.name,message:e.message,url:i()}}var w={};return b.augmentStackTraceWithInitialElement=_,b.computeStackTraceFromStackProp=m,b.guessFunctionName=n,b.gatherContext=o,b}(),t.exports=l},{"../../src/utils":4}]},{},[3])(3)}),window.Raven&&(Raven.config("https://4d62dde7ed004877aba5a956e7b6472e@sentry.gamenet.ru/2").install(),window.userData&&Raven.setUserContext({id:window.userData.userId})),/*!
 * jQuery Tiny Pub/Sub - v0.6 - 1/10/2011
 * http://benalman.com/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
function(e){var t=e("<b/>");e.subscribe=function(n,i){function o(){return i.apply(this,Array.prototype.slice.call(arguments,1))}o.guid=i.guid=i.guid||(e.guid?e.guid++:e.event.guid++),t.bind(n,o)},e.unsubscribe=function(){t.unbind.apply(t,arguments)},e.publish=function(){t.trigger.apply(t,arguments)}}(jQuery),function(e){e.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:.5,overlayColor:"#000",draggable:!0,okButton:"��",cancelButton:"���",closeButton:"�������",dialogClass:null,alert:function(t,n,i){e.alerts._show(n,t,null,"alert",function(e){i&&i(e)})},confirm:function(t,n,i){e.alerts._show(n,t,null,"confirm",function(e){i&&i(e)})},prompt:function(t,n,i,o){e.alerts._show(i,t,n,"prompt",function(e){o&&o(e)})},empty:function(t,n){e.alerts._show(n,t,null,"empty",function(e){})},_show:function(t,n,i,o,r){e.alerts._hide(),e.alerts._overlay("show"),e("BODY").append('<div id="alert_container"><div id="alert_container__bg"><div id="alert_content"><table id="alert_message_content"><tr><td id="alert_img"></td><td id="alert_message"></td></tr></table></div></div></div>'),e.alerts.dialogClass&&e("#alert_container").addClass(e.alerts.dialogClass);var s=e.browser.msie&&parseInt(e.browser.version)<=6?"absolute":"fixed";switch(e("#alert_container").css({position:s,zIndex:99999,margin:0}),e("#alert_img").html('<img src="'+t+'" />'),e("#alert_content").addClass(o),e("#alert_message").text(n),e("#alert_message").html(e("#alert_message").text().replace(/\n/g,"<br />")),e("#alert_container").css({minWidth:e("#alert_container").outerWidth(),maxWidth:e("#alert_container").outerWidth()}),e.alerts._reposition(),e.alerts._maintainPosition(!0),o){case"alert":e("#alert_message_content").after('<div id="alert_panel"><button type="submit" id="alert_ok" class="gn_btn gn_btn-green gn_btn-small">'+e.alerts.okButton+"</button></div>"),e("#alert_ok").click(function(){e.alerts._hide(),r(!0)}),e("#alert_ok").focus().keypress(function(t){(13==t.keyCode||27==t.keyCode)&&e("#alert_ok").trigger("click")});break;case"confirm":e("#alert_message_content").after('<div id="alert_panel"><button type="submit" id="alert_ok" class="gn_btn gn_btn-green gn_btn-small">'+e.alerts.okButton+'</button> <button type="submit" id="alert_cancel" class="gn_btn gn_btn-green gn_btn-small">'+e.alerts.cancelButton+"</button></div>"),e("#alert_ok").click(function(){e.alerts._hide(),r&&r(!0)}),e("#alert_cancel").click(function(t){e.alerts._hide(),r&&r(!1),t.stopPropagation()}),e("#alert_ok").focus(),e("#alert_ok, #alert_cancel").keypress(function(t){13==t.keyCode&&e("#alert_ok").trigger("click"),27==t.keyCode&&e("#alert_cancel").trigger("click")});break;case"prompt":e("#alert_message_content").append('<br /><input type="text" size="30" id="alert_prompt" />').after('<div id="alert_panel"><button type="submit" id="alert_ok" class="gn_btn gn_btn-green gn_btn-small">'+e.alerts.okButton+'</button> <button type="submit" id="alert_cancel"  class="gn_btn gn_btn-green gn_btn-small">'+e.alerts.cancelButton+"</button></div>"),e("#alert_prompt").width(e("#alert_message_content").width()),e("#alert_ok").click(function(){var t=e("#alert_prompt").val();e.alerts._hide(),r&&r(t)}),e("#alert_cancel").click(function(){e.alerts._hide(),r&&r(null)}),e("#alert_prompt, #alert_ok, #alert_cancel").keypress(function(t){13==t.keyCode&&e("#alert_ok").trigger("click"),27==t.keyCode&&e("#alert_cancel").trigger("click")}),i&&e("#alert_prompt").val(i),e("#alert_prompt").focus().select();break;case"empty":e("#alert_message_content").after('<div id="alert_panel"><button type="submit" id="alert_close" class="gn_btn gn_btn-green gn_btn-small">'+e.alerts.closeButton+"</button></div>"),e("#alert_close").click(function(){e.alerts._hide(),r(null)}),e("#alert_close").focus().keypress(function(t){27==t.keyCode&&e("#alert_close").trigger("click")})}if(e.alerts.draggable)try{e("#alert_container").draggable({handle:e("#alert_img")}),e("#alert_img").css({cursor:"move"})}catch(a){}},_hide:function(){e("#alert_container").remove(),e.alerts._overlay("hide"),e.alerts._maintainPosition(!1)},_overlay:function(t){switch(t){case"show":e.alerts._overlay("hide"),e("BODY").append('<div id="alert_overlay"></div>'),e("#alert_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:e(document).height(),background:e.alerts.overlayColor,opacity:e.alerts.overlayOpacity});break;case"hide":e("#alert_overlay").remove()}},_reposition:function(){var t=e(window).height()/2-e("#alert_container").outerHeight()/2+e.alerts.verticalOffset,n=e(window).width()/2-e("#alert_container").outerWidth()/2+e.alerts.horizontalOffset;0>t&&(t=0),0>n&&(n=0),e.browser.msie&&parseInt(e.browser.version)<=6&&(t+=e(window).scrollTop()),e("#alert_container").css({top:t+"px",left:n+"px"}),e("#alert_overlay").height(e(document).height())},_maintainPosition:function(t){if(e.alerts.repositionOnResize)switch(t){case!0:e(window).bind("resize",e.alerts._reposition);break;case!1:e(window).unbind("resize",e.alerts._reposition)}}},jAlert=function(t,n,i){e.alerts.alert(t,n,i)},jConfirm=function(t,n,i){e.alerts.confirm(t,n,i)},jPrompt=function(t,n,i,o){e.alerts.prompt(t,n,i,o)},jEmpty=function(t,n){e.alerts.empty(t,n)}}(jQuery),/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
* Licensed under the MIT License (LICENSE.txt).
*
* Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
* Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
* Thanks to: Seamus Leahy for adding deltaX and deltaY
*
* Version: 3.0.4
*
* Requires: 1.2.2+
*/
function(e){function t(t){var n=t||window.event,i=[].slice.call(arguments,1),o=0,r=0,s=0;return t=e.event.fix(n),t.type="mousewheel",t.originalEvent.wheelDelta&&(o=t.originalEvent.wheelDelta/120),t.originalEvent.detail&&(o=-t.originalEvent.detail/3),s=o,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(s=0,r=-1*o),void 0!==n.wheelDeltaY&&(s=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(r=-1*n.wheelDeltaX/120),i.unshift(t,o,r,s),e.event.handle.apply(this,i)}var n=["DOMMouseScroll","mousewheel"];e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e){function t(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}e.fn.ajaxSubmit=function(n){function i(){function i(){var t=d.attr("target"),n=d.attr("action");s.setAttribute("target",l),"POST"!=s.getAttribute("method")&&s.setAttribute("method","POST"),s.getAttribute("action")!=a.url&&s.setAttribute("action",a.url),a.skipEncodingOverride||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),a.timeout&&setTimeout(function(){g=!0,o()},a.timeout);var i=[];try{if(a.extraData)for(var r in a.extraData)i.push(e('<input type="hidden" name="'+r+'" value="'+a.extraData[r]+'" />').appendTo(s)[0]);u.appendTo("body"),u.data("form-plugin-onload",o),s.submit()}finally{s.setAttribute("action",n),t?s.setAttribute("target",t):d.removeAttr("target"),e(i).remove()}}function o(){if(!m){u.removeData("form-plugin-onload");var n=!0;try{if(g)throw"timeout";b=p.contentWindow?p.contentWindow.document:p.contentDocument?p.contentDocument:p.document;var i="xml"==a.dataType||b.XMLDocument||e.isXMLDoc(b);if(t("isXml="+i),!i&&window.opera&&(null==b.body||""==b.body.innerHTML)&&--w)return t("requeing onLoad callback, DOM not available"),void setTimeout(o,250);m=!0,h.responseText=b.documentElement?b.documentElement.innerHTML:null,h.responseXML=b.XMLDocument?b.XMLDocument:b,h.getResponseHeader=function(e){var t={"content-type":a.dataType};return t[e]};var s=/(json|script)/.test(a.dataType);if(s||a.textarea){var l=b.getElementsByTagName("textarea")[0];if(l)h.responseText=l.value;else if(s){var c=b.getElementsByTagName("pre")[0],d=b.getElementsByTagName("body")[0];c?h.responseText=c.innerHTML:d&&(h.responseText=d.innerHTML)}}else"xml"!=a.dataType||h.responseXML||null==h.responseText||(h.responseXML=r(h.responseText));y=e.httpData(h,a.dataType)}catch(v){t("error caught:",v),n=!1,h.error=v,e.handleError(a,h,"error",v)}n&&(a.success.call(a.context,y,"success",h),f&&e.event.trigger("ajaxSuccess",[h,a])),f&&e.event.trigger("ajaxComplete",[h,a]),f&&!--e.active&&e.event.trigger("ajaxStop"),a.complete&&a.complete.call(a.context,h,n?"success":"error"),setTimeout(function(){u.removeData("form-plugin-onload"),u.remove(),h.responseXML=null},100)}}function r(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.tagName?t:null}var s=d[0];if(e(":input[name=submit],:input[id=submit]",s).length)return void alert('Error: Form elements must not have name or id of "submit".');var a=e.extend(!0,{},e.ajaxSettings,n);a.context=a.context||a;var l="jqFormIO"+(new Date).getTime(),c="_"+l;window[c]=function(){var e=u.data("form-plugin-onload");if(e){e(),window[c]=void 0;try{delete window[c]}catch(t){}}};var u=e('<iframe id="'+l+'" name="'+l+'" src="'+a.iframeSrc+'" onload="window[\'_\'+this.id]()" />'),p=u[0];u.css({position:"absolute",top:"-1000px",left:"-1000px"});var h={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1,u.attr("src",a.iframeSrc)}},f=a.global;if(f&&!e.active++&&e.event.trigger("ajaxStart"),f&&e.event.trigger("ajaxSend",[h,a]),a.beforeSend&&a.beforeSend.call(a.context,h,a)===!1)return void(a.global&&e.active--);if(!h.aborted){var m=!1,g=0,v=s.clk;if(v){var _=v.name;_&&!v.disabled&&(a.extraData=a.extraData||{},a.extraData[_]=v.value,"image"==v.type&&(a.extraData[_+".x"]=s.clk_x,a.extraData[_+".y"]=s.clk_y))}a.forceSync?i():setTimeout(i,10);var y,b,w=50}}if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;"function"==typeof n&&(n={success:n});var o=e.trim(this.attr("action"));o&&(o=(o.match(/^([^#]+)/)||[])[1]),o=o||window.location.href||"",n=e.extend(!0,{url:o,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},n);var r={};if(this.trigger("form-pre-serialize",[this,n,r]),r.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(n.beforeSerialize&&n.beforeSerialize(this,n)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var s,a,l=this.formToArray(n.semantic);if(n.data){n.extraData=n.data;for(s in n.data)if(n.data[s]instanceof Array)for(var c in n.data[s])l.push({name:s,value:n.data[s][c]});else a=n.data[s],a=e.isFunction(a)?a():a,l.push({name:s,value:a})}if(n.beforeSubmit&&n.beforeSubmit(l,this,n)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[l,this,n,r]),r.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var u=e.param(l);"GET"==n.type.toUpperCase()?(n.url+=(n.url.indexOf("?")>=0?"&":"?")+u,n.data=null):n.data=u;var d=this,p=[];if(n.resetForm&&p.push(function(){d.resetForm()}),n.clearForm&&p.push(function(){d.clearForm()}),!n.dataType&&n.target){var h=n.success||function(){};p.push(function(t){var i=n.replaceTarget?"replaceWith":"html";e(n.target)[i](t).each(h,arguments)})}else n.success&&p.push(n.success);n.success=function(e,t,i){for(var o=n.context||n,r=0,s=p.length;s>r;r++)p[r].apply(o,[e,t,i||d,d])};var f=e("input:file",this).length>0,m="multipart/form-data",g=d.attr("enctype")==m||d.attr("encoding")==m;return n.iframe!==!1&&(f||n.iframe||g)?n.closeKeepAlive?e.get(n.closeKeepAlive,i):i():e.ajax(n),this.trigger("form-submit-notify",[this,n]),this},e.fn.ajaxForm=function(n){if(0===this.length){var i={s:this.selector,c:this.context};return!e.isReady&&i.s?(t("DOM not ready, queuing ajaxForm"),e(function(){e(i.s,i.c).ajaxForm(n)}),this):(t("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",function(t){t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(n))}).bind("click.form-plugin",function(t){var n=t.target,i=e(n);if(!i.is(":submit,input:image")){var o=i.closest(":submit");if(0==o.length)return;n=o[0]}var r=this;if(r.clk=n,"image"==n.type)if(void 0!=t.offsetX)r.clk_x=t.offsetX,r.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var s=i.offset();r.clk_x=t.pageX-s.left,r.clk_y=t.pageY-s.top}else r.clk_x=t.pageX-n.offsetLeft,r.clk_y=t.pageY-n.offsetTop;setTimeout(function(){r.clk=r.clk_x=r.clk_y=null},100)})},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t){var n=[];if(0===this.length)return n;var i=this[0],o=t?i.getElementsByTagName("*"):i.elements;if(!o)return n;var r,s,a,l,c,u,d;for(r=0,u=o.length;u>r;r++)if(c=o[r],a=c.name)if(t&&i.clk&&"image"==c.type)c.disabled||i.clk!=c||(n.push({name:a,value:e(c).val()}),n.push({name:a+".x",value:i.clk_x},{name:a+".y",value:i.clk_y}));else if(l=e.fieldValue(c,!0),l&&l.constructor==Array)for(s=0,d=l.length;d>s;s++)n.push({name:a,value:l[s]});else null!==l&&"undefined"!=typeof l&&n.push({name:a,value:l});if(!t&&i.clk){var p=e(i.clk),h=p[0];a=h.name,a&&!h.disabled&&"image"==h.type&&(n.push({name:a,value:p.val()}),n.push({name:a+".x",value:i.clk_x},{name:a+".y",value:i.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var i=this.name;if(i){var o=e.fieldValue(this,t);if(o&&o.constructor==Array)for(var r=0,s=o.length;s>r;r++)n.push({name:i,value:o[r]});else null!==o&&"undefined"!=typeof o&&n.push({name:this.name,value:o})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],i=0,o=this.length;o>i;i++){var r=this[i],s=e.fieldValue(r,t);null===s||"undefined"==typeof s||s.constructor==Array&&!s.length||(s.constructor==Array?e.merge(n,s):n.push(s))}return n},e.fieldValue=function(t,n){var i=t.name,o=t.type,r=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||t.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!t.checked||("submit"==o||"image"==o)&&t.form&&t.form.clk!=t||"select"==r&&-1==t.selectedIndex))return null;if("select"==r){var s=t.selectedIndex;if(0>s)return null;for(var a=[],l=t.options,c="select-one"==o,u=c?s+1:l.length,d=c?s:0;u>d;d++){var p=l[d];if(p.selected){var h=p.value;if(h||(h=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),c)return h;a.push(h)}}return a}return e(t).val()},e.fn.clearForm=function(){return this.each(function(){e("input,select,textarea",this).clearFields()})},e.fn.clearFields=e.fn.clearInputs=function(){return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();"text"==e||"password"==e||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t&&(this.selectedIndex=-1)})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}})}}(jQuery),function(e,t){"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t(e)}):"object"==typeof module&&module&&module.exports?module.exports=t(e):e.Levenshtein=t(e)}(this,function(e){function t(e,t){var n,i;for(n=-1,i=e.length;++n<i;)t(e[n],n,e)}function n(e,n){var i;return i=Array(e.length),t(e,function(e,t,o){i.push(n(e,t,o))}),i}function i(e,n,i){return t(e,function(e,t,o){i=n(e,t,o)}),i}function o(e,n){var i,o,r;return r=this._matrix=[],e==n?this.distance=0:""==e?this.distance=n.length:""==n?this.distance=e.length:(i=[0],t(e,function(e,t){t++,i[t]=t}),r[0]=i,t(n,function(s,a){o=[++a],t(e,function(t,r){r++,o[r]=e.charAt(r-1)==n.charAt(a-1)?i[r-1]:Math.min(i[r]+1,o[r-1]+1,i[r-1]+1)}),i=o,r[r.length]=i}),this.distance=o[o.length-1])}return o.prototype.toString=o.prototype.inspect=function(e){var t,o,r,s,a;for(t=this.getMatrix(),o=i(t,function(e,t){return Math.max(e,i(t,Math.max,0))},0),r=Array((o+"").length).join(" "),s=[];s.length<(t[0]&&t[0].length||0);)s[s.length]=Array(r.length+1).join("-");return s=s.join("-+")+"-",a=n(t,function(e){var t;return t=n(e,function(e){return(r+e).slice(-r.length)}),t.join(" |")+" "}),a.join("\n"+s+"\n")},o.prototype.getMatrix=function(){return this._matrix.slice()},o.prototype.valueOf=function(){return this.distance},o});var swfobject=function(){function e(){if(!H){try{var e=O.getElementsByTagName("body")[0].appendChild(g("span"));e.parentNode.removeChild(e)}catch(t){return}H=!0;for(var n=M.length,i=0;n>i;i++)M[i]()}}function t(e){H?e():M[M.length]=e}function n(e){if(typeof I.addEventListener!=E)I.addEventListener("load",e,!1);else if(typeof O.addEventListener!=E)O.addEventListener("load",e,!1);else if(typeof I.attachEvent!=E)v(I,"onload",e);else if("function"==typeof I.onload){var t=I.onload;I.onload=function(){t(),e()}}else I.onload=e}function i(){U?o():r()}function o(){var e=O.getElementsByTagName("body")[0],t=g($);t.setAttribute("type",A);var n=e.appendChild(t);if(n){var i=0;!function(){if(typeof n.GetVariable!=E){var o=n.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),X.pv=[parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10)])}else if(10>i)return i++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,r()}()}else r()}function r(){var e=B.length;if(e>0)for(var t=0;e>t;t++){var n=B[t].id,i=B[t].callbackFn,o={success:!1,id:n};if(X.pv[0]>0){var r=m(n);if(r)if(!_(B[t].swfVersion)||X.wk&&X.wk<312)if(B[t].expressInstall&&a()){var u={};u.data=B[t].expressInstall,u.width=r.getAttribute("width")||"0",u.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(u.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(u.align=r.getAttribute("align"));for(var d={},p=r.getElementsByTagName("param"),h=p.length,f=0;h>f;f++)"movie"!=p[f].getAttribute("name").toLowerCase()&&(d[p[f].getAttribute("name")]=p[f].getAttribute("value"));l(u,d,n,i)}else c(r),i&&i(o);else b(n,!0),i&&(o.success=!0,o.ref=s(n),i(o))}else if(b(n,!0),i){var g=s(n);g&&typeof g.SetVariable!=E&&(o.success=!0,o.ref=g),i(o)}}}function s(e){var t=null,n=m(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=E)t=n;else{var i=n.getElementsByTagName($)[0];i&&(t=i)}return t}function a(){return!q&&_("6.0.65")&&(X.win||X.mac)&&!(X.wk&&X.wk<312)}function l(e,t,n,i){q=!0,C=i||null,k={success:!1,id:n};var o=m(n);if(o){"OBJECT"==o.nodeName?(x=u(o),j=null):(x=o,j=n),e.id=N,(typeof e.width==E||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==E||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),O.title=O.title.slice(0,47)+" - Flash Player Installation";var r=X.ie&&X.win?"ActiveX":"PlugIn",s="MMredirectURL="+I.location.toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+O.title;if(typeof t.flashvars!=E?t.flashvars+="&"+s:t.flashvars=s,X.ie&&X.win&&4!=o.readyState){var a=g("div");n+="SWFObjectNew",a.setAttribute("id",n),o.parentNode.insertBefore(a,o),o.style.display="none",function(){4==o.readyState?o.parentNode.removeChild(o):setTimeout(arguments.callee,10)}()}d(e,t,n)}}function c(e){if(X.ie&&X.win&&4!=e.readyState){var t=g("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=g("div");if(X.win&&X.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName($)[0];if(n){var i=n.childNodes;if(i)for(var o=i.length,r=0;o>r;r++)1==i[r].nodeType&&"PARAM"==i[r].nodeName||8==i[r].nodeType||t.appendChild(i[r].cloneNode(!0))}}return t}function d(e,t,n){var i,o=m(n);if(X.wk&&X.wk<312)return i;if(o)if(typeof e.id==E&&(e.id=n),X.ie&&X.win){var r="";for(var s in e)e[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?t.movie=e[s]:"styleclass"==s.toLowerCase()?r+=' class="'+e[s]+'"':"classid"!=s.toLowerCase()&&(r+=" "+s+'="'+e[s]+'"'));var a="";for(var l in t)t[l]!=Object.prototype[l]&&(a+='<param name="'+l+'" value="'+t[l]+'" />');o.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+a+"</object>",R[R.length]=e.id,i=m(e.id)}else{var c=g($);c.setAttribute("type",A);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?c.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&c.setAttribute(u,e[u]));for(var d in t)t[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&p(c,d,t[d]);o.parentNode.replaceChild(c,o),i=c}return i}function p(e,t,n){var i=g("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function h(e){var t=m(e);t&&"OBJECT"==t.nodeName&&(X.ie&&X.win?(t.style.display="none",function(){4==t.readyState?f(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function f(e){var t=m(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function m(e){var t=null;try{t=O.getElementById(e)}catch(n){}return t}function g(e){return O.createElement(e)}function v(e,t,n){e.attachEvent(t,n),W[W.length]=[e,t,n]}function _(e){var t=X.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function y(e,t,n,i){if(!X.ie||!X.mac){var o=O.getElementsByTagName("head")[0];if(o){var r=n&&"string"==typeof n?n:"screen";if(i&&(S=null,T=null),!S||T!=r){var s=g("style");s.setAttribute("type","text/css"),s.setAttribute("media",r),S=o.appendChild(s),X.ie&&X.win&&typeof O.styleSheets!=E&&O.styleSheets.length>0&&(S=O.styleSheets[O.styleSheets.length-1]),T=r}X.ie&&X.win?S&&typeof S.addRule==$&&S.addRule(e,t):S&&typeof O.createTextNode!=E&&S.appendChild(O.createTextNode(e+" {"+t+"}"))}}}function b(e,t){if(z){var n=t?"visible":"hidden";H&&m(e)?m(e).style.visibility=n:y("#"+e,"visibility:"+n)}}function w(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=E?encodeURIComponent(e):e}{var x,j,C,k,S,T,E="undefined",$="object",F="Shockwave Flash",D="ShockwaveFlash.ShockwaveFlash",A="application/x-shockwave-flash",N="SWFObjectExprInst",L="onreadystatechange",I=window,O=document,P=navigator,U=!1,M=[i],B=[],R=[],W=[],H=!1,q=!1,z=!0,X=function(){var e=typeof O.getElementById!=E&&typeof O.getElementsByTagName!=E&&typeof O.createElement!=E,t=P.userAgent.toLowerCase(),n=P.platform.toLowerCase(),i=/win/.test(n?n:t),o=/mac/.test(n?n:t),r=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,s=!1,a=[0,0,0],l=null;if(typeof P.plugins!=E&&typeof P.plugins[F]==$)l=P.plugins[F].description,!l||typeof P.mimeTypes!=E&&P.mimeTypes[A]&&!P.mimeTypes[A].enabledPlugin||(U=!0,s=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof I.ActiveXObject!=E)try{var c=new ActiveXObject(D);c&&(l=c.GetVariable("$version"),l&&(s=!0,l=l.split(" ")[1].split(","),a=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(u){}return{w3:e,pv:a,wk:r,ie:s,win:i,mac:o}}();!function(){X.w3&&((typeof O.readyState!=E&&"complete"==O.readyState||typeof O.readyState==E&&(O.getElementsByTagName("body")[0]||O.body))&&e(),H||(typeof O.addEventListener!=E&&O.addEventListener("DOMContentLoaded",e,!1),X.ie&&X.win&&(O.attachEvent(L,function(){"complete"==O.readyState&&(O.detachEvent(L,arguments.callee),e())}),I==top&&!function(){if(!H){try{O.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}e()}}()),X.wk&&!function(){return H?void 0:/loaded|complete/.test(O.readyState)?void e():void setTimeout(arguments.callee,0)}(),n(e)))}(),function(){X.ie&&X.win&&window.attachEvent("onunload",function(){for(var e=W.length,t=0;e>t;t++)W[t][0].detachEvent(W[t][1],W[t][2]);for(var n=R.length,i=0;n>i;i++)h(R[i]);for(var o in X)X[o]=null;X=null;for(var r in swfobject)swfobject[r]=null;swfobject=null})}()}return{registerObject:function(e,t,n,i){if(X.w3&&e&&t){var o={};o.id=e,o.swfVersion=t,o.expressInstall=n,o.callbackFn=i,B[B.length]=o,b(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){return X.w3?s(e):void 0},embedSWF:function(e,n,i,o,r,s,c,u,p,h){var f={success:!1,id:n};X.w3&&!(X.wk&&X.wk<312)&&e&&n&&i&&o&&r?(b(n,!1),t(function(){i+="",o+="";var t={};if(p&&typeof p===$)for(var m in p)t[m]=p[m];t.data=e,t.width=i,t.height=o;var g={};if(u&&typeof u===$)for(var v in u)g[v]=u[v];if(c&&typeof c===$)for(var y in c)typeof g.flashvars!=E?g.flashvars+="&"+y+"="+c[y]:g.flashvars=y+"="+c[y];if(_(r)){var w=d(t,g,n);t.id==n&&b(n,!0),f.success=!0,f.ref=w}else{if(s&&a())return t.data=s,void l(t,g,n,h);b(n,!0)}h&&h(f)})):h&&h(f)},switchOffAutoHideShow:function(){z=!1},ua:X,getFlashPlayerVersion:function(){return{major:X.pv[0],minor:X.pv[1],release:X.pv[2]}},hasFlashPlayerVersion:_,createSWF:function(e,t,n){return X.w3?d(e,t,n):void 0},showExpressInstall:function(e,t,n,i){X.w3&&a()&&l(e,t,n,i)},removeSWF:function(e){X.w3&&h(e)},createCSS:function(e,t,n,i){X.w3&&y(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=O.location.search||O.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return w(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return w(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(q){var e=m(N);e&&x&&(e.parentNode.replaceChild(x,e),j&&(b(j,!0),X.ie&&X.win&&(x.style.display="block")),C&&C(k)),q=!1}}}}(),SWFUpload,swfobject;void 0==SWFUpload&&(SWFUpload=function(e){this.initSWFUpload(e)}),SWFUpload.prototype.initSWFUpload=function(e){try{this.customSettings={},this.settings={},this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(e),this.loadSupport(),this.swfuploadPreload()&&this.loadFlash(),this.displayDebugInfo()}catch(t){throw delete SWFUpload.instances[this.movieName],t}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version="2.5.0 2010-01-15 Beta 2",SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290,RESIZE:-300},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.UPLOAD_TYPE={NORMAL:-1,RESIZED:-2},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120,JAVASCRIPT:-130,NONE:-130},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"},SWFUpload.RESIZE_ENCODING={JPEG:-1,PNG:-2},SWFUpload.completeURL=function(e){try{var t="",n=-1;return"string"!=typeof e||e.match(/^https?:\/\//i)||e.match(/^\//)||""===e?e:(n=window.location.pathname.lastIndexOf("/"),t=0>=n?"/":window.location.pathname.substr(0,n)+"/",t+e)}catch(i){return e}},SWFUpload.onload=function(){},SWFUpload.prototype.initSettings=function(e){this.ensureDefault=function(t,n){var i=e[t];this.settings[t]=void 0!=i?i:n},this.ensureDefault("upload_url",""),this.ensureDefault("preserve_relative_urls",!1),this.ensureDefault("file_post_name","Filedata"),this.ensureDefault("post_params",{}),this.ensureDefault("use_query_string",!1),this.ensureDefault("requeue_on_error",!1),this.ensureDefault("http_success",[]),this.ensureDefault("assume_success_timeout",0),this.ensureDefault("file_types","*.*"),this.ensureDefault("file_types_description","All Files"),this.ensureDefault("file_size_limit",0),this.ensureDefault("file_upload_limit",0),this.ensureDefault("file_queue_limit",0),this.ensureDefault("flash_url","swfupload.swf"),this.ensureDefault("flash9_url","swfupload_fp9.swf"),this.ensureDefault("prevent_swf_caching",!1),this.ensureDefault("button_image_url",""),this.ensureDefault("button_width",1),this.ensureDefault("button_height",1),this.ensureDefault("button_text",""),this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;"),this.ensureDefault("button_text_top_padding",0),this.ensureDefault("button_text_left_padding",0),this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault("button_disabled",!1),this.ensureDefault("button_placeholder_id",""),this.ensureDefault("button_placeholder",null),this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW),this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault("debug",!1),this.settings.debug_enabled=this.settings.debug,this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault("swfupload_preload_handler",null),this.ensureDefault("swfupload_load_failed_handler",null),this.ensureDefault("swfupload_loaded_handler",null),this.ensureDefault("file_dialog_start_handler",null),this.ensureDefault("file_queued_handler",null),this.ensureDefault("file_queue_error_handler",null),this.ensureDefault("file_dialog_complete_handler",null),this.ensureDefault("upload_resize_start_handler",null),this.ensureDefault("upload_start_handler",null),this.ensureDefault("upload_progress_handler",null),this.ensureDefault("upload_error_handler",null),this.ensureDefault("upload_success_handler",null),this.ensureDefault("upload_complete_handler",null),this.ensureDefault("mouse_click_handler",null),this.ensureDefault("mouse_out_handler",null),this.ensureDefault("mouse_over_handler",null),this.ensureDefault("debug_handler",this.debugMessage),this.ensureDefault("custom_settings",{}),this.customSettings=this.settings.custom_settings,this.settings.prevent_swf_caching&&(this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime(),this.settings.flash9_url=this.settings.flash9_url+(this.settings.flash9_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()),this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)),delete this.ensureDefault},SWFUpload.prototype.loadSupport=function(){this.support={loading:swfobject.hasFlashPlayerVersion("9.0.28"),imageResize:swfobject.hasFlashPlayerVersion("10.0.0")}},SWFUpload.prototype.loadFlash=function(){var e,t,n,i,o;if(!this.support.loading)return void this.queueEvent("swfupload_load_failed_handler",["Flash Player doesn't support SWFUpload"]);if(null!==document.getElementById(this.movieName))return this.support.loading=!1,void this.queueEvent("swfupload_load_failed_handler",["Element ID already in use"]);if(e=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder,void 0==e)return this.support.loading=!1,void this.queueEvent("swfupload_load_failed_handler",["button place holder not found"]);n="block"!==(e.currentStyle&&e.currentStyle.display||window.getComputedStyle&&document.defaultView.getComputedStyle(e,null).getPropertyValue("display"))?"span":"div",t=document.createElement(n),i=this.getFlashHTML();try{t.innerHTML=i}catch(r){return this.support.loading=!1,void this.queueEvent("swfupload_load_failed_handler",["Exception loading Flash HTML into placeholder"])}return o=t.getElementsByTagName("object"),!o||o.length>1||0===o.length?(this.support.loading=!1,void this.queueEvent("swfupload_load_failed_handler",["Unable to find movie after adding to DOM"])):(1===o.length&&(this.movieElement=o[0]),e.parentNode.replaceChild(t.firstChild,e),void(void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement())))},SWFUpload.prototype.getFlashHTML=function(e){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" />','<param name="quality" value="high" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},SWFUpload.prototype.getFlashVars=function(){var e,t;return t=this.buildParamString(),e=this.settings.http_success.join(","),["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(e),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(t),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")},SWFUpload.prototype.getMovieElement=function(){if(void 0==this.movieElement&&(this.movieElement=document.getElementById(this.movieName)),null===this.movieElement)throw"Could not find Flash element";return this.movieElement},SWFUpload.prototype.buildParamString=function(){var e,t,n=[];if(t=this.settings.post_params,"object"==typeof t)for(e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e.toString())+"="+encodeURIComponent(t[e].toString()));return n.join("&amp;")},SWFUpload.prototype.destroy=function(){var e;try{if(this.cancelUpload(null,!1),e=this.cleanUp())try{e.parentNode.removeChild(e)}catch(t){}return window[this.movieName]=null,SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],this.movieElement=null,this.settings=null,this.customSettings=null,this.eventQueue=null,this.movieName=null,!0}catch(n){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","	","upload_url:               ",this.settings.upload_url,"\n","	","flash_url:                ",this.settings.flash_url,"\n","	","flash9_url:                ",this.settings.flash9_url,"\n","	","use_query_string:         ",this.settings.use_query_string.toString(),"\n","	","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","	","http_success:             ",this.settings.http_success.join(", "),"\n","	","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","	","file_post_name:           ",this.settings.file_post_name,"\n","	","post_params:              ",this.settings.post_params.toString(),"\n","	","file_types:               ",this.settings.file_types,"\n","	","file_types_description:   ",this.settings.file_types_description,"\n","	","file_size_limit:          ",this.settings.file_size_limit,"\n","	","file_upload_limit:        ",this.settings.file_upload_limit,"\n","	","file_queue_limit:         ",this.settings.file_queue_limit,"\n","	","debug:                    ",this.settings.debug.toString(),"\n","	","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","	","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","	","button_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n","	","button_image_url:         ",this.settings.button_image_url.toString(),"\n","	","button_width:             ",this.settings.button_width.toString(),"\n","	","button_height:            ",this.settings.button_height.toString(),"\n","	","button_text:              ",this.settings.button_text.toString(),"\n","	","button_text_style:        ",this.settings.button_text_style.toString(),"\n","	","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","	","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","	","button_action:            ",this.settings.button_action.toString(),"\n","	","button_cursor:            ",this.settings.button_cursor.toString(),"\n","	","button_disabled:          ",this.settings.button_disabled.toString(),"\n","	","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","	","swfupload_preload_handler assigned:  ",("function"==typeof this.settings.swfupload_preload_handler).toString(),"\n","	","swfupload_load_failed_handler assigned:  ",("function"==typeof this.settings.swfupload_load_failed_handler).toString(),"\n","	","swfupload_loaded_handler assigned:  ",("function"==typeof this.settings.swfupload_loaded_handler).toString(),"\n","	","mouse_click_handler assigned:       ",("function"==typeof this.settings.mouse_click_handler).toString(),"\n","	","mouse_over_handler assigned:        ",("function"==typeof this.settings.mouse_over_handler).toString(),"\n","	","mouse_out_handler assigned:         ",("function"==typeof this.settings.mouse_out_handler).toString(),"\n","	","file_dialog_start_handler assigned: ",("function"==typeof this.settings.file_dialog_start_handler).toString(),"\n","	","file_queued_handler assigned:       ",("function"==typeof this.settings.file_queued_handler).toString(),"\n","	","file_queue_error_handler assigned:  ",("function"==typeof this.settings.file_queue_error_handler).toString(),"\n","	","upload_resize_start_handler assigned:      ",("function"==typeof this.settings.upload_resize_start_handler).toString(),"\n","	","upload_start_handler assigned:      ",("function"==typeof this.settings.upload_start_handler).toString(),"\n","	","upload_progress_handler assigned:   ",("function"==typeof this.settings.upload_progress_handler).toString(),"\n","	","upload_error_handler assigned:      ",("function"==typeof this.settings.upload_error_handler).toString(),"\n","	","upload_success_handler assigned:    ",("function"==typeof this.settings.upload_success_handler).toString(),"\n","	","upload_complete_handler assigned:   ",("function"==typeof this.settings.upload_complete_handler).toString(),"\n","	","debug_handler assigned:             ",("function"==typeof this.settings.debug_handler).toString(),"\n","Support:\n","	","Load:                     ",this.support.loading?"Yes":"No","\n","	","Image Resize:             ",this.support.imageResize?"Yes":"No","\n"].join(""));

},SWFUpload.prototype.addSetting=function(e,t,n){return this.settings[e]=void 0==t?n:t},SWFUpload.prototype.getSetting=function(e){return void 0!=this.settings[e]?this.settings[e]:""},SWFUpload.prototype.callFlash=function(functionName,argumentArray){var movieElement,returnValue,returnString;argumentArray=argumentArray||[],movieElement=this.getMovieElement();try{void 0!=movieElement?(returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>"),returnValue=eval(returnString)):this.debug("Can't call flash because the movie wasn't found.")}catch(ex){this.debug("Exception calling flash function '"+functionName+"': "+ex.message)}return void 0!=returnValue&&"object"==typeof returnValue.post&&(returnValue=this.unescapeFilePostParams(returnValue)),returnValue},SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")},SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")},SWFUpload.prototype.startUpload=function(e){this.callFlash("StartUpload",[e])},SWFUpload.prototype.startResizedUpload=function(e,t,n,i,o,r){this.callFlash("StartUpload",[e,{width:t,height:n,encoding:i,quality:o,allowEnlarging:r}])},SWFUpload.prototype.cancelUpload=function(e,t){t!==!1&&(t=!0),this.callFlash("CancelUpload",[e,t])},SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")},SWFUpload.prototype.requeueUpload=function(e){return this.callFlash("RequeueUpload",[e])},SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")},SWFUpload.prototype.setStats=function(e){this.callFlash("SetStats",[e])},SWFUpload.prototype.getFile=function(e){return"number"==typeof e?this.callFlash("GetFileByIndex",[e]):this.callFlash("GetFile",[e])},SWFUpload.prototype.getQueueFile=function(e){return"number"==typeof e?this.callFlash("GetFileByQueueIndex",[e]):this.callFlash("GetFile",[e])},SWFUpload.prototype.addFileParam=function(e,t,n){return this.callFlash("AddFileParam",[e,t,n])},SWFUpload.prototype.removeFileParam=function(e,t){this.callFlash("RemoveFileParam",[e,t])},SWFUpload.prototype.setUploadURL=function(e){this.settings.upload_url=e.toString(),this.callFlash("SetUploadURL",[e])},SWFUpload.prototype.setPostParams=function(e){this.settings.post_params=e,this.callFlash("SetPostParams",[e])},SWFUpload.prototype.addPostParam=function(e,t){this.settings.post_params[e]=t,this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(e){delete this.settings.post_params[e],this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(e,t){this.settings.file_types=e,this.settings.file_types_description=t,this.callFlash("SetFileTypes",[e,t])},SWFUpload.prototype.setFileSizeLimit=function(e){this.settings.file_size_limit=e,this.callFlash("SetFileSizeLimit",[e])},SWFUpload.prototype.setFileUploadLimit=function(e){this.settings.file_upload_limit=e,this.callFlash("SetFileUploadLimit",[e])},SWFUpload.prototype.setFileQueueLimit=function(e){this.settings.file_queue_limit=e,this.callFlash("SetFileQueueLimit",[e])},SWFUpload.prototype.setFilePostName=function(e){this.settings.file_post_name=e,this.callFlash("SetFilePostName",[e])},SWFUpload.prototype.setUseQueryString=function(e){this.settings.use_query_string=e,this.callFlash("SetUseQueryString",[e])},SWFUpload.prototype.setRequeueOnError=function(e){this.settings.requeue_on_error=e,this.callFlash("SetRequeueOnError",[e])},SWFUpload.prototype.setHTTPSuccess=function(e){"string"==typeof e&&(e=e.replace(" ","").split(",")),this.settings.http_success=e,this.callFlash("SetHTTPSuccess",[e])},SWFUpload.prototype.setAssumeSuccessTimeout=function(e){this.settings.assume_success_timeout=e,this.callFlash("SetAssumeSuccessTimeout",[e])},SWFUpload.prototype.setDebugEnabled=function(e){this.settings.debug_enabled=e,this.callFlash("SetDebugEnabled",[e])},SWFUpload.prototype.setButtonImageURL=function(e){void 0==e&&(e=""),this.settings.button_image_url=e,this.callFlash("SetButtonImageURL",[e])},SWFUpload.prototype.setButtonDimensions=function(e,t){this.settings.button_width=e,this.settings.button_height=t;var n=this.getMovieElement();void 0!=n&&(n.style.width=e+"px",n.style.height=t+"px"),this.callFlash("SetButtonDimensions",[e,t])},SWFUpload.prototype.setButtonText=function(e){this.settings.button_text=e,this.callFlash("SetButtonText",[e])},SWFUpload.prototype.setButtonTextPadding=function(e,t){this.settings.button_text_top_padding=t,this.settings.button_text_left_padding=e,this.callFlash("SetButtonTextPadding",[e,t])},SWFUpload.prototype.setButtonTextStyle=function(e){this.settings.button_text_style=e,this.callFlash("SetButtonTextStyle",[e])},SWFUpload.prototype.setButtonDisabled=function(e){this.settings.button_disabled=e,this.callFlash("SetButtonDisabled",[e])},SWFUpload.prototype.setButtonAction=function(e){this.settings.button_action=e,this.callFlash("SetButtonAction",[e])},SWFUpload.prototype.setButtonCursor=function(e){this.settings.button_cursor=e,this.callFlash("SetButtonCursor",[e])},SWFUpload.prototype.queueEvent=function(e,t){var n=this;if(void 0==t?t=[]:t instanceof Array||(t=[t]),"function"==typeof this.settings[e])this.eventQueue.push(function(){this.settings[e].apply(this,t)}),setTimeout(function(){n.executeNextEvent()},0);else if(null!==this.settings[e])throw"Event handler "+e+" is unknown or is not a function"},SWFUpload.prototype.executeNextEvent=function(){var e=this.eventQueue?this.eventQueue.shift():null;"function"==typeof e&&e.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(e){var t,n,i,o=/[$]([0-9a-f]{4})/i,r={};if(void 0!=e){for(n in e.post)if(e.post.hasOwnProperty(n)){for(t=n;null!==(i=o.exec(t));)t=t.replace(i[0],String.fromCharCode(parseInt("0x"+i[1],16)));r[t]=e.post[n]}e.post=r}return e},SWFUpload.prototype.swfuploadPreload=function(){var e;if("function"==typeof this.settings.swfupload_preload_handler)e=this.settings.swfupload_preload_handler.call(this);else if(void 0!=this.settings.swfupload_preload_handler)throw"upload_start_handler must be a function";return void 0===e&&(e=!0),!!e},SWFUpload.prototype.flashReady=function(){var e=this.cleanUp();return e?void this.queueEvent("swfupload_loaded_handler"):void this.debug("Flash called back ready but the flash movie can't be found.")},SWFUpload.prototype.cleanUp=function(){var e,t=this.getMovieElement();try{if(t&&"unknown"==typeof t.CallFunction){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(e in t)try{"function"==typeof t[e]&&(t[e]=null)}catch(n){}}}catch(i){}return window.__flash__removeCallback=function(e,t){try{e&&(e[t]=null)}catch(n){}},t},SWFUpload.prototype.mouseClick=function(){this.queueEvent("mouse_click_handler")},SWFUpload.prototype.mouseOver=function(){this.queueEvent("mouse_over_handler")},SWFUpload.prototype.mouseOut=function(){this.queueEvent("mouse_out_handler")},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")},SWFUpload.prototype.fileQueued=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("file_queued_handler",e)},SWFUpload.prototype.fileQueueError=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("file_queue_error_handler",[e,t,n])},SWFUpload.prototype.fileDialogComplete=function(e,t,n){this.queueEvent("file_dialog_complete_handler",[e,t,n])},SWFUpload.prototype.uploadResizeStart=function(e,t){e=this.unescapeFilePostParams(e),this.queueEvent("upload_resize_start_handler",[e,t.width,t.height,t.encoding,t.quality])},SWFUpload.prototype.uploadStart=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("return_upload_start_handler",e)},SWFUpload.prototype.returnUploadStart=function(e){var t;if("function"==typeof this.settings.upload_start_handler)e=this.unescapeFilePostParams(e),t=this.settings.upload_start_handler.call(this,e);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===t&&(t=!0),t=!!t,this.callFlash("ReturnUploadStart",[t])},SWFUpload.prototype.uploadProgress=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("upload_progress_handler",[e,t,n])},SWFUpload.prototype.uploadError=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("upload_error_handler",[e,t,n])},SWFUpload.prototype.uploadSuccess=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("upload_success_handler",[e,t,n])},SWFUpload.prototype.uploadComplete=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("upload_complete_handler",e)},SWFUpload.prototype.debug=function(e){this.queueEvent("debug_handler",e)},SWFUpload.prototype.debugMessage=function(e){var t,n,i;if(this.settings.debug)if(n=[],"object"==typeof e&&"string"==typeof e.name&&"string"==typeof e.message){for(i in e)e.hasOwnProperty(i)&&n.push(i+": "+e[i]);t=n.join("\n")||"",n=t.split("\n"),t="EXCEPTION: "+n.join("\nEXCEPTION: "),SWFUpload.Console.writeLine(t)}else SWFUpload.Console.writeLine(e)},SWFUpload.Console={},SWFUpload.Console.writeLine=function(e){var t,n;try{t=document.getElementById("SWFUpload_Console"),t||(n=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(n),t=document.createElement("textarea"),t.id="SWFUpload_Console",t.style.fontFamily="monospace",t.setAttribute("wrap","off"),t.wrap="off",t.style.overflow="auto",t.style.width="700px",t.style.height="350px",t.style.margin="5px",n.appendChild(t)),t.value+=e+"\n",t.scrollTop=t.scrollHeight-t.clientHeight}catch(i){alert("Exception: "+i.name+" Message: "+i.message)}},swfobject=function(){function e(){if(!H){try{var e=O.getElementsByTagName("body")[0].appendChild(g("span"));e.parentNode.removeChild(e)}catch(t){return}H=!0;for(var n=M.length,i=0;n>i;i++)M[i]()}}function t(e){H?e():M[M.length]=e}function n(e){if(typeof I.addEventListener!=E)I.addEventListener("load",e,!1);else if(typeof O.addEventListener!=E)O.addEventListener("load",e,!1);else if(typeof I.attachEvent!=E)v(I,"onload",e);else if("function"==typeof I.onload){var t=I.onload;I.onload=function(){t(),e()}}else I.onload=e}function i(){U?o():r()}function o(){var e=O.getElementsByTagName("body")[0],t=g($);t.setAttribute("type",A);var n=e.appendChild(t);if(n){var i=0;!function(){if(typeof n.GetVariable!=E){var o=n.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),X.pv=[parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10)])}else if(10>i)return i++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,r()}()}else r()}function r(){var e=B.length;if(e>0)for(var t=0;e>t;t++){var n=B[t].id,i=B[t].callbackFn,o={success:!1,id:n};if(X.pv[0]>0){var r=m(n);if(r)if(!_(B[t].swfVersion)||X.wk&&X.wk<312)if(B[t].expressInstall&&a()){var u={};u.data=B[t].expressInstall,u.width=r.getAttribute("width")||"0",u.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(u.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(u.align=r.getAttribute("align"));for(var d={},p=r.getElementsByTagName("param"),h=p.length,f=0;h>f;f++)"movie"!=p[f].getAttribute("name").toLowerCase()&&(d[p[f].getAttribute("name")]=p[f].getAttribute("value"));l(u,d,n,i)}else c(r),i&&i(o);else b(n,!0),i&&(o.success=!0,o.ref=s(n),i(o))}else if(b(n,!0),i){var g=s(n);g&&typeof g.SetVariable!=E&&(o.success=!0,o.ref=g),i(o)}}}function s(e){var t=null,n=m(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=E)t=n;else{var i=n.getElementsByTagName($)[0];i&&(t=i)}return t}function a(){return!q&&_("6.0.65")&&(X.win||X.mac)&&!(X.wk&&X.wk<312)}function l(e,t,n,i){q=!0,C=i||null,k={success:!1,id:n};var o=m(n);if(o){"OBJECT"==o.nodeName?(x=u(o),j=null):(x=o,j=n),e.id=N,(typeof e.width==E||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==E||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),O.title=O.title.slice(0,47)+" - Flash Player Installation";var r=X.ie&&X.win?"ActiveX":"PlugIn",s="MMredirectURL="+I.location.toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+O.title;if(typeof t.flashvars!=E?t.flashvars+="&"+s:t.flashvars=s,X.ie&&X.win&&4!=o.readyState){var a=g("div");n+="SWFObjectNew",a.setAttribute("id",n),o.parentNode.insertBefore(a,o),o.style.display="none",function(){4==o.readyState?o.parentNode.removeChild(o):setTimeout(arguments.callee,10)}()}d(e,t,n)}}function c(e){if(X.ie&&X.win&&4!=e.readyState){var t=g("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=g("div");if(X.win&&X.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName($)[0];if(n){var i=n.childNodes;if(i)for(var o=i.length,r=0;o>r;r++)1==i[r].nodeType&&"PARAM"==i[r].nodeName||8==i[r].nodeType||t.appendChild(i[r].cloneNode(!0))}}return t}function d(e,t,n){var i,o=m(n);if(X.wk&&X.wk<312)return i;if(o)if(typeof e.id==E&&(e.id=n),X.ie&&X.win){var r="";for(var s in e)e[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?t.movie=e[s]:"styleclass"==s.toLowerCase()?r+=' class="'+e[s]+'"':"classid"!=s.toLowerCase()&&(r+=" "+s+'="'+e[s]+'"'));var a="";for(var l in t)t[l]!=Object.prototype[l]&&(a+='<param name="'+l+'" value="'+t[l]+'" />');o.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+a+"</object>",R[R.length]=e.id,i=m(e.id)}else{var c=g($);c.setAttribute("type",A);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?c.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&c.setAttribute(u,e[u]));for(var d in t)t[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&p(c,d,t[d]);o.parentNode.replaceChild(c,o),i=c}return i}function p(e,t,n){var i=g("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function h(e){var t=m(e);t&&"OBJECT"==t.nodeName&&(X.ie&&X.win?(t.style.display="none",function(){4==t.readyState?f(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function f(e){var t=m(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function m(e){var t=null;try{t=O.getElementById(e)}catch(n){}return t}function g(e){return O.createElement(e)}function v(e,t,n){e.attachEvent(t,n),W[W.length]=[e,t,n]}function _(e){var t=X.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function y(e,t,n,i){if(!X.ie||!X.mac){var o=O.getElementsByTagName("head")[0];if(o){var r=n&&"string"==typeof n?n:"screen";if(i&&(S=null,T=null),!S||T!=r){var s=g("style");s.setAttribute("type","text/css"),s.setAttribute("media",r),S=o.appendChild(s),X.ie&&X.win&&typeof O.styleSheets!=E&&O.styleSheets.length>0&&(S=O.styleSheets[O.styleSheets.length-1]),T=r}X.ie&&X.win?S&&typeof S.addRule==$&&S.addRule(e,t):S&&typeof O.createTextNode!=E&&S.appendChild(O.createTextNode(e+" {"+t+"}"))}}}function b(e,t){if(z){var n=t?"visible":"hidden";H&&m(e)?m(e).style.visibility=n:y("#"+e,"visibility:"+n)}}function w(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=E?encodeURIComponent(e):e}{var x,j,C,k,S,T,E="undefined",$="object",F="Shockwave Flash",D="ShockwaveFlash.ShockwaveFlash",A="application/x-shockwave-flash",N="SWFObjectExprInst",L="onreadystatechange",I=window,O=document,P=navigator,U=!1,M=[i],B=[],R=[],W=[],H=!1,q=!1,z=!0,X=function(){var e=typeof O.getElementById!=E&&typeof O.getElementsByTagName!=E&&typeof O.createElement!=E,t=P.userAgent.toLowerCase(),n=P.platform.toLowerCase(),i=/win/.test(n?n:t),o=/mac/.test(n?n:t),r=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,s=!1,a=[0,0,0],l=null;if(typeof P.plugins!=E&&typeof P.plugins[F]==$)l=P.plugins[F].description,!l||typeof P.mimeTypes!=E&&P.mimeTypes[A]&&!P.mimeTypes[A].enabledPlugin||(U=!0,s=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof I.ActiveXObject!=E)try{var c=new ActiveXObject(D);c&&(l=c.GetVariable("$version"),l&&(s=!0,l=l.split(" ")[1].split(","),a=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(u){}return{w3:e,pv:a,wk:r,ie:s,win:i,mac:o}}();!function(){X.w3&&((typeof O.readyState!=E&&"complete"==O.readyState||typeof O.readyState==E&&(O.getElementsByTagName("body")[0]||O.body))&&e(),H||(typeof O.addEventListener!=E&&O.addEventListener("DOMContentLoaded",e,!1),X.ie&&X.win&&(O.attachEvent(L,function(){"complete"==O.readyState&&(O.detachEvent(L,arguments.callee),e())}),I==top&&!function(){if(!H){try{O.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}e()}}()),X.wk&&!function(){return H?void 0:/loaded|complete/.test(O.readyState)?void e():void setTimeout(arguments.callee,0)}(),n(e)))}(),function(){X.ie&&X.win&&window.attachEvent("onunload",function(){for(var e=W.length,t=0;e>t;t++)W[t][0].detachEvent(W[t][1],W[t][2]);for(var n=R.length,i=0;n>i;i++)h(R[i]);for(var o in X)X[o]=null;X=null;for(var r in swfobject)swfobject[r]=null;swfobject=null})}()}return{registerObject:function(e,t,n,i){if(X.w3&&e&&t){var o={};o.id=e,o.swfVersion=t,o.expressInstall=n,o.callbackFn=i,B[B.length]=o,b(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){return X.w3?s(e):void 0},embedSWF:function(e,n,i,o,r,s,c,u,p,h){var f={success:!1,id:n};X.w3&&!(X.wk&&X.wk<312)&&e&&n&&i&&o&&r?(b(n,!1),t(function(){i+="",o+="";var t={};if(p&&typeof p===$)for(var m in p)t[m]=p[m];t.data=e,t.width=i,t.height=o;var g={};if(u&&typeof u===$)for(var v in u)g[v]=u[v];if(c&&typeof c===$)for(var y in c)typeof g.flashvars!=E?g.flashvars+="&"+y+"="+c[y]:g.flashvars=y+"="+c[y];if(_(r)){var w=d(t,g,n);t.id==n&&b(n,!0),f.success=!0,f.ref=w}else{if(s&&a())return t.data=s,void l(t,g,n,h);b(n,!0)}h&&h(f)})):h&&h(f)},switchOffAutoHideShow:function(){z=!1},ua:X,getFlashPlayerVersion:function(){return{major:X.pv[0],minor:X.pv[1],release:X.pv[2]}},hasFlashPlayerVersion:_,createSWF:function(e,t,n){return X.w3?d(e,t,n):void 0},showExpressInstall:function(e,t,n,i){X.w3&&a()&&l(e,t,n,i)},removeSWF:function(e){X.w3&&h(e)},createCSS:function(e,t,n,i){X.w3&&y(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=O.location.search||O.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return w(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return w(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(q){var e=m(N);e&&x&&(e.parentNode.replaceChild(x,e),j&&(b(j,!0),X.ie&&X.win&&(x.style.display="block")),C&&C(k)),q=!1}}}}(),swfobject.addDomLoadEvent(function(){"function"==typeof SWFUpload.onload&&SWFUpload.onload.call(window)}),function(e,t){var n,i=e.jQuery||e.Cowboy||(e.Cowboy={});i.throttle=n=function(e,n,o,r){function s(){function i(){l=+new Date,o.apply(c,d)}function s(){a=t}var c=this,u=+new Date-l,d=arguments;r&&!a&&i(),a&&clearTimeout(a),r===t&&u>e?i():n!==!0&&(a=setTimeout(r?s:i,r===t?e-u:e))}var a,l=0;return"boolean"!=typeof n&&(r=o,o=n,n=t),i.guid&&(s.guid=o.guid=o.guid||i.guid++),s},i.debounce=function(e,i,o){return o===t?n(e,i,!1):n(e,o,i!==!1)}}(this),/*!
 * jScrollPane - v2.0.23 - 2016-01-28
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2014 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.fn.jScrollPane=function(t){function n(t,n){function i(n){var r,a,c,u,d,f,m=!1,g=!1;if(M=n,void 0===B)d=t.scrollTop(),f=t.scrollLeft(),t.css({overflow:"hidden",padding:0}),R=t.innerWidth()+ve,W=t.innerHeight(),t.width(R),B=e('<div class="jspPane" />').css("padding",ge).append(t.children()),H=e('<div class="jspContainer" />').css({width:R+"px",height:W+"px"}).append(B).appendTo(t);else{if(t.css("width",""),m=M.stickToBottom&&S(),g=M.stickToRight&&T(),u=t.innerWidth()+ve!=R||t.outerHeight()!=W,u&&(R=t.innerWidth()+ve,W=t.innerHeight(),H.css({width:R+"px",height:W+"px"})),!u&&_e==q&&B.outerHeight()==z)return void t.width(R);_e=q,B.css("width",""),t.width(R),H.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}B.css("overflow","auto"),q=n.contentWidth?n.contentWidth:B[0].scrollWidth,z=B[0].scrollHeight,B.css("overflow",""),X=q/R,Y=z/W,V=Y>1,G=X>1,G||V?(t.addClass("jspScrollable"),r=M.maintainPosition&&(J||te),r&&(a=C(),c=k()),o(),s(),l(),r&&(x(g?q-R:a,!1),w(m?z-W:c,!1)),D(),E(),P(),M.enableKeyboardNavigation&&N(),M.clickOnTrack&&p(),I(),M.hijackInternalLinks&&O()):(t.removeClass("jspScrollable"),B.css({top:0,left:0,width:H.width()-ve}),$(),A(),L(),h()),M.autoReinitialise&&!me?me=setInterval(function(){i(M)},M.autoReinitialiseDelay):!M.autoReinitialise&&me&&clearInterval(me),d&&t.scrollTop(0)&&w(d,!1),f&&t.scrollLeft(0)&&x(f,!1),t.trigger("jsp-initialised",[G||V])}function o(){V&&(H.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),ne=H.find(">.jspVerticalBar"),ie=ne.find(">.jspTrack"),Q=ie.find(">.jspDrag"),M.showArrows&&(ae=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",u(0,-1)).bind("click.jsp",F),le=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",u(0,1)).bind("click.jsp",F),M.arrowScrollOnHover&&(ae.bind("mouseover.jsp",u(0,-1,ae)),le.bind("mouseover.jsp",u(0,1,le))),c(ie,M.verticalArrowPositions,ae,le)),re=W,H.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){re-=e(this).outerHeight()}),Q.hover(function(){Q.addClass("jspHover")},function(){Q.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",F),Q.addClass("jspActive");var n=t.pageY-Q.position().top;return e("html").bind("mousemove.jsp",function(e){m(e.pageY-n,!1)}).bind("mouseup.jsp mouseleave.jsp",f),!1}),r())}function r(){ie.height(re+"px"),J=0,oe=M.verticalGutter+ie.outerWidth(),B.width(R-oe-ve);try{0===ne.position().left&&B.css("margin-left",oe+"px")}catch(e){}}function s(){G&&(H.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),ce=H.find(">.jspHorizontalBar"),ue=ce.find(">.jspTrack"),Z=ue.find(">.jspDrag"),M.showArrows&&(he=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",u(-1,0)).bind("click.jsp",F),fe=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",u(1,0)).bind("click.jsp",F),M.arrowScrollOnHover&&(he.bind("mouseover.jsp",u(-1,0,he)),fe.bind("mouseover.jsp",u(1,0,fe))),c(ue,M.horizontalArrowPositions,he,fe)),Z.hover(function(){Z.addClass("jspHover")},function(){Z.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",F),Z.addClass("jspActive");var n=t.pageX-Z.position().left;return e("html").bind("mousemove.jsp",function(e){v(e.pageX-n,!1)}).bind("mouseup.jsp mouseleave.jsp",f),!1}),de=H.innerWidth(),a())}function a(){H.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){de-=e(this).outerWidth()}),ue.width(de+"px"),te=0}function l(){if(G&&V){var t=ue.outerHeight(),n=ie.outerWidth();re-=t,e(ce).find(">.jspCap:visible,>.jspArrow").each(function(){de+=e(this).outerWidth()}),de-=n,W-=n,R-=t,ue.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),r(),a()}G&&B.width(H.outerWidth()-ve+"px"),z=B.outerHeight(),Y=z/W,G&&(pe=Math.ceil(1/X*de),pe>M.horizontalDragMaxWidth?pe=M.horizontalDragMaxWidth:pe<M.horizontalDragMinWidth&&(pe=M.horizontalDragMinWidth),Z.width(pe+"px"),ee=de-pe,_(te)),V&&(se=Math.ceil(1/Y*re),se>M.verticalDragMaxHeight?se=M.verticalDragMaxHeight:se<M.verticalDragMinHeight&&(se=M.verticalDragMinHeight),Q.height(se+"px"),K=re-se,g(J))}function c(e,t,n,i){var o,r="before",s="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==r?s=t:t==s&&(r=t,o=n,n=i,i=o),e[r](n)[s](i)}function u(e,t,n){return function(){return d(e,t,this,n),this.blur(),!1}}function d(t,n,i,o){i=e(i).addClass("jspActive");var r,s,a=!0,l=function(){0!==t&&ye.scrollByX(t*M.arrowButtonSpeed),0!==n&&ye.scrollByY(n*M.arrowButtonSpeed),s=setTimeout(l,a?M.initialDelay:M.arrowRepeatFreq),a=!1};l(),r=o?"mouseout.jsp":"mouseup.jsp",o=o||e("html"),o.bind(r,function(){i.removeClass("jspActive"),s&&clearTimeout(s),s=null,o.unbind(r)})}function p(){h(),V&&ie.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var n,i=e(this),o=i.offset(),r=t.pageY-o.top-J,s=!0,a=function(){var e=i.offset(),o=t.pageY-e.top-se/2,c=W*M.scrollPagePercent,u=K*c/(z-W);if(0>r)J-u>o?ye.scrollByY(-c):m(o);else{if(!(r>0))return void l();o>J+u?ye.scrollByY(c):m(o)}n=setTimeout(a,s?M.initialDelay:M.trackClickRepeatFreq),s=!1},l=function(){n&&clearTimeout(n),n=null,e(document).unbind("mouseup.jsp",l)};return a(),e(document).bind("mouseup.jsp",l),!1}}),G&&ue.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var n,i=e(this),o=i.offset(),r=t.pageX-o.left-te,s=!0,a=function(){var e=i.offset(),o=t.pageX-e.left-pe/2,c=R*M.scrollPagePercent,u=ee*c/(q-R);if(0>r)te-u>o?ye.scrollByX(-c):v(o);else{if(!(r>0))return void l();o>te+u?ye.scrollByX(c):v(o)}n=setTimeout(a,s?M.initialDelay:M.trackClickRepeatFreq),s=!1},l=function(){n&&clearTimeout(n),n=null,e(document).unbind("mouseup.jsp",l)};return a(),e(document).bind("mouseup.jsp",l),!1}})}function h(){ue&&ue.unbind("mousedown.jsp"),ie&&ie.unbind("mousedown.jsp")}function f(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),Q&&Q.removeClass("jspActive"),Z&&Z.removeClass("jspActive")}function m(n,i){if(V){0>n?n=0:n>K&&(n=K);var o=new e.Event("jsp-will-scroll-y");if(t.trigger(o,[n]),!o.isDefaultPrevented()){var r=n||0,s=0===r,a=r==K,l=n/K,c=-l*(z-W);void 0===i&&(i=M.animateScroll),i?ye.animate(Q,"top",n,g,function(){t.trigger("jsp-user-scroll-y",[-c,s,a])}):(Q.css("top",n),g(n),t.trigger("jsp-user-scroll-y",[-c,s,a]))}}}function g(e){void 0===e&&(e=Q.position().top),H.scrollTop(0),J=e||0;var n=0===J,i=J==K,o=e/K,r=-o*(z-W);(be!=n||xe!=i)&&(be=n,xe=i,t.trigger("jsp-arrow-change",[be,xe,we,je])),y(n,i),B.css("top",r),t.trigger("jsp-scroll-y",[-r,n,i]).trigger("scroll")}function v(n,i){if(G){0>n?n=0:n>ee&&(n=ee);var o=new e.Event("jsp-will-scroll-x");if(t.trigger(o,[n]),!o.isDefaultPrevented()){var r=n||0,s=0===r,a=r==ee,l=n/ee,c=-l*(q-R);void 0===i&&(i=M.animateScroll),i?ye.animate(Z,"left",n,_,function(){t.trigger("jsp-user-scroll-x",[-c,s,a])}):(Z.css("left",n),_(n),t.trigger("jsp-user-scroll-x",[-c,s,a]))}}}function _(e){void 0===e&&(e=Z.position().left),H.scrollTop(0),te=e||0;var n=0===te,i=te==ee,o=e/ee,r=-o*(q-R);(we!=n||je!=i)&&(we=n,je=i,t.trigger("jsp-arrow-change",[be,xe,we,je])),b(n,i),B.css("left",r),t.trigger("jsp-scroll-x",[-r,n,i]).trigger("scroll")}function y(e,t){M.showArrows&&(ae[e?"addClass":"removeClass"]("jspDisabled"),le[t?"addClass":"removeClass"]("jspDisabled"))}function b(e,t){M.showArrows&&(he[e?"addClass":"removeClass"]("jspDisabled"),fe[t?"addClass":"removeClass"]("jspDisabled"))}function w(e,t){var n=e/(z-W);m(n*K,t)}function x(e,t){var n=e/(q-R);v(n*ee,t)}function j(t,n,i){var o,r,s,a,l,c,u,d,p,h=0,f=0;try{o=e(t)}catch(m){return}for(r=o.outerHeight(),s=o.outerWidth(),H.scrollTop(0),H.scrollLeft(0);!o.is(".jspPane");)if(h+=o.position().top,f+=o.position().left,o=o.offsetParent(),/^body|html$/i.test(o[0].nodeName))return;a=k(),c=a+W,a>h||n?d=h-M.horizontalGutter:h+r>c&&(d=h-W+r+M.horizontalGutter),isNaN(d)||w(d,i),l=C(),u=l+R,l>f||n?p=f-M.horizontalGutter:f+s>u&&(p=f-R+s+M.horizontalGutter),isNaN(p)||x(p,i)}function C(){return-B.position().left}function k(){return-B.position().top}function S(){var e=z-W;return e>20&&e-k()<10}function T(){var e=q-R;return e>20&&e-C()<10}function E(){H.unbind(ke).bind(ke,function(e,t,n,i){te||(te=0),J||(J=0);var o=te,r=J,s=e.deltaFactor||M.mouseWheelSpeed;return ye.scrollBy(n*s,-i*s,!1),o==te&&r==J})}function $(){H.unbind(ke)}function F(){return!1}function D(){B.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){j(e.target,!1)})}function A(){B.find(":input,a").unbind("focus.jsp")}function N(){function n(){var e=te,t=J;switch(i){case 40:ye.scrollByY(M.keyboardSpeed,!1);break;case 38:ye.scrollByY(-M.keyboardSpeed,!1);break;case 34:case 32:ye.scrollByY(W*M.scrollPagePercent,!1);break;case 33:ye.scrollByY(-W*M.scrollPagePercent,!1);break;case 39:ye.scrollByX(M.keyboardSpeed,!1);break;case 37:ye.scrollByX(-M.keyboardSpeed,!1)}return o=e!=te||t!=J}var i,o,r=[];G&&r.push(ce[0]),V&&r.push(ne[0]),B.bind("focus.jsp",function(){t.focus()}),t.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(t){if(t.target===this||r.length&&e(t.target).closest(r).length){var s=te,a=J;switch(t.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:i=t.keyCode,n();break;case 35:w(z-W),i=null;break;case 36:w(0),i=null}return o=t.keyCode==i&&s!=te||a!=J,!o}}).bind("keypress.jsp",function(t){return t.keyCode==i&&n(),t.target===this||r.length&&e(t.target).closest(r).length?!o:void 0}),M.hideFocus?(t.css("outline","none"),"hideFocus"in H[0]&&t.attr("hideFocus",!0)):(t.css("outline",""),"hideFocus"in H[0]&&t.attr("hideFocus",!1))}function L(){t.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),B.unbind(".jsp")}function I(){if(location.hash&&location.hash.length>1){var t,n,i=escape(location.hash.substr(1));try{t=e("#"+i+', a[name="'+i+'"]')}catch(o){return}t.length&&B.find(i)&&(0===H.scrollTop()?n=setInterval(function(){H.scrollTop()>0&&(j(t,!0),e(document).scrollTop(H.position().top),clearInterval(n))},50):(j(t,!0),e(document).scrollTop(H.position().top)))}}function O(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate('a[href*="#"]',"click",function(t){var n,i,o,r,s,a,l=this.href.substr(0,this.href.indexOf("#")),c=location.href;if(-1!==location.href.indexOf("#")&&(c=location.href.substr(0,location.href.indexOf("#"))),l===c){n=escape(this.href.substr(this.href.indexOf("#")+1));try{i=e("#"+n+', a[name="'+n+'"]')}catch(u){return}i.length&&(o=i.closest(".jspScrollable"),r=o.data("jsp"),r.scrollToElement(i,!0),o[0].scrollIntoView&&(s=e(window).scrollTop(),a=i.offset().top,(s>a||a>s+e(window).height())&&o[0].scrollIntoView()),t.preventDefault())}}))}function P(){var e,t,n,i,o,r=!1;H.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(s){var a=s.originalEvent.touches[0];e=C(),t=k(),n=a.pageX,i=a.pageY,o=!1,r=!0}).bind("touchmove.jsp",function(s){if(r){var a=s.originalEvent.touches[0],l=te,c=J;return ye.scrollTo(e+n-a.pageX,t+i-a.pageY),o=o||Math.abs(n-a.pageX)>5||Math.abs(i-a.pageY)>5,l==te&&c==J}}).bind("touchend.jsp",function(){r=!1}).bind("click.jsp-touchclick",function(){return o?(o=!1,!1):void 0})}function U(){var e=k(),n=C();t.removeClass("jspScrollable").unbind(".jsp"),B.unbind(".jsp"),t.replaceWith(Ce.append(B.children())),Ce.scrollTop(e),Ce.scrollLeft(n),me&&clearInterval(me)}var M,B,R,W,H,q,z,X,Y,V,G,Q,K,J,Z,ee,te,ne,ie,oe,re,se,ae,le,ce,ue,de,pe,he,fe,me,ge,ve,_e,ye=this,be=!0,we=!0,xe=!1,je=!1,Ce=t.clone(!1,!1).empty(),ke=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===t.css("box-sizing")?(ge=0,ve=0):(ge=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft"),ve=(parseInt(t.css("paddingLeft"),10)||0)+(parseInt(t.css("paddingRight"),10)||0)),e.extend(ye,{reinitialise:function(t){t=e.extend({},M,t),i(t)},scrollToElement:function(e,t,n){j(e,t,n)},scrollTo:function(e,t,n){x(e,n),w(t,n)},scrollToX:function(e,t){x(e,t)},scrollToY:function(e,t){w(e,t)},scrollToPercentX:function(e,t){x(e*(q-R),t)},scrollToPercentY:function(e,t){w(e*(z-W),t)},scrollBy:function(e,t,n){ye.scrollByX(e,n),ye.scrollByY(t,n)},scrollByX:function(e,t){var n=C()+Math[0>e?"floor":"ceil"](e),i=n/(q-R);v(i*ee,t)},scrollByY:function(e,t){var n=k()+Math[0>e?"floor":"ceil"](e),i=n/(z-W);m(i*K,t)},positionDragX:function(e,t){v(e,t)},positionDragY:function(e,t){m(e,t)},animate:function(e,t,n,i,o){var r={};r[t]=n,e.animate(r,{duration:M.animateDuration,easing:M.animateEase,queue:!1,step:i,complete:o})},getContentPositionX:function(){return C()},getContentPositionY:function(){return k()},getContentWidth:function(){return q},getContentHeight:function(){return z},getPercentScrolledX:function(){return C()/(q-R)},getPercentScrolledY:function(){return k()/(z-W)},getIsScrollableH:function(){return G},getIsScrollableV:function(){return V},getContentPane:function(){return B},scrollToBottom:function(e){m(K,e)},hijackInternalLinks:e.noop,destroy:function(){U()}}),i(n)}return t=e.extend({},e.fn.jScrollPane.defaults,t),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){t[this]=t[this]||t.speed}),this.each(function(){var i=e(this),o=i.data("jsp");o?o.reinitialise(t):(e("script",i).filter('[type="text/javascript"],:not([type])').remove(),o=new n(i,t),i.data("jsp",o))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}),function(e){"use strict";e(["jquery"],function(e){function t(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var n=e.scrollTo=function(t,n,i){return e(window).scrollTo(t,n,i)};return n.defaults={axis:"xy",duration:0,limit:!0},n.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return t;var i=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==i.compatMode?i.body:i.documentElement})},e.fn.scrollTo=function(i,o,r){return"object"==typeof o&&(r=o,o=0),"function"==typeof r&&(r={onAfter:r}),"max"==i&&(i=9e9),r=e.extend({},n.defaults,r),o=o||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(o/=2),r.offset=t(r.offset),r.over=t(r.over),this._scrollable().each(function(){function s(e){c.animate(d,o,r.easing,e&&function(){e.call(this,u,r)})}if(null!=i){var a,l=this,c=e(l),u=i,d={},p=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}if(u=p?e(u):e(u,this),!u.length)return;case"object":(u.is||u.style)&&(a=(u=e(u)).offset())}var h=e.isFunction(r.offset)&&r.offset(l,u)||r.offset;e.each(r.axis.split(""),function(e,t){var i="x"==t?"Left":"Top",o=i.toLowerCase(),f="scroll"+i,m=l[f],g=n.max(l,t);if(a)d[f]=a[o]+(p?0:m-c.offset()[o]),r.margin&&(d[f]-=parseInt(u.css("margin"+i))||0,d[f]-=parseInt(u.css("border"+i+"Width"))||0),d[f]+=h[o]||0,r.over[o]&&(d[f]+=u["x"==t?"width":"height"]()*r.over[o]);else{var v=u[o];d[f]=v.slice&&"%"==v.slice(-1)?parseFloat(v)/100*g:v}r.limit&&/^\d+$/.test(d[f])&&(d[f]=d[f]<=0?0:Math.min(d[f],g)),!e&&r.queue&&(m!=d[f]&&s(r.onAfterFirst),delete d[f])}),s(r.onAfter)}}).end()},n.max=function(t,n){var i="x"==n?"Width":"Height",o="scroll"+i;if(!e(t).is("html,body"))return t[o]-e(t)[i.toLowerCase()]();var r="client"+i,s=t.ownerDocument.documentElement,a=t.ownerDocument.body;return Math.max(s[o],a[o])-Math.min(s[r],a[r])},n})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}),/*!
 * Cropper v2.2.5
 * https://github.com/fengyuanchen/cropper
 *
 * Copyright (c) 2014-2016 Fengyuan Chen and contributors
 * Released under the MIT license
 *
 * Date: 2016-01-18T05:42:50.800Z
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){"use strict";function t(e){return"number"==typeof e&&!isNaN(e)}function n(e){return"undefined"==typeof e}function i(e,n){var i=[];return t(n)&&i.push(n),i.slice.apply(e,i)}function o(e,t){var n=i(arguments,2);return function(){return e.apply(t,n.concat(i(arguments)))}}function r(e){var t=e.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);return t&&(t[1]!==b.protocol||t[2]!==b.hostname||t[3]!==b.port)}function s(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function a(e){return e?' crossOrigin="'+e+'"':""}function l(e,t){var n;return e.naturalWidth?t(e.naturalWidth,e.naturalHeight):(n=document.createElement("img"),n.onload=function(){t(this.width,this.height)},void(n.src=e.src))}function c(e){var n=[],i=e.rotate,o=e.scaleX,r=e.scaleY;return t(i)&&n.push("rotate("+i+"deg)"),t(o)&&t(r)&&n.push("scale("+o+","+r+")"),n.length?n.join(" "):"none"}function u(e,t){var n,i,o=_e(e.degree)%180,r=(o>90?180-o:o)*Math.PI/180,s=ye(r),a=be(r),l=e.width,c=e.height,u=e.aspectRatio;return t?(n=l/(a+s/u),i=n/u):(n=l*a+c*s,i=l*s+c*a),{width:n,height:i}}function d(n,i){var o,r,s,a=e("<canvas>")[0],l=a.getContext("2d"),c=0,d=0,p=i.naturalWidth,h=i.naturalHeight,f=i.rotate,m=i.scaleX,g=i.scaleY,v=t(m)&&t(g)&&(1!==m||1!==g),_=t(f)&&0!==f,y=_||v,b=p,w=h;return v&&(o=p/2,r=h/2),_&&(s=u({width:p,height:h,degree:f}),b=s.width,w=s.height,o=s.width/2,r=s.height/2),a.width=b,a.height=w,y&&(c=-p/2,d=-h/2,l.save(),l.translate(o,r)),_&&l.rotate(f*Math.PI/180),v&&l.scale(m,g),l.drawImage(n,je(c),je(d),je(p),je(h)),y&&l.restore(),a}function p(t){var n=t.length,i=0,o=0;return n&&(e.each(t,function(e,t){i+=t.pageX,o+=t.pageY}),i/=n,o/=n),{pageX:i,pageY:o}}function h(e,t,n){var i,o="";for(i=t,n+=t;n>i;i++)o+=Ce(e.getUint8(i));return o}function f(e){var t,n,i,o,r,s,a,l,c,u,d=new j(e),p=d.byteLength;if(255===d.getUint8(0)&&216===d.getUint8(1))for(c=2;p>c;){if(255===d.getUint8(c)&&225===d.getUint8(c+1)){a=c;break}c++}if(a&&(n=a+4,i=a+10,"Exif"===h(d,n,4)&&(s=d.getUint16(i),r=18761===s,(r||19789===s)&&42===d.getUint16(i+2,r)&&(o=d.getUint32(i+4,r),o>=8&&(l=i+o)))),l)for(p=d.getUint16(l,r),u=0;p>u;u++)if(c=l+12*u+2,274===d.getUint16(c,r)){c+=8,t=d.getUint16(c,r),d.setUint16(c,1,r);break}return t}function m(e){var t,n=e.replace(K,""),i=atob(n),o=i.length,r=new w(o),s=new x(r);for(t=0;o>t;t++)s[t]=i.charCodeAt(t);return r}function g(e){var t,n=new x(e),i=n.length,o="";for(t=0;i>t;t++)o+=Ce(n[t]);return"data:image/jpeg;base64,"+C(o)}function v(t,n){this.$element=e(t),this.options=e.extend({},v.DEFAULTS,e.isPlainObject(n)&&n),this.isLoaded=!1,this.isBuilt=!1,this.isCompleted=!1,this.isRotated=!1,this.isCropped=!1,this.isDisabled=!1,this.isReplaced=!1,this.isLimited=!1,this.wheeling=!1,this.isImg=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.init()}var _=e(window),y=e(document),b=window.location,w=window.ArrayBuffer,x=window.Uint8Array,j=window.DataView,C=window.btoa,k="cropper",S="cropper-modal",T="cropper-hide",E="cropper-hidden",$="cropper-invisible",F="cropper-move",D="cropper-crop",A="cropper-disabled",N="cropper-bg",L="mousedown touchstart pointerdown MSPointerDown",I="mousemove touchmove pointermove MSPointerMove",O="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",P="wheel mousewheel DOMMouseScroll",U="dblclick",M="load."+k,B="error."+k,R="resize."+k,W="build."+k,H="built."+k,q="cropstart."+k,z="cropmove."+k,X="cropend."+k,Y="crop."+k,V="zoom."+k,G=/e|w|s|n|se|sw|ne|nw|all|crop|move|zoom/,Q=/^data\:/,K=/^data\:([^\;]+)\;base64,/,J=/^data\:image\/jpeg.*;base64,/,Z="preview",ee="action",te="e",ne="w",ie="s",oe="n",re="se",se="sw",ae="ne",le="nw",ce="all",ue="crop",de="move",pe="zoom",he="none",fe=e.isFunction(e("<canvas>")[0].getContext),me=Number,ge=Math.min,ve=Math.max,_e=Math.abs,ye=Math.sin,be=Math.cos,we=Math.sqrt,xe=Math.round,je=Math.floor,Ce=String.fromCharCode;v.prototype={constructor:v,init:function(){var e,t=this.$element;if(t.is("img")){if(this.isImg=!0,this.originalUrl=e=t.attr("src"),!e)return;e=t.prop("src")}else t.is("canvas")&&fe&&(e=t[0].toDataURL());this.load(e)},trigger:function(t,n){var i=e.Event(t,n);return this.$element.trigger(i),i},load:function(t){var n,i,o=this.options,r=this.$element;if(t&&(r.one(W,o.build),!this.trigger(W).isDefaultPrevented())){if(this.url=t,this.image={},!o.checkOrientation||!w)return this.clone();if(n=e.proxy(this.read,this),Q.test(t))return J.test(t)?n(m(t)):this.clone();i=new XMLHttpRequest,i.onerror=i.onabort=e.proxy(function(){this.clone()},this),i.onload=function(){n(this.response)},i.open("get",t),i.responseType="arraybuffer",i.send()}},read:function(e){var t,n,i,o=this.options,r=f(e),s=this.image;if(r>1)switch(this.url=g(e),r){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}o.rotatable&&(s.rotate=t),o.scalable&&(s.scaleX=n,s.scaleY=i),this.clone()},clone:function(){var t,n,i=this.options,o=this.$element,l=this.url,c="";i.checkCrossOrigin&&r(l)&&(c=o.prop("crossOrigin"),c?t=l:(c="anonymous",t=s(l))),this.crossOrigin=c,this.crossOriginUrl=t,this.$clone=n=e("<img"+a(c)+' src="'+(t||l)+'">'),this.isImg?o[0].complete?this.start():o.one(M,e.proxy(this.start,this)):n.one(M,e.proxy(this.start,this)).one(B,e.proxy(this.stop,this)).addClass(T).insertAfter(o)},start:function(){var t=this.$element,n=this.$clone;this.isImg||(n.off(B,this.stop),t=n),l(t[0],e.proxy(function(t,n){e.extend(this.image,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),this.isLoaded=!0,this.build()},this))},stop:function(){this.$clone.remove(),this.$clone=null},build:function(){var t,n,i,o=this.options,r=this.$element,s=this.$clone;this.isLoaded&&(this.isBuilt&&this.unbuild(),this.$container=r.parent(),this.$cropper=t=e(v.TEMPLATE),this.$canvas=t.find(".cropper-canvas").append(s),this.$dragBox=t.find(".cropper-drag-box"),this.$cropBox=n=t.find(".cropper-crop-box"),this.$viewBox=t.find(".cropper-view-box"),this.$face=i=n.find(".cropper-face"),r.addClass(E).after(t),this.isImg||s.removeClass(T),this.initPreview(),this.bind(),o.aspectRatio=ve(0,o.aspectRatio)||0/0,o.viewMode=ve(0,ge(3,xe(o.viewMode)))||0,o.autoCrop?(this.isCropped=!0,o.modal&&this.$dragBox.addClass(S)):n.addClass(E),o.guides||n.find(".cropper-dashed").addClass(E),o.center||n.find(".cropper-center").addClass(E),o.cropBoxMovable&&i.addClass(F).data(ee,ce),o.highlight||i.addClass($),o.background&&t.addClass(N),o.cropBoxResizable||n.find(".cropper-line, .cropper-point").addClass(E),this.setDragMode(o.dragMode),this.render(),this.isBuilt=!0,this.setData(o.data),r.one(H,o.built),setTimeout(e.proxy(function(){this.trigger(H),this.isCompleted=!0},this),0))},unbuild:function(){this.isBuilt&&(this.isBuilt=!1,this.isCompleted=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)},render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.isCropped&&this.renderCropBox()},initContainer:function(){var e=this.options,t=this.$element,n=this.$container,i=this.$cropper;i.addClass(E),t.removeClass(E),i.css(this.container={width:ve(n.width(),me(e.minContainerWidth)||200),height:ve(n.height(),me(e.minContainerHeight)||100)}),t.addClass(E),i.removeClass(E)},initCanvas:function(){var t,n=this.options.viewMode,i=this.container,o=i.width,r=i.height,s=this.image,a=s.naturalWidth,l=s.naturalHeight,c=90===_e(s.rotate),u=c?l:a,d=c?a:l,p=u/d,h=o,f=r;r*p>o?3===n?h=r*p:f=o/p:3===n?f=o/p:h=r*p,t={naturalWidth:u,naturalHeight:d,aspectRatio:p,width:h,height:f},t.oldLeft=t.left=(o-h)/2,t.oldTop=t.top=(r-f)/2,this.canvas=t,this.isLimited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImage=e.extend({},s),this.initialCanvas=e.extend({},t)},limitCanvas:function(e,t){var n,i,o,r,s=this.options,a=s.viewMode,l=this.container,c=l.width,u=l.height,d=this.canvas,p=d.aspectRatio,h=this.cropBox,f=this.isCropped&&h;e&&(n=me(s.minCanvasWidth)||0,i=me(s.minCanvasHeight)||0,a&&(a>1?(n=ve(n,c),i=ve(i,u),3===a&&(i*p>n?n=i*p:i=n/p)):n?n=ve(n,f?h.width:0):i?i=ve(i,f?h.height:0):f&&(n=h.width,i=h.height,i*p>n?n=i*p:i=n/p)),n&&i?i*p>n?i=n/p:n=i*p:n?i=n/p:i&&(n=i*p),d.minWidth=n,d.minHeight=i,d.maxWidth=1/0,d.maxHeight=1/0),t&&(a?(o=c-d.width,r=u-d.height,d.minLeft=ge(0,o),d.minTop=ge(0,r),d.maxLeft=ve(0,o),d.maxTop=ve(0,r),f&&this.isLimited&&(d.minLeft=ge(h.left,h.left+h.width-d.width),d.minTop=ge(h.top,h.top+h.height-d.height),d.maxLeft=h.left,d.maxTop=h.top,2===a&&(d.width>=c&&(d.minLeft=ge(0,o),d.maxLeft=ve(0,o)),d.height>=u&&(d.minTop=ge(0,r),d.maxTop=ve(0,r))))):(d.minLeft=-d.width,d.minTop=-d.height,d.maxLeft=c,d.maxTop=u))},renderCanvas:function(e){var t,n,i=this.canvas,o=this.image,r=o.rotate,s=o.naturalWidth,a=o.naturalHeight;this.isRotated&&(this.isRotated=!1,n=u({width:o.width,height:o.height,degree:r}),t=n.width/n.height,t!==i.aspectRatio&&(i.left-=(n.width-i.width)/2,i.top-=(n.height-i.height)/2,i.width=n.width,i.height=n.height,i.aspectRatio=t,i.naturalWidth=s,i.naturalHeight=a,r%180&&(n=u({width:s,height:a,degree:r}),i.naturalWidth=n.width,i.naturalHeight=n.height),this.limitCanvas(!0,!1))),(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=ge(ve(i.width,i.minWidth),i.maxWidth),i.height=ge(ve(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.oldLeft=i.left=ge(ve(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=ge(ve(i.top,i.minTop),i.maxTop),this.$canvas.css({width:i.width,height:i.height,left:i.left,top:i.top}),this.renderImage(),this.isCropped&&this.isLimited&&this.limitCropBox(!0,!0),e&&this.output()},renderImage:function(t){var n,i=this.canvas,o=this.image;o.rotate&&(n=u({width:i.width,height:i.height,degree:o.rotate,aspectRatio:o.aspectRatio},!0)),e.extend(o,n?{width:n.width,height:n.height,left:(i.width-n.width)/2,top:(i.height-n.height)/2}:{width:i.width,height:i.height,left:0,top:0}),this.$clone.css({width:o.width,height:o.height,marginLeft:o.left,marginTop:o.top,transform:c(o)}),t&&this.output()},initCropBox:function(){var t=this.options,n=this.canvas,i=t.aspectRatio,o=me(t.autoCropArea)||.8,r={width:n.width,height:n.height};i&&(n.height*i>n.width?r.height=r.width/i:r.width=r.height*i),this.cropBox=r,this.limitCropBox(!0,!0),r.width=ge(ve(r.width,r.minWidth),r.maxWidth),r.height=ge(ve(r.height,r.minHeight),r.maxHeight),r.width=ve(r.minWidth,r.width*o),r.height=ve(r.minHeight,r.height*o),r.oldLeft=r.left=n.left+(n.width-r.width)/2,r.oldTop=r.top=n.top+(n.height-r.height)/2,this.initialCropBox=e.extend({},r)},limitCropBox:function(e,t){var n,i,o,r,s=this.options,a=s.aspectRatio,l=this.container,c=l.width,u=l.height,d=this.canvas,p=this.cropBox,h=this.isLimited;e&&(n=me(s.minCropBoxWidth)||0,i=me(s.minCropBoxHeight)||0,n=ge(n,c),i=ge(i,u),o=ge(c,h?d.width:c),r=ge(u,h?d.height:u),a&&(n&&i?i*a>n?i=n/a:n=i*a:n?i=n/a:i&&(n=i*a),r*a>o?r=o/a:o=r*a),p.minWidth=ge(n,o),p.minHeight=ge(i,r),p.maxWidth=o,p.maxHeight=r),t&&(h?(p.minLeft=ve(0,d.left),p.minTop=ve(0,d.top),p.maxLeft=ge(c,d.left+d.width)-p.width,p.maxTop=ge(u,d.top+d.height)-p.height):(p.minLeft=0,p.minTop=0,p.maxLeft=c-p.width,p.maxTop=u-p.height))},renderCropBox:function(){var e=this.options,t=this.container,n=t.width,i=t.height,o=this.cropBox;(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=ge(ve(o.width,o.minWidth),o.maxWidth),o.height=ge(ve(o.height,o.minHeight),o.maxHeight),this.limitCropBox(!1,!0),o.oldLeft=o.left=ge(ve(o.left,o.minLeft),o.maxLeft),o.oldTop=o.top=ge(ve(o.top,o.minTop),o.maxTop),e.movable&&e.cropBoxMovable&&this.$face.data(ee,o.width===n&&o.height===i?de:ce),this.$cropBox.css({width:o.width,height:o.height,left:o.left,top:o.top}),this.isCropped&&this.isLimited&&this.limitCanvas(!0,!0),this.isDisabled||this.output()},output:function(){this.preview(),this.isCompleted?this.trigger(Y,this.getData()):this.isBuilt||this.$element.one(H,e.proxy(function(){this.trigger(Y,this.getData())},this))},initPreview:function(){var t=a(this.crossOrigin),n=t?this.crossOriginUrl:this.url;this.$preview=e(this.options.preview),this.$viewBox.html("<img"+t+' src="'+n+'">'),this.$preview.each(function(){var i=e(this);i.data(Z,{width:i.width(),height:i.height(),html:i.html()}),i.html("<img"+t+' src="'+n+'" style="display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;">')})},resetPreview:function(){this.$preview.each(function(){var t=e(this),n=t.data(Z);t.css({width:n.width,height:n.height}).html(n.html).removeData(Z)})},preview:function(){var t=this.image,n=this.canvas,i=this.cropBox,o=i.width,r=i.height,s=t.width,a=t.height,l=i.left-n.left-t.left,u=i.top-n.top-t.top;this.isCropped&&!this.isDisabled&&(this.$viewBox.find("img").css({width:s,height:a,marginLeft:-l,marginTop:-u,transform:c(t)}),this.$preview.each(function(){var n=e(this),i=n.data(Z),d=i.width,p=i.height,h=d,f=p,m=1;o&&(m=d/o,f=r*m),r&&f>p&&(m=p/r,h=o*m,f=p),n.css({width:h,height:f}).find("img").css({width:s*m,height:a*m,marginLeft:-l*m,marginTop:-u*m,transform:c(t)})}))},bind:function(){var t=this.options,n=this.$element,i=this.$cropper;e.isFunction(t.cropstart)&&n.on(q,t.cropstart),e.isFunction(t.cropmove)&&n.on(z,t.cropmove),e.isFunction(t.cropend)&&n.on(X,t.cropend),e.isFunction(t.crop)&&n.on(Y,t.crop),e.isFunction(t.zoom)&&n.on(V,t.zoom),i.on(L,e.proxy(this.cropStart,this)),t.zoomable&&t.zoomOnWheel&&i.on(P,e.proxy(this.wheel,this)),t.toggleDragModeOnDblclick&&i.on(U,e.proxy(this.dblclick,this)),y.on(I,this._cropMove=o(this.cropMove,this)).on(O,this._cropEnd=o(this.cropEnd,this)),t.responsive&&_.on(R,this._resize=o(this.resize,this))},unbind:function(){var t=this.options,n=this.$element,i=this.$cropper;e.isFunction(t.cropstart)&&n.off(q,t.cropstart),e.isFunction(t.cropmove)&&n.off(z,t.cropmove),e.isFunction(t.cropend)&&n.off(X,t.cropend),e.isFunction(t.crop)&&n.off(Y,t.crop),e.isFunction(t.zoom)&&n.off(V,t.zoom),i.off(L,this.cropStart),t.zoomable&&t.zoomOnWheel&&i.off(P,this.wheel),t.toggleDragModeOnDblclick&&i.off(U,this.dblclick),y.off(I,this._cropMove).off(O,this._cropEnd),t.responsive&&_.off(R,this._resize)},resize:function(){var t,n,i,o=this.options.restore,r=this.$container,s=this.container;!this.isDisabled&&s&&(i=r.width()/s.width,(1!==i||r.height()!==s.height)&&(o&&(t=this.getCanvasData(),n=this.getCropBoxData()),this.render(),o&&(this.setCanvasData(e.each(t,function(e,n){t[e]=n*i})),this.setCropBoxData(e.each(n,function(e,t){n[e]=t*i})))))},dblclick:function(){this.isDisabled||this.setDragMode(this.$dragBox.hasClass(D)?de:ue)},wheel:function(t){var n=t.originalEvent||t,i=me(this.options.wheelZoomRatio)||.1,o=1;this.isDisabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(e.proxy(function(){this.wheeling=!1},this),50),n.deltaY?o=n.deltaY>0?1:-1:n.wheelDelta?o=-n.wheelDelta/120:n.detail&&(o=n.detail>0?1:-1),this.zoom(-o*i,t)))},cropStart:function(t){var n,i,o=this.options,r=t.originalEvent,s=r&&r.touches,a=t;if(!this.isDisabled){if(s){if(n=s.length,n>1){if(!o.zoomable||!o.zoomOnTouch||2!==n)return;a=s[1],this.startX2=a.pageX,this.startY2=a.pageY,i=pe}a=s[0]}if(i=i||e(a.target).data(ee),G.test(i)){if(this.trigger(q,{originalEvent:r,action:i}).isDefaultPrevented())return;t.preventDefault(),this.action=i,this.cropping=!1,this.startX=a.pageX||r&&r.pageX,this.startY=a.pageY||r&&r.pageY,i===ue&&(this.cropping=!0,this.$dragBox.addClass(S))}}},cropMove:function(e){var t,n=this.options,i=e.originalEvent,o=i&&i.touches,r=e,s=this.action;if(!this.isDisabled){if(o){if(t=o.length,t>1){if(!n.zoomable||!n.zoomOnTouch||2!==t)return;r=o[1],this.endX2=r.pageX,this.endY2=r.pageY}r=o[0]}if(s){if(this.trigger(z,{originalEvent:i,action:s}).isDefaultPrevented())return;e.preventDefault(),this.endX=r.pageX||i&&i.pageX,this.endY=r.pageY||i&&i.pageY,this.change(r.shiftKey,s===pe?e:null)}}},cropEnd:function(e){var t=e.originalEvent,n=this.action;this.isDisabled||n&&(e.preventDefault(),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(S,this.isCropped&&this.options.modal)),this.action="",this.trigger(X,{originalEvent:t,action:n}))},change:function(e,t){var n,i,o=this.options,r=o.aspectRatio,s=this.action,a=this.container,l=this.canvas,c=this.cropBox,u=c.width,d=c.height,p=c.left,h=c.top,f=p+u,m=h+d,g=0,v=0,_=a.width,y=a.height,b=!0;switch(!r&&e&&(r=u&&d?u/d:1),this.limited&&(g=c.minLeft,v=c.minTop,_=g+ge(a.width,l.width),y=v+ge(a.height,l.height)),i={x:this.endX-this.startX,y:this.endY-this.startY},r&&(i.X=i.y*r,i.Y=i.x/r),s){case ce:p+=i.x,h+=i.y;break;case te:if(i.x>=0&&(f>=_||r&&(v>=h||m>=y))){b=!1;break}u+=i.x,r&&(d=u/r,h-=i.Y/2),0>u&&(s=ne,u=0);break;case oe:if(i.y<=0&&(v>=h||r&&(g>=p||f>=_))){b=!1;break}d-=i.y,h+=i.y,r&&(u=d*r,p+=i.X/2),0>d&&(s=ie,d=0);break;case ne:if(i.x<=0&&(g>=p||r&&(v>=h||m>=y))){b=!1;break}u-=i.x,p+=i.x,r&&(d=u/r,h+=i.Y/2),0>u&&(s=te,u=0);break;case ie:if(i.y>=0&&(m>=y||r&&(g>=p||f>=_))){b=!1;break}d+=i.y,r&&(u=d*r,p-=i.X/2),0>d&&(s=oe,d=0);break;case ae:if(r){if(i.y<=0&&(v>=h||f>=_)){b=!1;break}d-=i.y,h+=i.y,u=d*r}else i.x>=0?_>f?u+=i.x:i.y<=0&&v>=h&&(b=!1):u+=i.x,i.y<=0?h>v&&(d-=i.y,h+=i.y):(d-=i.y,h+=i.y);0>u&&0>d?(s=se,d=0,u=0):0>u?(s=le,u=0):0>d&&(s=re,d=0);break;case le:if(r){if(i.y<=0&&(v>=h||g>=p)){b=!1;break}d-=i.y,h+=i.y,u=d*r,p+=i.X}else i.x<=0?p>g?(u-=i.x,p+=i.x):i.y<=0&&v>=h&&(b=!1):(u-=i.x,p+=i.x),i.y<=0?h>v&&(d-=i.y,h+=i.y):(d-=i.y,h+=i.y);0>u&&0>d?(s=re,d=0,u=0):0>u?(s=ae,u=0):0>d&&(s=se,d=0);break;case se:if(r){if(i.x<=0&&(g>=p||m>=y)){b=!1;break}u-=i.x,p+=i.x,d=u/r}else i.x<=0?p>g?(u-=i.x,p+=i.x):i.y>=0&&m>=y&&(b=!1):(u-=i.x,p+=i.x),i.y>=0?y>m&&(d+=i.y):d+=i.y;0>u&&0>d?(s=ae,d=0,u=0):0>u?(s=re,u=0):0>d&&(s=le,d=0);break;case re:if(r){if(i.x>=0&&(f>=_||m>=y)){b=!1;break}u+=i.x,d=u/r}else i.x>=0?_>f?u+=i.x:i.y>=0&&m>=y&&(b=!1):u+=i.x,i.y>=0?y>m&&(d+=i.y):d+=i.y;0>u&&0>d?(s=le,d=0,u=0):0>u?(s=se,u=0):0>d&&(s=ae,d=0);break;case de:this.move(i.x,i.y),b=!1;break;case pe:this.zoom(function(e,t,n,i){var o=we(e*e+t*t),r=we(n*n+i*i);return(r-o)/o}(_e(this.startX-this.startX2),_e(this.startY-this.startY2),_e(this.endX-this.endX2),_e(this.endY-this.endY2)),t),this.startX2=this.endX2,this.startY2=this.endY2,b=!1;break;case ue:if(!i.x||!i.y){b=!1;break}n=this.$cropper.offset(),p=this.startX-n.left,h=this.startY-n.top,u=c.minWidth,d=c.minHeight,i.x>0?s=i.y>0?re:ae:i.x<0&&(p-=u,s=i.y>0?se:le),i.y<0&&(h-=d),this.isCropped||(this.$cropBox.removeClass(E),this.isCropped=!0,this.limited&&this.limitCropBox(!0,!0))}b&&(c.width=u,c.height=d,c.left=p,c.top=h,this.action=s,this.renderCropBox()),this.startX=this.endX,this.startY=this.endY},crop:function(){this.isBuilt&&!this.isDisabled&&(this.isCropped||(this.isCropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass(S),this.$cropBox.removeClass(E)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.isBuilt&&!this.isDisabled&&(this.image=e.extend({},this.initialImage),this.canvas=e.extend({},this.initialCanvas),this.cropBox=e.extend({},this.initialCropBox),this.renderCanvas(),this.isCropped&&this.renderCropBox())},clear:function(){this.isCropped&&!this.isDisabled&&(e.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.isCropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass(S),this.$cropBox.addClass(E))},replace:function(e){!this.isDisabled&&e&&(this.isImg&&(this.isReplaced=!0,this.$element.attr("src",e)),this.options.data=null,this.load(e))},enable:function(){this.isBuilt&&(this.isDisabled=!1,this.$cropper.removeClass(A))},disable:function(){this.isBuilt&&(this.isDisabled=!0,this.$cropper.addClass(A))},destroy:function(){var e=this.$element;this.isLoaded?(this.isImg&&this.isReplaced&&e.attr("src",this.originalUrl),this.unbuild(),e.removeClass(E)):this.isImg?e.off(M,this.start):this.$clone&&this.$clone.remove(),e.removeData(k)},move:function(e,t){var i=this.canvas;this.moveTo(n(e)?e:i.left+me(e),n(t)?t:i.top+me(t))},moveTo:function(e,i){var o=this.canvas,r=!1;n(i)&&(i=e),e=me(e),i=me(i),this.isBuilt&&!this.isDisabled&&this.options.movable&&(t(e)&&(o.left=e,r=!0),t(i)&&(o.top=i,r=!0),r&&this.renderCanvas(!0))},zoom:function(e,t){var n=this.canvas;e=me(e),e=0>e?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,t)},zoomTo:function(e,t){var n,i,o,r,s,a=this.options,l=this.canvas,c=l.width,u=l.height,d=l.naturalWidth,h=l.naturalHeight;if(e=me(e),e>=0&&this.isBuilt&&!this.isDisabled&&a.zoomable){if(i=d*e,o=h*e,t&&(n=t.originalEvent),this.trigger(V,{originalEvent:n,oldRatio:c/d,ratio:i/d}).isDefaultPrevented())return;n?(r=this.$cropper.offset(),s=n.touches?p(n.touches):{pageX:t.pageX||n.pageX||0,pageY:t.pageY||n.pageY||0},l.left-=(i-c)*((s.pageX-r.left-l.left)/c),l.top-=(o-u)*((s.pageY-r.top-l.top)/u)):(l.left-=(i-c)/2,l.top-=(o-u)/2),l.width=i,l.height=o,this.renderCanvas(!0)}},rotate:function(e){this.rotateTo((this.image.rotate||0)+me(e))},rotateTo:function(e){e=me(e),t(e)&&this.isBuilt&&!this.isDisabled&&this.options.rotatable&&(this.image.rotate=e%360,this.isRotated=!0,this.renderCanvas(!0))},scale:function(e,i){var o=this.image,r=!1;n(i)&&(i=e),e=me(e),i=me(i),this.isBuilt&&!this.isDisabled&&this.options.scalable&&(t(e)&&(o.scaleX=e,r=!0),t(i)&&(o.scaleY=i,r=!0),r&&this.renderImage(!0))},scaleX:function(e){var n=this.image.scaleY;this.scale(e,t(n)?n:1)},scaleY:function(e){var n=this.image.scaleX;this.scale(t(n)?n:1,e)},getData:function(t){var n,i,o=this.options,r=this.image,s=this.canvas,a=this.cropBox;return this.isBuilt&&this.isCropped?(i={x:a.left-s.left,y:a.top-s.top,width:a.width,height:a.height},n=r.width/r.naturalWidth,e.each(i,function(e,o){o/=n,i[e]=t?xe(o):o})):i={x:0,y:0,width:0,height:0},o.rotatable&&(i.rotate=r.rotate||0),o.scalable&&(i.scaleX=r.scaleX||1,i.scaleY=r.scaleY||1),i},setData:function(n){var i,o,r,s=this.options,a=this.image,l=this.canvas,c={};e.isFunction(n)&&(n=n.call(this.element)),this.isBuilt&&!this.isDisabled&&e.isPlainObject(n)&&(s.rotatable&&t(n.rotate)&&n.rotate!==a.rotate&&(a.rotate=n.rotate,this.isRotated=i=!0),s.scalable&&(t(n.scaleX)&&n.scaleX!==a.scaleX&&(a.scaleX=n.scaleX,o=!0),t(n.scaleY)&&n.scaleY!==a.scaleY&&(a.scaleY=n.scaleY,o=!0)),i?this.renderCanvas():o&&this.renderImage(),r=a.width/a.naturalWidth,t(n.x)&&(c.left=n.x*r+l.left),t(n.y)&&(c.top=n.y*r+l.top),t(n.width)&&(c.width=n.width*r),t(n.height)&&(c.height=n.height*r),this.setCropBoxData(c))},getContainerData:function(){return this.isBuilt?this.container:{}},getImageData:function(){return this.isLoaded?this.image:{}},getCanvasData:function(){var t=this.canvas,n={};return this.isBuilt&&e.each(["left","top","width","height","naturalWidth","naturalHeight"],function(e,i){n[i]=t[i]}),n},setCanvasData:function(n){var i=this.canvas,o=i.aspectRatio;e.isFunction(n)&&(n=n.call(this.$element)),this.isBuilt&&!this.isDisabled&&e.isPlainObject(n)&&(t(n.left)&&(i.left=n.left),t(n.top)&&(i.top=n.top),t(n.width)?(i.width=n.width,i.height=n.width/o):t(n.height)&&(i.height=n.height,i.width=n.height*o),this.renderCanvas(!0))},getCropBoxData:function(){var e,t=this.cropBox;return this.isBuilt&&this.isCropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(n){var i,o,r=this.cropBox,s=this.options.aspectRatio;e.isFunction(n)&&(n=n.call(this.$element)),this.isBuilt&&this.isCropped&&!this.isDisabled&&e.isPlainObject(n)&&(t(n.left)&&(r.left=n.left),t(n.top)&&(r.top=n.top),t(n.width)&&(i=!0,r.width=n.width),t(n.height)&&(o=!0,r.height=n.height),s&&(i?r.height=r.width/s:o&&(r.width=r.height*s)),this.renderCropBox())},getCroppedCanvas:function(t){var n,i,o,r,s,a,l,c,u,p,h;return this.isBuilt&&this.isCropped&&fe?(e.isPlainObject(t)||(t={}),h=this.getData(),n=h.width,i=h.height,c=n/i,e.isPlainObject(t)&&(s=t.width,a=t.height,s?(a=s/c,l=s/n):a&&(s=a*c,l=a/i)),o=je(s||n),r=je(a||i),u=e("<canvas>")[0],u.width=o,u.height=r,p=u.getContext("2d"),t.fillColor&&(p.fillStyle=t.fillColor,p.fillRect(0,0,o,r)),p.drawImage.apply(p,function(){var e,t,o,r,s,a,c=d(this.$clone[0],this.image),u=c.width,p=c.height,f=[c],m=h.x,g=h.y;return-n>=m||m>u?m=e=o=s=0:0>=m?(o=-m,m=0,e=s=ge(u,n+m)):u>=m&&(o=0,e=s=ge(n,u-m)),0>=e||-i>=g||g>p?g=t=r=a=0:0>=g?(r=-g,g=0,t=a=ge(p,i+g)):p>=g&&(r=0,t=a=ge(i,p-g)),f.push(je(m),je(g),je(e),je(t)),l&&(o*=l,r*=l,s*=l,a*=l),s>0&&a>0&&f.push(je(o),je(r),je(s),je(a)),f}.call(this)),u):void 0},setAspectRatio:function(e){var t=this.options;this.isDisabled||n(e)||(t.aspectRatio=ve(0,e)||0/0,this.isBuilt&&(this.initCropBox(),this.isCropped&&this.renderCropBox()))},setDragMode:function(e){var t,n,i=this.options;this.isLoaded&&!this.isDisabled&&(t=e===ue,n=i.movable&&e===de,e=t||n?e:he,this.$dragBox.data(ee,e).toggleClass(D,t).toggleClass(F,n),i.cropBoxMovable||this.$face.data(ee,e).toggleClass(D,t).toggleClass(F,n))}},v.DEFAULTS={viewMode:0,dragMode:"crop",aspectRatio:0/0,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},v.setDefaults=function(t){e.extend(v.DEFAULTS,t)},v.TEMPLATE='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',v.other=e.fn.cropper,e.fn.cropper=function(t){var o,r=i(arguments,1);return this.each(function(){var n,i,s=e(this),a=s.data(k);if(!a){if(/destroy/.test(t))return;n=e.extend({},s.data(),e.isPlainObject(t)&&t),s.data(k,a=new v(this,n))}"string"==typeof t&&e.isFunction(i=a[t])&&(o=i.apply(a,r))}),n(o)?this:o},e.fn.cropper.Constructor=v,e.fn.cropper.setDefaults=v.setDefaults,e.fn.cropper.noConflict=function(){return e.fn.cropper=v.other,this}}),!function(e,t){function n(t){this.element=t,this.$element=e(t),this.init()}var i="textareaAutoSize",o="plugin_"+i,r=function(e){return e.replace(/\s/g,"").length>0};n.prototype={init:function(){var n=(this.$element.outerHeight(),parseInt(this.$element.css("paddingBottom"))+parseInt(this.$element.css("paddingTop"))||0);r(this.element.value)&&this.$element.height(this.element.scrollHeight-n),this.$element.on("input keyup",function(){var i=e(t),o=i.scrollTop();e(this).height(0).height(this.scrollHeight-n),i.scrollTop(o)})}},e.fn[i]=function(t){return this.each(function(){e.data(this,o)||e.data(this,o,new n(this,t))}),this}}(jQuery,window,document);var TrayIcon=function(){var e={};this._init=function(t){e.elem=t.elem},this.showMarker=function(){$(e.elem).removeClass("g-hidden")},this.hideMarker=function(){$(e.elem).addClass("g-hidden")},this.setMarkerValue=function(t){$(e.elem).html(t)}},PeopleTrayIndictator=function(){var e;this._init=function(t){e=new TrayIcon,e._init({elem:t.elem,marker_elem:t.marker_elem})},this.showNewFriendshipRequests=function(t){e.showMarker(),e.setMarkerValue(t)},this.hideFriendshipRequests=function(){e.hideMarker()}},GlobalEventsTrayIndictator=function(){var e;this._init=function(t){e=new TrayIcon,e._init({elem:t.elem,marker_elem:t.marker_elem})},this.showNewGlobalEvents=function(t){e.showMarker(),e.setMarkerValue(t)},this.hideGlobalEvents=function(){e.hideMarker()}};$(function(){function e(){var e=$(".search-box").find("div.search-box-selector");return 0==e.size()?!1:void(document.location.href=$(e).find("a.js-profile-link").attr("href"))}function t(e){var t=$(".search-box"),i=$(t).find("div.search-box-selector"),o=$(t).find("div.b_notifications_header__item_content_item").index(i),r=$(t).find("div.b_notifications_header__item_content_item").size();0==o&&"up"==e?o=r-1:o==r-1&&"down"==e?o=0:"up"==e?o-=1:o+=1,n(o)}function n(e){var t=$(".search-box").find("div.b_notifications_header__item_content_item");$(t).removeClass("search-box-selector"),$($(t).get(e)).addClass("search-box-selector")}function i(e){var t=$(".search-box"),n=$(t).find(".b_notifications_header__item_content_w");return e.response.error?!1:($(n).html(""),$(e.response).each(function(e,t){var i,o,r=$("#userSearchElementTemplate").html(),s=$(r),a=$(".js-search-user-field").val().toLowerCase().split(" "),l=t.chars||[],c=t.isPrivacyFilterActive;0==e&&s.addClass("search-box-selector"),i=t.hasOwnProperty("technicname")&&""!=t.technicname?t.technicname:t.gamenetid,o=t.hasOwnProperty("nickname"),s.find(".js-profile-link").attr("href","/users/"+i+"/"),o&&s.find(".js-profile-name").text(t.nickname),t.hasOwnProperty("avatar")&&s.find(".js-profile-avatar").attr("src",t.avatar),(!o||t.nickname.indexOf("@")>=0)&&s.find(".js-nickname-block").hide(),1==t.isFriend?(s.find(".b_notifications_header_actor").addClass("friend_in_search"),s.find(".b_alert_friend").hide()):(s.find(".js_add_friend_user_no_add").attr("data-userid",t.gamenetid),s.find(".js_add_friend_user_no_add").attr("data-nickname",o?t.nickname:t.gamenetid),s.find(".b_alert_friend").addClass("js_add_friend_user_"+t.gamenetid)),c?s.find(".js-profile-chars").text("������ ���������� ����� ����������� �����������"):l.length>0?(l.sort(function(e,t){var n=-1,i=-1;return $(a).each(function(t,i){return-1!==e.name.toLowerCase().indexOf(i)?void(n=1):void 0}),$(a).each(function(e,n){return-1!==t.name.toLowerCase().indexOf(n)?void(i=1):void 0}),-1!==n&&-1!==i?0:-1!==n&&-1===i?-1:1}),l=l.slice(0,4),$(l).each(function(e,t){var n=$("#userSearchElementCharTemplate").html(),i=$(n);i.find(".js-char-gamename").text(t.game),$(a).each(function(e,n){-1!==t.name.toLowerCase().indexOf(n)&&(t.name="<b>"+t.name+"</b>"),-1!==t.server.toLowerCase().indexOf(n)&&(t.server="<b>"+t.server+"</b>")}),i.find(".js-char-name").html(t.name),i.find(".js-char-class").text(t["class"]),i.find(".js-char-charlevel").text(t.charlevel),i.find(".js-char-server").html(t.server),92!=t.gameid&&70!=t.gameid&&72!=t.gameid&&(i.find(".js-char-server-block").show(),i.find(".js-char-class-block").show()),s.find(".js-profile-chars").append(i)})):s.find(".js-profile-chars").text("��� ����������"),s.find(".js_add_friend_user_no_add").on("click",function(e){return FriendsList.addFriendUserInfo($(this).attr("data-userid"),$(this).attr("data-nickname")),!1}),$(n).append(s)}),0==e.response.length&&$(n).html('<div class="b_notifications_header__item_content_item">������ �� �������</div>'),void $(t).parent().find(".js_b_notifications_header__item_content").show())}function o(){$("html").css("height","100%");var e=r();e>$("html").height()&&$("html").css("height",e+"px")}function r(){return Math.max($(document).height(),$(window).height(),document.documentElement.clientHeight,$(window).offsetHeight,$(document).scrollHeight);

}function s(){"use strict";$.ajax({url:"/profile/checkNewNotification/",dataType:"text json",type:"GET",global:!1,success:function(e,t,n){$.publish("onInviteChange",[e.invites]),$.publish("onCommonChange",[e.common]),e.newAchievement>0&&newAchievements.show()}})}function a(e){var t="",n="";e>0?(t="("+e+")",n=$(".js_invite_link").attr("invite-href")):(n=$(".js_invite_link").attr("friends-href"),$(".js_invite_all").hide(),$(".not_involved").removeClass("g-hidden")),n!=u&&(u=n,$(".js_invite_link").attr("href",u)),$(".js_invite_count").text(t)}$(".js-search-user-field").on("focus",function(){var e=$(".search-box").find("div").size();e>0&&setTimeout(function(){$(".search-box").show()},200)}),$(".js-search-user-field").keyup($.debounce(250,function(n){var o=$(this).val(),r={method:"user.search",q:o,userId:window.userData.userId,appKey:window.userData.appKey};if(1>o)return $(".search-box").hide(),void $(".search-box").find(".b_notifications_header__item_content_w").empty();switch(n.which){case 13:e();break;case 38:t("up");break;case 40:t("down");break;default:sendApiRequest(r,i)}})),$(".b_notifications_header__item_content_w").delegate(".b_notifications_header__item_content_item","mouseover",function(){var e=$(".search-box").find("div.b_notifications_header__item_content_item").index($(this));n(e)}),$(".search-box").delegate(".b_notifications_header__item_content_item","click",function(){var e=$(this).find("a.js-profile-link").attr("href");void 0!==e&&(document.location.href=e)}),$(window).resize(function(){o()}),o(),$(document).click(function(){$(".js_search_select_options").removeClass("active")}),$(".js_search_select").click(function(e){e.stopPropagation(),$(".js_b_notifications_header__item").parent(".b_notifications_header__item").removeClass("active"),setTimeout(function(){$(".js_b_notifications_header__item_content").hide(),$(".b_notifications_header__item.active").css("height","26px")},1),$(".js_click_show_select").hide(),$(this).children(".js_search_select_options").addClass("active")}),$(".js_search_select_options > div").click(function(e){e.stopImmediatePropagation(),$(".js_search_selected").html($(this).html()),$(".js_search_select_options").removeClass("active")}),$(".js_b_drop").hover(function(){$(this).children(".js_b_drop_select").addClass("drop_select_active");var e=$(this).children(".js_b_drop_select").outerHeight(!0);$(this).css({height:e+50+"px"})},function(){$(this).children(".js_b_drop_select").removeClass("drop_select_active"),$(this).css("height","auto")}),$(document).click(function(){$(".js_click_show_select").hide()}),$(".js_click_show").click(function(e){e.stopPropagation(),$(".js_search_select_options").removeClass("active"),$(".js_b_notifications_header__item").parent(".b_notifications_header__item").removeClass("active"),setTimeout(function(){$(".js_b_notifications_header__item_content").hide(),$(".b_notifications_header__item.active").css("height","26px")},1),$(this).parent().children(".js_click_show_select").toggle()});var l=!1;$(document).click(function(){setTimeout(function(){0==l&&($(".js_b_notifications_header__item").parent(".b_notifications_header__item").removeClass("active"),$(".js_b_notifications_header__item_content").hide(),$(".b_notifications_header__item").css("height","26px")),l=!1},1)}),$(".js_b_notifications_header__item_content, .js-button-discard-friendship, .js-button-agree-friendship").live("click",function(e){l=!0,e.stopPropagation()}),$(".js_b_notifications_header__item").click(function(e){if($(".js_click_show_select").hide(),setTimeout(function(){$(".js_b_notifications_header__item_content").hide(),$(".b_notifications_header__item.active").css("height","26px")},1),$(".js_search_select_options, .js_click_show_select").removeClass("active"),$(".js_b_notifications_header__item").parent(".b_notifications_header__item").removeClass("active"),$(this).parent(".b_notifications_header__item").addClass("active"),e.stopPropagation(),"message"!=$(this).parent(".b_notifications_header__item").attr("type")){var t=this,n=$(this).parent(".b_notifications_header__item").attr("type");$.ajax({url:"/profile/getNotifications/",dataType:"html",data:{type:n},type:"GET",global:!1,success:function(e){"invite"!=n&&$(t).find(".b_notifications_header__item_icon").removeClass("active"),$(t).parent().find(".b_notifications_header__item_content_w").html(e);var i=$(t).parent().find(".b_notifications_header__item_content_item").size();switch(i=55*parseInt(i)+50,$(t).parent().find(".js_b_notifications_header__item_content").show(),$(".b_notifications_header__item.active").css("height",i+"px"),n){case"common":$.publish("onCommonChange",[0])}}})}}),$("#preloader").ajaxStart(function(){$(this).show()}).ajaxStop(function(){$(this).hide()}),window.userData&&""!=window.userData.userId&&(window.newAchievements&&newAchievements.init(),setInterval(function(){s()},3e4));var c=0,u="";$.subscribe("onInviteChange",function(e){c=e,a(e)}),$.subscribe("onAgreeFriend",function(){c--,$.publish("onInviteChange",[c])}),$.subscribe("onDiscardFriend",function(){c--,$.publish("onInviteChange",[c])}),setPasswordRestoreLink("#js-first-password-restore-link",$("#js-first-login-input").val()),$("#js-first-login-input").on("input",function(){setPasswordRestoreLink("#js-first-password-restore-link",$(this).val())}),setPasswordRestoreLink("#js-password-restore-link",$("#js-login-input").val()),$("#js-login-input").on("input",function(){setPasswordRestoreLink("#js-password-restore-link",$(this).val())})}),friendsList.prototype.init=function(e,t,n){this.pages=e,this.pageType=t||this.pageType,this.selfProfile=n&&this.selfProfile},friendsList.prototype.showMore=function(){var e=this;$.ajax({type:"GET",url:this.ajaxUrls[this.pageType],data:{page:++this.pageLoaded},success:function(t){$(".b_people__item.last").removeClass("last"),$(".js-search-results-container").append(t),(e.pageLoaded==e.pages||""==t)&&$(".js-search-more").toggle()}})},friendsList.prototype.filter=function(e){"online"==e?$(".b_people__item").each(function(){$(this).find(".b_people__item_friend_online_offline").hasClass("offline")&&$(this).hide()}):$(".b_people__item").show()},friendsList.prototype.removeFriend=function(e,t){jConfirm("������� "+t+" �� ������?","/common/picts/icon_delete_user.png",function(t){t&&setRelation(e,"remove",function(t){$(".id_"+e).hide(),window.paging&&window.paging.decr()})})},friendsList.prototype.removeFriendUserInfo=function(e,t){jConfirm("������� "+t+" �� ������?","/common/picts/icon_delete_user.png",function(n){n&&setRelation(e,"remove",function(n){$(".add_friend_userinfo").attr("onClick",'FriendsList.addFriendUserInfo("'+e+'", "'+t+'")').html("�������� � ������")})})},friendsList.prototype.addFriend=function(e,t){return setRelation(e,"add",function(t){return 0==t.result?void jAlert(t.message,"/common/picts/icon_delete_user.png"):($(".id_"+e).find(".b_people__item_friend_add").hide(),void $(".id_"+e).find(".b_people__item_friend_invite_sent").show())})},friendsList.prototype.addFriendUserInfo=function(e,t){return setRelation(e,"add",function(t){return 0==t.result?void jAlert(t.message,"/common/picts/icon_delete_user.png"):($(".js_add_friend_user_no_add").addClass("g-hidden"),$(".js_add_friend_user_add").removeClass("g-hidden"),void $(".js_add_friend_user_"+e).addClass("g-hidden"))})},friendsList.prototype.addFriendMutual=function(e,t){return setRelation(e,"add",function(t){return 0==t.result?void jAlert(t.message,"/common/picts/icon_delete_user.png"):(countDeleteBlockAll=$(".js_know_game_people").size(),$(".id-"+e).find(".js_people__item_friend_add_button").addClass("g-hidden"),$(".id-"+e).find(".js_people__item_friend_add_text").removeClass("g-hidden"),void setTimeout(function(){countDeleteBlock<countDeleteBlockAll-1?($(".id-"+e).parents(".block_delete").hide(),$(".id-"+e).parents(".p_capsule__panel").children(".block_delete").eq(countDeleteBlock).show(),countDeleteBlock+=1,$(".id-"+e).parents(".p_capsule__panel").children(".block_delete:visible:first").children(".b_people__item").removeClass("last")):($(".id-"+e).parents(".block_delete").hide(),countDeleteBlock+=1),countDeleteBlock>countDeleteBlockAll&&$(".js_know_them").hide()},1e3))})},friendsList.prototype.addFriendMutualGames=function(e,t){return setRelation(e,"add",function(t){return 0==t.result?void jAlert(t.message,"/common/picts/icon_delete_user.png"):(countDeleteBlockAllGame=$(".js_know_game_people").size(),$(".id-"+e).find(".js_people__item_friend_add_button").addClass("g-hidden"),$(".id-"+e).find(".js_people__item_friend_add_text").removeClass("g-hidden"),void setTimeout(function(){countDeleteBlockGame<countDeleteBlockAllGame-1?($(".id-"+e).parents(".block_delete").hide(),$(".id-"+e).parents(".p_capsule__panel").children(".block_delete").eq(countDeleteBlockGame).show(),countDeleteBlockGame+=1,$(".id-"+e).parents(".p_capsule__panel").children(".block_delete:visible:first").children(".b_people__item").removeClass("last")):($(".id-"+e).parents(".block_delete").hide(),countDeleteBlockGame+=1),countDeleteBlockGame>countDeleteBlockAllGame&&$(".js_know_them").hide()},1e3))})},friendsList.prototype.addFriendPlayers=function(e,t){return setRelation(e,"add",function(e){return 0==e.result?void jAlert(e.message,"/common/picts/icon_delete_user.png"):void 0})},friendsList.prototype.discardFriend=function(e,t){return result=setRelation(e,"discard",function(t){$(".id_"+e).find(".js_alert_friend").html("����������� ������� ���������"),$.publish("onDiscardFriend",e)})},friendsList.prototype.discardAll=function(){var e;return jConfirm("�� �������, ��� ������ ��������� ��� �����������?","/common/picts/icon_delete_user.png",function(t){1==t&&(e=setRelation(0,"discard.all",function(e){$(".js_invite_item").hide(),$.publish("onInviteChange",[0])}))}),e},friendsList.prototype.agreeFriend=function(e,t){return setRelation(e,"agree",function(t){$(".id_"+e).find(".js_alert_friend").html("����������� ������� �������"),$.publish("onAgreeFriend",e)})},friendsList.prototype.agreeAll=function(){jConfirm("�� �������, ��� ������ ������� ��� �����������?","/common/picts/icon_friend_user.png",function(e){return 1==e?setRelation(0,"agree.all",function(e){$(".js_invite_item").hide(),$.publish("onInviteChange",[0])}):void 0})},friendsList.prototype.deleteMutual=function(e,t){jConfirm("������� "+t+' �� ������ "������ ������"?',"/common/picts/icon_delete_user.png",function(t){1==t&&$.ajax({url:"/mutual/ignore",data:{id:e},dataType:"text json",success:function(t){1==t.result?($(".id_"+e).hide(),window.paging&&window.paging.decr()):jAlert("��������� �������������� ������. ���������� �����","/common/picts/icon_delete_user.png")}})})},friendsList.prototype.deleteFriendsingames=function(e,t){jConfirm("������� "+t+' �� ������ "�� ������ �� � �����"?',"/common/picts/icon_delete_user.png",function(t){1==t&&$.ajax({url:"/friendsingames/ignore",data:{id:e},dataType:"text json",success:function(t){1==t.result?($(".id_"+e).hide(),window.paging&&window.paging.decr()):jAlert("��������� �������������� ������. ���������� �����","/common/picts/icon_delete_user.png")}})})};var FriendsList=new friendsList;gnPaging.prototype={initScrollElement:function(){this.buttonElementOffset=$(".b_view_more__more").offset().top},incr:function(){this.loaded++,this.initScrollElement()},decr:function(){this.loaded--,this.loaded<0&&(this.loaded=0),this.initScrollElement()},incrBy:function(e){this.loaded+=e,this.initScrollElement()},setCallback:function(e){this.callback=e},showMore:function(e){e=e?e:10;var t=this,n=this.ajaxParams;n.offset=this.loaded,n.count=e,$.ajax({type:"POST",url:t.ajaxUrl,data:n,success:function(n){var i=$(n);i.find(".js_p_item").each(function(){var t=this.className.match(/id_[0-9a-z]+/gi);if(t){var n=t[0];$(".js_p_item."+n).size()>0&&(i.find("."+n).remove(),e--)}}),t.callback&&"function"==typeof t.callback&&t.callback(i);var o=i.find(".js_p_item").size();t.incrBy(o),e>o&&t.stopPaging(),t.pageCount++,t.pageCount>=t.pagingLimit&&!t.alwaysAuto&&(t.disabled=!0),t.pageCount>t.pagingLimit&&t.disabled&&!t.alwaysAuto&&(t.disabled=!1,t.alwaysAuto=!0),t.blocked=!1}})},stopPaging:function(){$(".js-search-more").toggle(),this.disabled=!0}};var AjaxImageUploader=function(){function repairDocTitle(){document.title=document_title}function showErrorMessage(e){jAlert(e,"/common/picts/icon_x.png")}var settings={},callbacks={},document_title,that=this,queued_size,uploaded_count=0,swfu;this._init=function(e){settings.url=e.url,settings.userId=e.userId,settings.postParams=e.postParams||void 0,settings.appKey=e.appKey,settings.maxImgsNumber=e.maxImgsNumber||0,callbacks.success=e.successCallback||function(){},callbacks.error=e.errorCallback||showErrorMessage,callbacks.startUploading=e.startUploadingCallback||void 0,callbacks.completeUploading=e.completeUploadingCallback||void 0,callbacks.completeAllFilesUploading=e.completeAllFilesUploadingCallback||void 0,callbacks.fileQueued=e.fileQueuedCallback||void 0,document_title=document.title.replace(/#(.+)$/,"")},this.setMethod=function(e){settings.method=e},this.addUploadButton=function(_button){var options=$.extend({userId:settings.userId,appKey:settings.appKey,method:settings.method,format:"json"},settings.postParams),button={id:_button.id,width:_button.width,height:_button.height};swfu=new SWFUpload({debug:!1,upload_url:settings.url,flash_url:"/flash/swfupload.swf?cache"+Math.random(),file_size_limit:"5 MB",file_types:"*.jpg;*.jpeg;*.png",file_types_description:"�����������",file_post_name:"file",post_params:options,file_queue_limit:settings.maxImgsNumber,button_width:button.width,button_height:button.height,button_cursor:SWFUpload.CURSOR.HAND,button_placeholder_id:button.id,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,swfupload_loaded_handler:function(){repairDocTitle()},file_dialog_start_handler:function(){repairDocTitle()},file_dialog_complete_handler:function(e,t,n){queued_size=n},file_queued_handler:function(e){callbacks.fileQueued?callbacks.fileQueued(e,this):this.startUpload()},upload_start_handler:function(e){callbacks.startUploading&&callbacks.startUploading(e)},upload_progress_handler:function(e,t,n){},upload_complete_handler:function(e){uploaded_count++,queued_size>uploaded_count?swfu.startUpload():(queued_size=0,uploaded_count=0,callbacks.completeAllFilesUploading&&callbacks.completeAllFilesUploading(e)),callbacks.completeUploading&&callbacks.completeUploading(e)},file_queue_error_handler:function(e,t,n){"-100"==t?callbacks.error(settings.maxImgsNumber>1?"������� ����� ��������� �����������. �������� "+settings.maxImgsNumber:"�������� �� ����� ������ �����������"):"-110"==t?callbacks.error("���� <strong>"+e.name+"</strong> ����� ������� ������� ������. ����� �� 5 ��"):"-120"==t?callbacks.error("���� <strong>"+e.name+"</strong> ����"):"-130"==t?callbacks.error("���� <strong>"+e.name+"</strong> ����� ������������ ���"):void 0!=error_messages_by_codes[t]&&callbacks.error(error_messages_by_codes[t])},upload_error_handler:function(e,t,n){callbacks.error("����������� ������")},upload_success_handler:function(file,data,response){var _data="object"==typeof data?data:eval("("+data+")");_data.response.error?callbacks.error(_data.response.error.message):callbacks.success(file,_data,response)}})},this.startUpload=function(e){swfu.startUpload()},this.cancelUpload=function(){swfu.cancelUpload()},this.stopUpload=function(){swfu.stopUpload()}};PostImageUploader.prototype=new AjaxImageUploader,PostImageUploader.prototype.setMethod("wall.uploadImage"),AlbumUploader.prototype=new AjaxImageUploader,AlbumUploader.prototype.setMethod("album.uploadImage"),guildAvatarUploader.prototype=new AjaxImageUploader,guildAvatarUploader.prototype.setMethod("game.uploadGameNetGuildImage"),function(e){function t(e){l=e.mid||0,c=e.appId||2452628,h=e.registrationMarker||""}function n(e,t){console.info("Login in "+e),o("login",t)}function i(e,t){console.info("Link account with "+e),o("link",t)}function o(e,t){var n,i,t=t||document.location.href;return-1!==h.indexOf("#")&&-1!==t.indexOf("#")&&(console.warn("Anchor already exist!"),t=t.substring(0,t.indexOf("#"))),i=s()+"/social?rp="+encodeURIComponent(t)+"&mid="+l+"&action="+e+"&rm="+h,n="https://api.vk.com/oauth/authorize?client_id="+c+"&scope="+u+"&display=page&redirect_uri="+encodeURIComponent(i),r()?void(document.location.href=n):void a(790,585,n)}function r(){return-1!==navigator.userAgent.toLowerCase().indexOf("gna")}function s(){var e=window.location.hostname.split("."),t=e.length,n="dev"==e[t-1],i="ru"==e[t-1]&&"gamenet"==e[t-2]&&"stg"==e[t-3];return n?window.location.protocol+"//gnlogin."+e[t-2]+"."+e[t-1]:i?window.location.protocol+"//gnlogin.stg.gamenet.ru":"//gnlogin.ru"}function a(e,t,n){if(d)return void d.focus();var i="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,o="undefined"!=typeof window.screenY?window.screenY:window.screenTop,r="undefined"!=typeof window.outerWidth?window.outerWidth:document.body.clientWidth,s="undefined"!=typeof window.outerHeight?window.outerHeight:document.body.clientHeight-22,a=parseInt(i+(r-e)/2,10),l=parseInt(o+(s-t)/2.5,10),c=/msie/.test(navigator.userAgent.toLowerCase()),u="location=no,toolbar=no,directories=no,menubar=no,resizable=no,width="+e+",height="+t+",left="+a+",top="+l;return d=window.open(n,"gn_vk_auth",u),null===d?void alert("���! ��������, ��� �����, ��� � ��� �� ���������� ������� �������� �����������. ���������� ��� ���!"):(d.focus(),void(p=setInterval(function(){var e=!0;try{e=!d||!d.top}catch(t){}if(e&&(d=null,clearInterval(p)),c)try{d&&d.location&&(window.location.href=d.location.href,d.close())}catch(t){}},10)))}var l=0,c=2452628,u="friends, offline",d=null,p=null,h="";e.GN={init:t,login:n,linkAccount:i}}(window),window.GN||console.error("Fail to initialize GameNet login object"),function(e){e.fn.copyrightYear=function(){return this.each(function(){var t,n=e(this),i=n.html(),o=new Date,r=o.getFullYear();t=i!=r?i+"&#160;&#8211;&#160;"+r:i,n.html("&#169;&#160;"+t+"&#160;")})},e(function(){"use strict";e(".js-copyright-year").copyrightYear()})}(jQuery),function(e){e.fn.gnTime=function(t){var n=["������","�������","�����","������","���","����","����","�������","��������","�������","������","�������"],i=function(e){var t=new Date,i=t.getTime(),o=(i-e.getTime())/1e3,r="";if(60>=o)r="����� ������ �����";else if(o>60&&3600>o)r=Math.floor(o/60)+" ���. �����";else if(o>=3600&&86400>o)r=Math.floor(o/3600)+" �. �����";else{var s=e.getHours(),a=10>s?"0"+String(s):s,l=e.getMinutes(),c=10>l?"0"+String(l):l,u=Math.floor(t/864e5)-Math.floor(e/864e5);r=1==u?"����� � "+a+":"+c:2==u?"��������� � "+a+":"+c:e.getDate()+" "+n[e.getMonth()]+" "+e.getFullYear()+" � "+a+":"+c}return r},o=function(e){return timeString="",timeString+=("0"+e.getDate()).slice(-2)+" ",timeString+=n[e.getMonth()]+" ",timeString+=e.getFullYear()+"�. ",timeString+=("0"+e.getHours()).slice(-2)+":",timeString+=("0"+e.getMinutes()).slice(-2)+":",timeString+=("0"+e.getSeconds()).slice(-2),timeString},r=null;if("function"==typeof this){r=t?new Date(1e3*t):new Date;var s=i(r),a=o(r);return{gnTime:s,fullTime:a}}return e(this).each(function(){r=e(this).html().match(/^[0-9]{10}$/)?new Date(1e3*e(this).html()):t?new Date(1e3*t):new Date;var n=i(r),s=o(r);e(this).html('<span class="gnDate">'+n+'</span><span class="fullDate">'+s+"</span>")}),this},e.gnTime=e.fn.gnTime}(jQuery),jQuery(function(e){e("body").delegate(".js_comment_button_show_stream textarea","focus",function(){e(this).parents(".js_comment_button_show").find(".js_wall_modul_action").show()}),e("body").delegate(".js_comment_button_show_stream textarea","focusout",function(){""==e(this).val()&&(e(this).parents(".js_comment_button_show").find(".js_wall_modul_action").hide(),e(this).css("height","15px"))}),e(".b_stream_message .spoiler_title").live("click",function(){var t=e(this).closest(".spoiler");e("> .spoiler_text",t).slideToggle(),t.toggleClass("spoiler_open")})}),$(function(){setStatesForCommentForm()});var offset=50,sM=0;document.write(''),$(function(e){e(document).click(function(t){(1==t.which&&e(".js_stage").find(".js_stage_box_img").size()>0||0==t.button&&e(".js_stage").find(".js_stage_box_img").size()>0)&&stageClose()}),e(".js_stage_close").live("click",function(){stageClose()}),e(".js_stage_box_arrow_prev, .js_stage_box_arrow_next").live("click",function(t){var n=e(this).attr("data-image"),i=e(this).attr("data-album-id"),o=e(this).attr("data-album");stageShowSend(n,i,o,t)}),e(document).keydown(function(e){27==e.keyCode&&(window.popUp.itShowing()?window.popUp.hide():""!==window.Layout.model.popupName()?window.Layout.model.closePopup():stageClose())}),e(".js-images-post, .js-popup-wrapper").live("click",function(e){e.stopImmediatePropagation()})});var hStageLast=500;!function(e){function t(e){l=e.apiHost||"https://gnapi.com",c=e.userId||"",u=e.appKey||"",p=e.serviceId||"",y=e.placeId||null,m=e.successCallback||function(){},g=e.cancelCallback||function(){},v=e.closeCallback||function(){},d=$($("#paymentPopup").html())}function n(t,n,i){_=!1,d.find("#payment_popup_loader").show(),d.find("#payment_popup_item").hide(),d.find("#payment_popup_addmoney").hide(),d.find(".payment_popup_item_info").show(),d.find(".payment_popup_result").hide(),d.find(".payment_popup_result").text(""),y?($("#"+y).html(d),o(t,n,i)):e.popUp.show(d,o(t,n,i)),$(".js-cancel-order").on("click",function(){_!==!0&&g(h.id,h.serverId)})}function i(){y||e.popUp.hide(),v&&v()}function o(e,t,n){var i=[r({method:"user.getSpeedyInfo"}),r({method:"games.getItem",itemId:e,serviceId:p})];n&&i.push(r({method:"user.getProfile",profileId:n,shortInfo:1})),$.when.apply($,i).then(function(e,i,o){var r,a,l,c=i[0];return f=e[0].response.speedyInfo.balance,$(".js_to_balance").text(f),void 0!==c.error?($("#payment_popup_error").text("������ � ������ �� �������. ����������, ���������� ��������� ������� ��� ���"),d.find("#payment_popup_loader").hide(),d.find("#payment_popup_item").hide(),void d.find("#payment_popup_error").show()):(h=c.response,h.serverId=t,h.receiverId=n||null,r=(h.cost-f).toString(),a='<iframe id="paymentGateway_x" src="/money/popup/?amount='+r+'" width="770px" height="585px" align="left"/>',d.find("#payment_popup_header_icon_value").attr("src",h.imageSmall),d.find("#payment_popup_header_name").text(h.name),d.find("#payment_popup_header_name_extended").text(h.nameExtended),d.find(".payment_popup_item_cost_value").text(h.cost),d.find("#payment_popup_item_description").text(h.description),d.find("#payment_popup_item_image_value").attr("src",h.imageLarge),n&&(l=o[0].response.userInfo[0].shortInfo,d.find("#payment_popup_header_receiver_value").attr("href",l.profile).text(l.nickname),d.find("#payment_popup_header_receiver").show()),null!==h.background&&d.find("#payment_popup_content").css("background","url("+h.background+") 10px 0 no-repeat"),d.find("#payment_popup_loader").hide(),d.find("#payment_popup_header").show(),0>=r?d.find("#payment_popup_item").show():(d.find("#payment_popup_addmoney").html(a),d.find("#payment_popup_addmoney").show()),void d.find(".payment_popup_buy_button").on("click",s))})}function r(e){return e.userId=c,e.appKey=u,e.format="json",$.getJSON(l,e)}function s(){var e={method:"billing.purchaseItem",version:2,gameId:h.gameId,itemId:h.id,serverId:h.serverId,customParam:'<selling><item location="site"/></selling>'};h.receiverId&&(e.receiverId=h.receiverId),d.find("#payment_popup_loader").show(),d.find("#payment_popup_item").hide(),d.find("#payment_popup_loader").show(),r(e).then(function(e){var t,n=-7,i=-50,o=-60;if(e.response.result===!1){if(e.response.code==n)return void Payment.showPaymentPopup(h.gameId);t=e.response.code===i?"� ��� ��� ���� ����� �������. ��� ��������� ������� ����������.":e.response.code===o?"� ��� �������� ��� �������, ��� �� �� ����� �������� � �������.":"�� ������� ��������� �������. ����������, �������� �������� � ���������� ��� ���.",$(".payment_popup_result").text(t),$(".payment_popup_result").show(),$(".payment_popup_item_info").hide()}else $(".js_to_balance").text(f-h.cost),d.find(".payment_popup_result").html(h.textAfterBuy),$(".payment_popup_result").show(),$(".payment_popup_item_info").hide(),e.response.promoKey&&d.find(".payment_popup_item_info").append('<div class="payment_popup_item_promokey">'+e.response.promoKey+"</div>"),_=!0,m(h.id,e.response.docId,h.serverId);d.find("#payment_popup_loader").hide(),d.find("#payment_popup_item").show()})}function a(e){var t,n=document.location.protocol+"//"+document.location.hostname;if(e.origin===n)switch(t=JSON.parse(e.data),t.event){case"onPaymentSuccess":t.result===!0&&r({method:"user.getSpeedyInfo"}).then(function(e){return void 0===e.response.speedyInfo?void alert("��������� ������, ���������� �������� ��������"):(f=e.response.speedyInfo.balance,$(".js_to_balance").text(f),d.find("#payment_popup_addmoney").empty(),d.find("#payment_popup_addmoney").hide(),void d.find("#payment_popup_item").show())})}}var l,c,u,d,p,h,f,m,g,v,_,y;window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a),e.Payment={init:t,close:i,showPaymentPopup:n}}(window),window.Payment||console.error("Fail to initialize GameNet payment object");var CSS3support=function(){var e=document.documentElement;return{transition:function(){return void 0!==e.style.WebkitTransition||void 0!==e.style.MozTransition||void 0!==e.style.OTransition||void 0!==e.style.transition},transitionEndEvent:"transitionend oTransitionEnd webkitTransitionEnd"}}(),newAchievements=function(){var e,t,n={init:function(){t=[],e=$(".js-new-achs-list")},show:function(){$.ajax({url:"/profile/getNewAchievements",dataType:"html",type:"POST",success:function(t){if($(t).find(".js-new-achievement").size()>0){0==e.find(".js-new-achievement").size()?(e.removeClass("g-hidden").append($(t).html()),function o(){function t(){i=setTimeout(function(){n.animate({opacity:0},500,function(){n.remove(),clearTimeout(i);var t=setTimeout(function(){e.find(".js-new-achievement").size()>0?o():e.addClass("g-hidden"),clearTimeout(t)},1e3)})},1e4)}var n=e.find(".js-new-achievement").eq(0);n.removeClass("g-hidden").css({opacity:0}).animate({opacity:1},500);var i;t()}()):e.removeClass("g-hidden").append($(t).html());var n=$(".js-footer").outerHeight(),i=function(){var t=e.offset().top+e.outerHeight(),i=$(document).height(),o=i-t;e.css(n>i-t?{"padding-bottom":n-o+10+"px"}:{"padding-bottom":"10px"})};i(),$(window).bind("resize scroll",i)}}})}};return n}(),eclipse=function(){var e,t;return{init:function(){e=$(".js-eclipse"),t=!0},show:function(){t&&e.addClass("g-show")},hide:function(){t&&e.removeClass("g-show")}}}(),popUp=function(){var e,t,n,i,o=!1,r=CSS3support.transitionEndEvent,s={init:function(){t=$(".js-popup-wrapper"),e=!0},initData:function(e){e instanceof jQuery?t.append(e):t.html(e),n=t.find(".js-popup"),i=t.find(".js-popup-closebtn"),i.click(function(){s.hide()})},assign:function(e){this.initData(e)},show:function(e,i){eclipse.show(),o=!0,t.removeClass("g-hidden"),this.initData(e),n.bind(r,function(){n.unbind(r)}),n.addClass("transition-show-from").addClass("transition"),i&&i(n)},hide:function(){eclipse.hide(),o=!1,n.removeClass("transition").removeClass("transition-hide-to"),t.empty().addClass("g-hidden")},itShowing:function(){return o}};return s}(),experience=function(){var e;return{init:function(){e=$(".js-new-exp-flasher")},show:function(t){var n=e.find(".js-new-exp-flasher-obj").eq(0).text("+ "+t+" exp"),i=n.clone().removeClass("g-hidden").appendTo(e);i.css({top:"100px",opacity:0}).animate({top:"33px",opacity:1},700,"linear",function(){i.animate({top:"-100px",opacity:0},1300,"linear",function(){i.css({top:"100px",opacity:0}),i.remove()})})}}}(),tF=0,tFflag=!1;jQuery(function(e){e(".js_premium_button").click(function(){function t(t,i,o,r,s){if(1==t.result){if(e(".js_premium_buy_window, .js_premium_buy_box").addClass("g-hidden"),0!=n?(a="successBuyForFriend",e(".js_premium_buy_for_good").removeClass("g-hidden"),e(".js_premium_buy_for_pers").html(n)):e(".js_premium_buy_good").removeClass("g-hidden"),"aika"==i){var a;a=0!=n?"successBuyForFriend":"successBuyForOwner",setInviteRegistration(o,r,s,a)}setTimeout(function(){popUp.hide()},3e3)}else 12==t.result?(e(".js_premium_buy_window, .js_premium_buy_box").addClass("g-hidden"),e(".js_premium_buy_for_bad").removeClass("g-hidden")):13==t.result?(e(".js_premium_buy_window, .js_premium_buy_box").addClass("g-hidden"),e(".js_premium_buy_bad_char").removeClass("g-hidden")):2==t.result?(e(".js_premium_buy_window, .js_premium_buy_box").addClass("g-hidden"),e(".js_premium_timeout").removeClass("g-hidden")):3==t.result?(e(".js_premium_buy_window, .js_premium_buy_box").addClass("g-hidden"),e(".js_premium_buy_nomoney").removeClass("g-hidden")):4==t.result?(e(".js_premium_buy_window, .js_premium_buy_box").addClass("g-hidden"),e(".js_premium_buy_target_nomoney").removeClass("g-hidden")):(e(".js_premium_buy_window, .js_premium_buy_box").addClass("g-hidden"),e(".js_premium_buy_bad").removeClass("g-hidden"))}var n=0;popUp.show(e(".js_premium_buy").html()),e(".js_premium_buy_box").addClass("g-hidden"),e(".js_premium_buy_window").removeClass("g-hidden"),e(".js_premium_buy_again").click(function(){e(".js_premium_buy_box").addClass("g-hidden"),e(".js_premium_buy_window").removeClass("g-hidden")}),e(".js-popup-closebtn").click(function(){e(".js_premium_buy_error").empty(),n=0,e(".js_premium_buy_for_pers").val("").html("")}),e(".js_premium_buy_yes_aika").ajaxForm({dataType:"text json",success:function(n){var i=e(".js_premium_button").attr("data-api"),o=e(".js_premium_button").attr("data-userid"),r=e(".js_premium_button").attr("data-appkey");console.log(i,o,r),t(n,"aika",i,o,r)}}),e(".js_premium_buy_for_button").click(function(){e(".js_premium_buy_window").addClass("g-hidden"),e(".js_premium_buy_for").removeClass("g-hidden"),e(".js_premium_buy_for_pers").val("").focus()}),e(".js_premium_buy_yes_aika_for").ajaxForm({beforeSubmit:function(){var t=e(".js-popup-wrapper").find(".js-premium-error-pers"),i=e(".js-popup-wrapper").find(".js-premium-error-nickname");t.hide(),i.hide(),n=e(".js-popup-wrapper").find(".js_premium_buy_for_pers").val();var o=e(".js-popup-wrapper").find(".js_premium_buy_for_nickname").val();return""==n||""==o?(""==n&&t.show(),""==o&&i.show(),!1):void 0},dataType:"text json",success:function(i){var o=e(".js_premium_button").attr("data-api"),r=e(".js_premium_button").attr("data-userid"),s=e(".js_premium_button").attr("data-appkey");t(i,"aika",o,r,s),e(".js-popup-wrapper").find(".js_premium_buy_for_pers").val(""),n=0}}),e(".js_premium_buy_yes_bs").ajaxForm({beforeSubmit:function(t){var n=e(".js-popup-wrapper").find(".js-premium-error-server");n.hide();for(i in t)if("server"==t[i].name&&"-1"==t[i].value)return n.show(),!1},dataType:"text json",success:function(e){t(e,"bs")}})})}),$(function(e){experience.init(),eclipse.init(),popUp.init(),friends_random(),user_list_popup(),e(window).resize(popup_w_h),"#avatar"===window.location.hash&&openUploadAvatarWindow();var t=e(".b_submenu");t.find(".b_submenu__item:even").addClass("dark"),t.find(".b_submenu__item:last").addClass("last"),e(".avatar__item_t3").each(function(t){e.browser.msie&&e.browser.version<9&&e(this).find("img").hover(function(){e(this).parent().find(".avatar__hover").show().css("display","block")},function(){e(this).parent().find(".avatar__hover").hide()})}),e(".js-replace-space").each(function(){var t=e(this).html();t=t.replace(/(\d{1,3})(?=((\d{3})*)$)/g," $1"),e(this).html(t)}),e(".js-button-agree-friendship").live("click",function(t){var n=e(this)[0].ondblclick();t.stopPropagation(),FriendsList.agreeFriend(n.id,n.nickname)}),e(".js-button-discard-friendship").live("click",function(t){var n=e(this)[0].ondblclick();t.stopPropagation(),FriendsList.discardFriend(n.id,n.nickname)}),e(".b_avatar_edit").on("click",openUploadAvatarWindow),e(".b_profile_premium_gift").on("click",function(){return e.publish("globalAction","buyPremium"),!1}),e("textarea.autoresize").textareaAutoSize()}),$(function(){
function e(e){Payment.init({apiHost:window.domainData.api,serviceId:"0",userId:window.userData.userId,appKey:window.userData.appKey,successCallback:function(){setTimeout(Payment.close,3e3)}}),Payment.showPaymentPopup("30",0,e)}$.subscribe("globalAction",function(t){if("buyPremium"==t){var n=$(".b_profile_premium_gift");n&&e(n.attr("data-receiver-id"))}})}),$(window).load(function(){function e(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}"gift"===e("action")&&$.publish("globalAction","buyPremium")}),$(function(e){function t(e){d.css({top:""+(r.height()-e+40)+"px",left:""+(s-230)+"px"})}function n(e){o/2>=e&&(a.css({display:"none",opacity:0,"z-index":"5","background-size":"100px 0",cursor:"default"}),d.css({display:"none"}),e>f&&a.removeClass("_has-down")),e>o/2&&e<o+i.height()/2&&(a.css({opacity:m=1>=m?e/(o+i.height()/2):1,display:"block","z-index":5,cursor:"pointer","background-size":"100px 100%"}),d.css({display:"block"}),c.text("������"),u.removeClass("_arrow-rotate")),e>o+i.height()/2&&a.css({"z-index":5,opacity:1,cursor:"pointer"}),0==e&&(a.hasClass("_has-down")?(a.css({"z-index":"5",opacity:1,"background-size":"50px 100%",cursor:"pointer",display:"block"}),c.text(""),u.addClass("_arrow-rotate"),d.css({display:"block"})):(a.css({display:"none",opacity:0,"z-index":"5","background-size":"100px 0%",cursor:"default"}),d.css({display:"none"}))),t(e),f=e}var i=e(window),o=i.height(),r=e(".user_content__panel"),s=(i.width()-1e3)/2+220,a=e("#back-to-top"),l=a.find(".b-back-to-top__link"),c=l.find(".b-back-to-top__link-text"),u=l.find(".b-back-to-top__link-arrow"),d=e("#back-to-top-after-menu"),p=i.scrollTop(),h=0,f=0,m=0;return r.height()?(a.width(s),n(p),i.scroll(function(){p=i.scrollTop(),n(p)}),i.resize(function(){s=(i.width()-1e3)/2+220,a.width(s),t(p)}),a.on("click",function(){e(this).hasClass("_has-down")?(e(this).removeClass("_has-down").css({opacity:1,display:"block","z-index":5,cursor:"pointer","background-size":"100px 100%"}),c.text("������"),u.removeClass("_arrow-rotate"),i.scrollTo(h)):(e(this).addClass("_has-down"),c.text(""),h=i.scrollTop(),i.scrollTo(0))}),void d.on("click",function(){a.trigger("click")})):!1}),$.ajaxSetup({statusCode:{401:function(){console.warn("Session expire"),window.location.reload()}}});